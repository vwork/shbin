<div id='j7uziu3gc941sfl'>
<style type='text/css' id='isnq4ils3v1sfm'>
/* contextMenu */
.contextMenu,
.modalDialog {
position: absolute;
left: 0;
top: 0;
right: 0;
bottom: 17mm;
background-color: black;
}
.translucent .application.window_app.layout_vertical.dialogContext .contextMenu,
.translucent .application.window_app.layout_vertical.dialogAskToLinkDevice .askToLinkDevice ,
.translucent .application.window_app.layout_vertical.dialogAskIfDeviceHasBeenLinked .askIfDeviceHasBeenLinked,
.translucent .application.window_app.layout_vertical.dialogAskReset .askReset,
.translucent .application.window_app.layout_vertical.dialogErrorNoCarrier .errorNoCarrier,
.translucent .application.window_app.layout_vertical.dialogStateWait .stateWait,
.translucent .application.window_app.layout_vertical.dialogStopDeviceNotification .stopDeviceNotification,
.translucent .application.window_app.layout_vertical.dialogAskNewName .askNewName ,
.translucent .application.window_app.layout_vertical.dialogServiceItem .serviceItem {
top: 5mm;
}
/* startupScreen */
.startupScreen {
padding-top: 15mm;
background-color: black;
position: absolute;
left: 0;
right: 0;
top: 0;
bottom: 0;
font-size: 17pt;
text-align: center;
}
.loadingScreen {
position: absolute;
left: 0;
top: 0;
right: 0;
bottom: 0;
background-color: black;
padding-top: 50%;
text-align: center;
font-size: 10mm;
background-image: url( /touch.svg );
background-repeat: no-repeat;
background-position: center;
}
.askCredentials {
display: none;
position: absolute;
left: 0;
top: 0;
right: 0;
bottom: 0;
background-color: black;
text-align: center;
font-size: 150%;
}
input {
font-size: 10mm;
}
.pageRunning .startupScreen,
.pageRunning .loadingScreen,
.pageRunning .contextMenu,
.pageRunning .modalDialog {
-webkit-transition-duration: 0.5s;
-webkit-transition-property: opacity;
transition-duration: 0.5s;
transition-property: opacity;
}
.showLogin .askCredentials {
display: initial;
}
.JSONloaded .loadingScreen,
.alreadyRun .startupScreen,
.application .contextMenu,
.application .modalDialog {
display: none;
/*pointer-events: none;*/
/*opacity: 0;*/
}
.JSONloading .loadingScreen,
.firstRun .startupScreen,
.dialogContext .contextMenu,
.dialogAskToLinkDevice .askToLinkDevice,
.dialogAskIfDeviceHasBeenLinked .askIfDeviceHasBeenLinked,
.dialogAskReset .askReset,
.dialogErrorNoCarrier .errorNoCarrier,
.dialogStateWait .stateWait,
.dialogStopDeviceNotification .stopDeviceNotification,
.dialogAskNewName .askNewName ,
.dialogServiceItem .serviceItem {
display: block;
/*pointer-events: all;*/
/*opacity: 1;*/
}
</style>
<style type='text/css' id='j9oj3deuhif1sfn'>@font-face {
font-family: "Web App";
/*src: url("web-app.eot");*/
src: url("web-app.eot?#iefix") format("embedded-opentype"),
url("web-app.woff") format("woff"),
url("web-app.ttf") format("truetype"),
url("web-app.svg#JosefinSansLight") format("svg"),
url("web-app.otf") format("opentype");
/*font-weight: normal;*/
/*font-style: normal;*/
}
/* no spaces by default. do not change this section. do change next ones. */
body { margin: 0; padding: 0; }
table { border-spacing: 0; border-collapse: collapse; }
td { padding: 0; }
/* custom settings */
body {
font-family: 'Myriad Set Pro', 'Lucida Grande', 'Helvetica Neue', Helvetica, Arial, Verdana, sans-serif;
/*font-family: 'Helvetica Neue';*/
/*font-size: 22px;*/
font-style: normal;
font-weight: 200;
background-color: #131313;
color: white;
}
.application, .top, .menu, .bottom, .help, .logo, .back, .icon {
overflow: hidden;
}
.application {
position: absolute;
left: 0;
top: 0;
right: 0;
bottom: 0;
}
.marginTop, .marginBottom {
display: none;
}
.top, .bottom, .menu {
position: absolute;
left: 0;
width: 100%;
}
.top {
top: 0;
}
.bottom {
bottom: 0;
}
/*.translucent .application.window_app.layout_vertical .menu {
height: 74.5%;
}
.translucent .application.window_app.layout_vertical .marginTop {
display: block;
height: 1.5%;
}*/
.top, .menu, .bottom {
/*-webkit-transition-delay: 0s;*/
/*-webkit-transition-duration: 0.2s;*/
/*-webkit-transition-timing-function: linear;*/
/*-webkit-transition-property: display, height;*/
/*background-color: blue;*/
}
/*.layout_horizontal .top {
display: none;
height: 0%;
}
.layout_horizontal .bottom {
height: 0%;
}
.layout_horizontal .menu {
height: 100%;
}*/
.menu img {
height: 100%;
width: 100%;
}
.help, .logo, .back {
position: absolute;
width: 33.333%;
top: 0;
bottom: 0;
text-align: center;
background-repeat: no-repeat;
background-position: center;
}
.help {
left: 0%;
}
.logo {
left: 33.333%;
}
.back {
left: 66.666%;
}
.command {
display: block;
font-size: 20pt;
margin-top: 7mm;
text-align: center;
text-decoration: none;
}
.startupScreen .houseTemplate {
text-align: left;
margin-top: 1em;
margin-right: 1em;
cursor: pointer;
}
.place {
position: absolute;
top: 0;
bottom: 0;
left: 0;
right: 0;
display: none;
overflow: visible;
}
.placeContent {
position: absolute;
/*width: 100%;*/
/*height: 100%;*/
-webkit-transition-duration: 0.10s;
-webkit-transition-timing-function: linear;
-webkit-transition-property: -webkit-transform;
transition: transform 0.10s linear;
}
.placeContent.panning {
-webkit-transition-duration: 0.02s;
transition-duration: 0.02s;
}
.icon {
position: absolute;
}
.icon .image {
position: absolute;
left: 0.5em;
top: 0.5em;
right: 0.5em;
bottom: 2.5em;
}
.icon img {
position: absolute;
left: 0;
top: 0;
right: 0;
bottom: 0;
}
.icon .iconLabel {
position: absolute;
width: 100%;
height: 1.5em;
/*height: 5mm;*/
bottom: 0.5em;
text-align: center;
}
.icon .deleteSign {
position: absolute;
}
.app_labels_false .icon .iconLabel { display: none; }
.app_labels_false .icon .image { bottom: 0.5em; }
.app_editing_true .icon.icon_moving_false .image { left: 1em; right: 1em; }
.deleteSign {
width: 2em;
height: 2em;
top: 0;
right: 0;
}
@media screen and ( orientation: landscape ) {
.room { display: none !important; }
}
img.error {
visibility: hidden;
}
img.errorneous {
background-color: #444;
}
.icon.onning {
/*background-color: green;*/
}
.icon.offing {
/*background-color: green;*/
}
/*
.icon.onning img.on, .icon.offing img.on, .icon.onning img.off, .icon.offing img.off {
-moz-animation-duration: 1.5s;
-webkit-animation-duration: 1.5s;
animation-duration: 1.5s;
-moz-animation-name: onning;
-webkit-animation-name: onning;
animation-name: onning;
-moz-animation-iteration-count: infinite;
-webkit-animation-iteration-count: infinite;
animation-iteration-count: infinite;
}
.icon.offing img.on {
-moz-animation-name: offing;
-webkit-animation-name: offing;
animation-name: offing;
}
.icon.onning img.off {
-moz-animation-name: onning_off;
-webkit-animation-name: onning_off;
animation-name: onning_off;
}
.icon.offing img.off {
-moz-animation-name: offing_off;
-webkit-animation-name: offing_off;
animation-name: offing_off;
}
@-moz-keyframes onning { from { opacity: 0; } to { opacity: 1; } }
@-webkit-keyframes onning { from { opacity: 0; } to { opacity: 1; } }
@keyframes onning { from { opacity: 0; } to { opacity: 1; } }
@-moz-keyframes offing { from { opacity: 1; } to { opacity: 0; } }
@-webkit-keyframes offing { from { opacity: 1; } to { opacity: 0; } }
@keyframes offing { from { opacity: 1; } to { opacity: 0; } }
@-moz-keyframes onning_off { from { opacity: 0.333; } to { opacity: 0; } }
@-webkit-keyframes onning_off { from { opacity: 0.333; } to { opacity: 0; } }
@keyframes onning_off { from { opacity: 0.333; } to { opacity: 0; } }
@-moz-keyframes offing_off { from { opacity: 0; } to { opacity: 0.333; } }
@-webkit-keyframes offing_off { from { opacity: 0; } to { opacity: 0.333; } }
@keyframes offing_off { from { opacity: 0; } to { opacity: 0.333; } }
*/
img.on, img.off {
-webkit-transition: opacity 0.4s;
transition: opacity 0.4s;
}
img.wait {
-webkit-transition: opacity 1s;
transition: opacity 1s;
visibility: hidden;
opacity: 0;
}
.icon.onning img.wait, .icon.offing img.wait {
visibility: visible;
opacity: 1;
}
.modalDialog {
font-size: 20pt;
text-align: center;
}
</style>
<style type='text/css' id='j7uveb0kok91sfo'>.application, .application table, a, a:visited {
color: #03EADC;
}
.top {
height: 17mm;
}
.bottom {
height: 17mm;
}
.menu {
top: 17mm;
bottom: 17mm;
}
.top, .top table {
font-size: 20pt;
font-variant: small-caps;
}
.top, .contextMenu, .menu {
/*border-bottom: 1px solid #03EADC;*/
}
.top, .bottom {
background-color: #212121;
/*background-color: rgba( 3, 234, 220, 0.3 );*/
/*background-color: rgba( 255, 255, 255, 1 );*/
}
.top, .bottom, .top table, .bottom table {
color: #03EADC;
-webkit-transition: color 0.3s;
transition: color 0.3s;
}
.appDisconnected .top .self .self {
position: relative;
}
.appDisconnected .top .self .self::before {
content: "";
color: yellow;
background-color: red;
display: block;
position: absolute;
width: 2mm;
left: -3mm;
height: 2mm;
bottom: 50%;
border-radius: 1mm;
}
/*
.top .self .self {
background-image: url( /images/menu/logo.svg );
background-repeat: no-repeat;
background-position: center;
}
.top .self .self {
position: relative;
}
.top .self .self::before {
content: "";
color: yellow;
display: block;
position: absolute;
width: 20mm;
left: -20mm;
height: 20mm;
background-image: url( /images/wait.0.svg );
background-repeat: no-repeat;
background-position: center;
background-size: 100%;
}
*/
.icon.errorneous {
color: red;
}
.help {
background-image: url( /images/menu/help.svg );
}
.logo {
background-image: url( /images/menu/logo.svg );
}
.back {
background-image: url( /images/menu/back.svg );
}
.command.disabled {
color: #777;
}
.command.itemHidden {
display: none;
}
.button {
display: block;
margin-top: 1em;
text-decoration: none;
font-size: 150%;
}
.place {
-webkit-transition: -webkit-transform 0.2s;
transition: transform 0.2s;
}
.icon {
-webkit-transition-duration: 0.3s;
transition-duration: 0.3s;
-webkit-transition-property: -webkit-transform, transform, left, top, width, height, color;
transition-property: -webkit-transform, transform, left, top, width, height, color;
}
.icon.icon_moving_true {
-webkit-transform: scale( 1.3 );
transform: scale( 1.3 );
}
.icon.icon_moving_true.icon_moved_true {
-webkit-transition-property: none;
transition-property: none;
}
.icon .deleteSign {
margin-right: 0.4em;
margin-top: 0.4em;
background-color: #03EADC;
opacity: 0.7;
border-radius: 50%;
-webkit-transition-duration: 0.3s;
-webkit-transition-property: -webkit-transform, transform, opacity;
transition-duration: 0.3s;
transition-property: -webkit-transform, transform, opacity;
}
.icon .deleteSign:before, .icon .deleteSign:after {
content: " ";
position: absolute;
width: 74%;
height: 16%;
left: 14%;
top: 42%;
background-color: white;
-webkit-transform: rotate( 45deg );
transform: rotate( 45deg );
}
.icon .deleteSign:after {
-webkit-transform: rotate( -45deg );
transform: rotate( -45deg );
}
.app_editing_false .icon .deleteSign, .icon.icon_moving_true .deleteSign {
pointer-events: none;
opacity: 0;
-webkit-transform: scale( 0.001 );
transform: scale( 0.001 );
}
</style>
<template class='Command' data-callback='' data-msg='' data-url='' data-isVisible='' data-isEnabled='' id='j1owsh5k1i81sfr'>
<a class='command' href='javascript:void(0)' target='_self' id='j9ph2zu8p661sfs'></a>
<script data-want-template-instance=''>"use strict";
!function $__1() {
  var $__2 = $__GET_TEMPLATE_INSTANCE__$($__1);
  var $__3 = $__2.$__TEMPLATE_INSTANCE__$;
  var $__0 = $__3.j1owsh5k1i81sfr;
  var $__4 = window.j5bc2y4cw7j1sfq;
  var $__5 = $__3.$__DATASET__$;
  if ($__5 === undefined)
    $__5 = $__3.$__DATASET__$ = {};
  var app = $__5 == null ? undefined : $__5.app;
  if (app === undefined)
    app = $__4.getAttribute("data-app") || app;
  if (app === undefined)
    app = null;
  var $__6 = $__3.j1owsh5k1i81sfr;
  var $__7 = $__2.$__DATASET__$;
  if ($__7 === undefined)
    $__7 = $__2.$__DATASET__$ = {};
  var callback = $__7 == null ? undefined : $__7.callback;
  if (callback === undefined)
    callback = $__6.getAttribute("data-callback") || callback;
  if (callback === undefined)
    callback = null;
  var msg = $__7 == null ? undefined : $__7.msg;
  if (msg === undefined)
    msg = $__6.getAttribute("data-msg") || msg;
  if (msg === undefined)
    msg = null;
  var url = $__7 == null ? undefined : $__7.url;
  if (url === undefined)
    url = $__6.getAttribute("data-url") || url;
  if (url === undefined)
    url = null;
  var isVisible = $__7 == null ? undefined : $__7.isVisible;
  if (isVisible === undefined)
    isVisible = $__6.getAttribute("data-isVisible") || isVisible;
  if (isVisible === undefined)
    isVisible = null;
  var isEnabled = $__7 == null ? undefined : $__7.isEnabled;
  if (isEnabled === undefined)
    isEnabled = $__6.getAttribute("data-isEnabled") || isEnabled;
  if (isEnabled === undefined)
    isEnabled = null;
  var command = $__2.j9ph2zu8p661sfs;
  !function() {
    var initial = command.className.split(/\s+/);
    var enabled = (url || callback) && (!isEnabled || isEnabled());
    CS.watch((function() {
      return command.className = initial.concat([enabled ? "enabled" : "disabled", msg, isVisible == null || isVisible() ? "itemVisible" : "itemHidden"]).join(" ");
    }));
    if (url && !callback) {
      command.setAttribute("href", url);
      command.setAttribute("rel", "external");
      command.setAttribute("target", "_blank");
    } else
      CS.onTouch(command, (function(event) {
        event.preventDefault();
        if (callback && enabled) {
          app.dialog = "";
          callback();
        }
      }));
    CS.content(command, (function() {
      return app.message(msg);
    }));
  }.call($__0);
}();
</script>
</template><template class='ContextMenu' id='j42zgn76isr1sft'>
<div class='contextMenu' id='j32z8jycd8o1sfu'></div>
<script data-want-template-instance=''>"use strict";
!function $__1() {
  var $__2 = $__GET_TEMPLATE_INSTANCE__$($__1);
  var $__3 = $__2.$__TEMPLATE_INSTANCE__$;
  var $__0 = $__3.j42zgn76isr1sft;
  var $__4 = window.j5bc2y4cw7j1sfq;
  var $__5 = $__3.$__DATASET__$;
  if ($__5 === undefined)
    $__5 = $__3.$__DATASET__$ = {};
  var app = $__5 == null ? undefined : $__5.app;
  if (app === undefined)
    app = $__4.getAttribute("data-app") || app;
  if (app === undefined)
    app = null;
  var local = $__5 == null ? undefined : $__5.local;
  if (local === undefined)
    local = $__4.getAttribute("data-local") || local;
  if (local === undefined)
    local = null;
  var Command = $__3.j1owsh5k1i81sfr;
  var $__6 = $__3.j42zgn76isr1sft;
  var $__7 = $__2.$__DATASET__$;
  if ($__7 === undefined)
    $__7 = $__2.$__DATASET__$ = {};
  var contextMenu = $__2.j32z8jycd8o1sfu;
  !function() {
    CS.content(contextMenu, (function() {
      return [CS.importTemplate(Command, {msg: "commandSearchDevices"}), CS.importTemplate(Command, {
        msg: "commandToFavourites",
        isVisible: (function() {
          return !app.editing && app.activePlaceId != app.main;
        }),
        callback: function() {
          app.linkActiveToFavourites();
          app.notification("Добавлено в избранное");
        }
      }), CS.importTemplate(Command, {
        msg: "commandLinkDevice",
        isVisible: (function() {
          return app.placeType == "device";
        }),
        callback: function() {
          app.dialog = "AskToLinkDevice";
        }
      }), CS.importTemplate(Command, {
        msg: "commandAddPlace",
        isVisible: (function() {
          return !app.editing && app.placeType == "place";
        }),
        callback: function() {
          app.addPlace(app.activePlaceId);
        }
      }), CS.importTemplate(Command, {
        msg: "commandAddDevice",
        isVisible: (function() {
          return !app.editing && app.placeType == "place";
        }),
        callback: function() {
          app.addDevice(app.activePlaceId);
        }
      }), CS.importTemplate(Command, {
        msg: "commandMoveIcons",
        isVisible: (function() {
          return app.placeType == "place";
        }),
        callback: function() {
          app.editing = true;
        }
      }), CS.importTemplate(Command, {
        msg: "commandRenameItem",
        isVisible: (function() {
          return !app.editing;
        }),
        callback: function() {
          app.dialog = "AskNewName";
        }
      }), CS.importTemplate(Command, {
        msg: "commandPurgeItem",
        isVisible: (function() {
          return !app.editing && app.activePlaceId != app.main;
        }),
        callback: function() {
          app.purgeItem(app.activePlaceId);
        }
      }), CS.importTemplate(Command, {
        msg: "commandShowLabels",
        isVisible: (function() {
          return !local.labels && app.activePlaceId == app.main;
        }),
        callback: function() {
          local.labels = true;
        }
      }), CS.importTemplate(Command, {
        msg: "commandHideLabels",
        isVisible: (function() {
          return local.labels && app.activePlaceId == app.main;
        }),
        callback: function() {
          local.labels = false;
        }
      }), CS.importTemplate(Command, {
        msg: "commandResetToFactorySettings",
        isVisible: (function() {
          return app.activePlaceId == app.main;
        }),
        isEnabled: (function() {
          return window.location.hostname != "test.sh.neroelectronics.by";
        }),
        callback: function() {
          app.reset();
        }
      })];
    }));
  }.call($__0);
}();
</script>
</template><template data-text='&lt;&lt; ... &gt;&gt;' class='HouseTemplate' id='j5aegrznc6i1sg1'>
<li class='houseTemplate' id='j2z1o5hxeqn1sg2'></li>
<script data-want-template-instance=''>"use strict";
!function $__1() {
  var $__2 = $__GET_TEMPLATE_INSTANCE__$($__1);
  var $__3 = $__2.$__TEMPLATE_INSTANCE__$;
  var $__4 = $__3.$__TEMPLATE_INSTANCE__$;
  var $__0 = $__3.j5aegrznc6i1sg1;
  var $__5 = window.j5bc2y4cw7j1sfq;
  var $__6 = $__4.$__DATASET__$;
  if ($__6 === undefined)
    $__6 = $__4.$__DATASET__$ = {};
  var $__7 = $__4.i8az15vsdy1sfv;
  var $__8 = $__3.$__DATASET__$;
  if ($__8 === undefined)
    $__8 = $__3.$__DATASET__$ = {};
  var $__9 = $__3.j5aegrznc6i1sg1;
  var $__10 = $__2.$__DATASET__$;
  if ($__10 === undefined)
    $__10 = $__2.$__DATASET__$ = {};
  var text = $__10 == null ? undefined : $__10.text;
  if (text === undefined)
    text = $__9.getAttribute("data-text") || text;
  if (text === undefined)
    text = null;
  var houseTemplate = $__2.j2z1o5hxeqn1sg2;
  !function() {
    CS.content(houseTemplate, (function() {
      return text;
    }));
  }.call($__0);
}();
</script>
</template><template class='StartupScreen' id='i8az15vsdy1sfv'>
<div class='startupScreen' id='it1fj3h9lz1sfw'>
<p id='j77ter4qjuu1sfx'>Добро пожаловать в Ваш<br id='j5ylmy5vg471sfy'/>Умный Дом!</p>
<div class='templates' id='j82i6z3e3rt1sfz'>
<p id='j5404xtqjlp1sg0'>Пожалуйста, выберите место, где используется этот пульт:</p>
<noscript data-template-reference='j5aegrznc6i1sg1'></noscript>
<ul class='houseTemplates' id='j3gzwj128o11sg3'></ul>
<script data-want-template-instance=''>"use strict";
!function $__1() {
  var $__2 = $__GET_TEMPLATE_INSTANCE__$($__1);
  var $__3 = $__2.$__TEMPLATE_INSTANCE__$;
  var $__0 = $__2.j82i6z3e3rt1sfz;
  var $__4 = window.j5bc2y4cw7j1sfq;
  var template = $__6;
  var $__5 = $__3.$__DATASET__$;
  if ($__5 === undefined)
    $__5 = $__3.$__DATASET__$ = {};
  var app = $__5 == null ? undefined : $__5.app;
  if (app === undefined)
    app = $__4.getAttribute("data-app") || app;
  if (app === undefined)
    app = null;
  var $__6 = $__3.i8az15vsdy1sfv;
  var $__7 = $__2.$__DATASET__$;
  if ($__7 === undefined)
    $__7 = $__2.$__DATASET__$ = {};
  var templates = $__2.j82i6z3e3rt1sfz;
  var HouseTemplate = $__2.j5aegrznc6i1sg1;
  var houseTemplates = $__2.j3gzwj128o11sg3;
  !function() {
    CS.content(houseTemplates, (function() {
      return app.templates && app.templates.concat([{
        menu: "начать с чистого листа",
        ru: "Мой дом",
        en: "Home"
      }]).map((function(houseTemplate, index) {
        var ret = CS.importTemplate(HouseTemplate, {text: houseTemplate.menu || app.getMessage(houseTemplate)});
        CS.onTouch(ret, (function() {
          return app.setTemplate(houseTemplate);
        }));
        return ret;
      }));
    }));
  }.call($__0);
}();
</script>
</div>
<div class='loading' id='j6xcgba80kb1sg4'></div>
</div>
</template><template class='AskToLinkDevice' id='j8n773da2l91sg5'>
<div class='askToLinkDevice modalDialog' id='j37q5o4dsiz1sg6'>
<p id='j9g9stgnyic1sg7'>Пожалуйста,<br id='j8uviouqirw1sg8'/>переведите устройство в режим<br id='j387zln89zu1sg9'/>программирования и нажмите</p>
<a class='button' href='javascript:void(0)' target='_self' id='j3c5am8lb8l1sga'>здесь</a>
<script data-want-template-instance=''>"use strict";
!function $__1() {
  var $__2 = $__GET_TEMPLATE_INSTANCE__$($__1);
  var $__3 = $__2.$__TEMPLATE_INSTANCE__$;
  var $__0 = $__2.j37q5o4dsiz1sg6;
  var $__4 = window.j5bc2y4cw7j1sfq;
  var $__5 = $__3.$__DATASET__$;
  if ($__5 === undefined)
    $__5 = $__3.$__DATASET__$ = {};
  var app = $__5 == null ? undefined : $__5.app;
  if (app === undefined)
    app = $__4.getAttribute("data-app") || app;
  if (app === undefined)
    app = null;
  var $__6 = $__3.j8n773da2l91sg5;
  var $__7 = $__2.$__DATASET__$;
  if ($__7 === undefined)
    $__7 = $__2.$__DATASET__$ = {};
  var button = $__2.j3c5am8lb8l1sga;
  !function() {
    CS.onTap(button, (function(event) {
      event.preventDefault();
      app.dialog = "StateWait";
      co.go($traceurRuntime.initGeneratorFunction(function $__0() {
        return $traceurRuntime.createGeneratorInstance(function($ctx) {
          while (true)
            switch ($ctx.state) {
              case 0:
                $ctx.state = 2;
                return app.createDevice(app.activePlaceId);
              case 2:
                $ctx.maybeThrow();
                $ctx.state = 4;
                break;
              case 4:
                $ctx.state = 6;
                return app.command(app.activeDeviceId, "Link");
              case 6:
                $ctx.maybeThrow();
                $ctx.state = 8;
                break;
              case 8:
                app.dialog = "AskIfDeviceHasBeenLinked";
                $ctx.state = -2;
                break;
              default:
                return $ctx.end();
            }
        }, $__0, this);
      })).catch((function(error) {
        console.log(error);
        app.dialog = "ErrorNoCarrier";
      }));
    }));
  }.call($__0);
}();
</script>
</div>
</template><template class='ServiceItem' id='j5yoosixmmt1sgb'>
<div class='serviceItem modalDialog' id='j1ok9ts4mk11sgc'>
<p id='j1kk2xlb86d1sgd'>***</p>
<form id='j48dcham5p71sge'>
<textarea name='json' cols='35' rows='25' id='j51mx8tx7oe1sgf'></textarea>
<p id='j2zmrga4hvx1sgg'><a class='button' href='javascript:void(0)' target='_self' id='j4ilkfzdnmq1sgh'>Закрыть</a></p>
</form>
<script data-want-template-instance=''>"use strict";
!function $__1() {
  var $__2 = $__GET_TEMPLATE_INSTANCE__$($__1);
  var $__3 = $__2.$__TEMPLATE_INSTANCE__$;
  var $__0 = $__2.j1ok9ts4mk11sgc;
  var $__4 = window.j5bc2y4cw7j1sfq;
  var $__5 = $__3.$__DATASET__$;
  if ($__5 === undefined)
    $__5 = $__3.$__DATASET__$ = {};
  var app = $__5 == null ? undefined : $__5.app;
  if (app === undefined)
    app = $__4.getAttribute("data-app") || app;
  if (app === undefined)
    app = null;
  var $__6 = $__3.j5yoosixmmt1sgb;
  var $__7 = $__2.$__DATASET__$;
  if ($__7 === undefined)
    $__7 = $__2.$__DATASET__$ = {};
  var form = $__2.j48dcham5p71sge;
  var json = $__2.j51mx8tx7oe1sgf;
  var button = $__2.j4ilkfzdnmq1sgh;
  !function() {
    ra((function() {
      form.json.value = JSON.stringify({
        icon: app.getPlace(app.activePlaceId),
        device: app.getDevice(app.activeDeviceId)
      }, null, 3);
    }));
    var submit = (function() {
      var json = form.json.value.trim() || null;
      try {
        json = json && JSON.parse(json);
      } catch (error) {
        return alert(error);
      }
      if (json && json.icon) {
        app.savePlace(app.activePlaceId, json.icon);
        if (json.icon.device && json.device)
          app.saveDevice(json.icon.device, json.device);
      }
      app.dialog = "";
    });
    CS.onTap(button, (function(event) {
      event.preventDefault();
      submit();
    }));
    form.onsubmit = submit;
  }.call($__0);
}();
</script>
</div>
</template><template class='AskNewName' id='iuy7pdntvk1sgi'>
<div class='askNewName modalDialog' id='j5hsey9eirx1sgj'>
<p id='ijhmgjv3x41sgk'>Название:</p>
<form id='j7gnu4fdowk1sgl'>
<input name='string' type='text' autofocus='autofocus' size='20' id='j4oc9ed1ylg1sgm'/>
<p id='igc3lb1z791sgn'><a class='button' href='javascript:void(0)' target='_self' id='j1ryvrhgzeo1sgo'>Закрыть</a></p>
</form>
<script data-want-template-instance=''>"use strict";
!function $__1() {
  var $__2 = $__GET_TEMPLATE_INSTANCE__$($__1);
  var $__3 = $__2.$__TEMPLATE_INSTANCE__$;
  var $__0 = $__2.j5hsey9eirx1sgj;
  var $__4 = window.j5bc2y4cw7j1sfq;
  var $__5 = $__3.$__DATASET__$;
  if ($__5 === undefined)
    $__5 = $__3.$__DATASET__$ = {};
  var app = $__5 == null ? undefined : $__5.app;
  if (app === undefined)
    app = $__4.getAttribute("data-app") || app;
  if (app === undefined)
    app = null;
  var $__6 = $__3.iuy7pdntvk1sgi;
  var $__7 = $__2.$__DATASET__$;
  if ($__7 === undefined)
    $__7 = $__2.$__DATASET__$ = {};
  var form = $__2.j7gnu4fdowk1sgl;
  var string = $__2.j4oc9ed1ylg1sgm;
  var button = $__2.j1ryvrhgzeo1sgo;
  !function() {
    var submit = (function() {
      var name = form.string.value.trim();
      form.string.value = "";
      app.dialog = "";
      if (name)
        app.renameItem(app.activePlaceId, name);
    });
    CS.onTap(button, (function(event) {
      event.preventDefault();
      submit();
    }));
    form.onsubmit = submit;
  }.call($__0);
}();
</script>
</div>
</template><template class='AskCredentials' id='j3s0r13h7gc1sgp'>
<div class='askCredentials' id='j8zh3cv4xz11sgq'>
<form id='j1ndd27omii1sgr'>
<p id='j65kadt6tf31sgs'>Пользователь:</p>
<p id='j504ous7n0k1sgt'><input name='user' type='text' size='20' value='' id='j8bjkdw2b7r1sgu'/></p>
<p id='j405089json1sgv'>Ключ:</p>
<p id='j613j8014so1sgw'><input name='key' type='password' size='20' value='' id='j5d8zqbvfq21sgx'/></p>
<p id='j9qp8w4fw651sgy'><a class='button' href='javascript:void(0)' target='_self' id='j7zqznfnye91sgz'>Подключиться</a></p>
</form>
<script data-want-template-instance=''>"use strict";
!function $__1() {
  var $__2 = $__GET_TEMPLATE_INSTANCE__$($__1);
  var $__3 = $__2.$__TEMPLATE_INSTANCE__$;
  var $__0 = $__2.j8zh3cv4xz11sgq;
  var $__4 = window.j5bc2y4cw7j1sfq;
  var $__5 = $__3.$__DATASET__$;
  if ($__5 === undefined)
    $__5 = $__3.$__DATASET__$ = {};
  var app = $__5 == null ? undefined : $__5.app;
  if (app === undefined)
    app = $__4.getAttribute("data-app") || app;
  if (app === undefined)
    app = null;
  var $__6 = $__3.j3s0r13h7gc1sgp;
  var $__7 = $__2.$__DATASET__$;
  if ($__7 === undefined)
    $__7 = $__2.$__DATASET__$ = {};
  var form = $__2.j1ndd27omii1sgr;
  var user = $__2.j8bjkdw2b7r1sgu;
  var key = $__2.j5d8zqbvfq21sgx;
  var button = $__2.j7zqznfnye91sgz;
  !function() {
    var submit = (function() {
      var user = form.user.value.trim();
      var key = form.key.value.trim();
      app.credentials = {
        user: user,
        key: key
      };
    });
    CS.onTap(button, (function(event) {
      event.preventDefault();
      submit();
    }));
    form.onsubmit = submit;
  }.call($__0);
}();
</script>
</div>
</template><template class='AskIfDeviceHasBeenLinked' id='j6xu4vodkef1sh0'>
<div class='askIfDeviceHasBeenLinked modalDialog' id='izhbgrzrdg1sh1'>
<p id='hrroy5x891sh2'>Устройство было успешно привязано?</p>
<a class='button yes' href='javascript:void(0)' target='_self' id='j643bw7l2li1sh3'>да</a>
<a class='button no' href='javascript:void(0)' target='_self' id='j64h1m1gf3v1sh4'>нет</a>
<script data-want-template-instance=''>"use strict";
!function $__1() {
  var $__2 = $__GET_TEMPLATE_INSTANCE__$($__1);
  var $__3 = $__2.$__TEMPLATE_INSTANCE__$;
  var $__0 = $__2.izhbgrzrdg1sh1;
  var $__4 = window.j5bc2y4cw7j1sfq;
  var $__5 = $__3.$__DATASET__$;
  if ($__5 === undefined)
    $__5 = $__3.$__DATASET__$ = {};
  var app = $__5 == null ? undefined : $__5.app;
  if (app === undefined)
    app = $__4.getAttribute("data-app") || app;
  if (app === undefined)
    app = null;
  var AskToLinkDevice = $__3.j8n773da2l91sg5;
  var $__6 = $__3.j6xu4vodkef1sh0;
  var $__7 = $__2.$__DATASET__$;
  if ($__7 === undefined)
    $__7 = $__2.$__DATASET__$ = {};
  var yes = $__2.j643bw7l2li1sh3;
  var no = $__2.j64h1m1gf3v1sh4;
  !function() {
    CS.onTap(yes, (function(event) {
      event.preventDefault();
      app.dialog = "StopDeviceNotification";
    }));
    CS.onTap(no, (function(event) {
      event.preventDefault();
      app.dialog = "AskToLinkDevice";
    }));
  }.call($__0);
}();
</script>
</div>
</template><template class='AskReset' id='j5thm0igtt11sh5'>
<div class='askReset modalDialog' id='j2yczttkbpy1sh6'>
<p id='j9f8g0beykx1sh7'>Будет удалить вся информация о приборах и их местоположении</p>
<a class='button yes' href='javascript:void(0)' target='_self' id='j69r0psm7901sh8'>Удалить</a>
<a class='button no' href='javascript:void(0)' target='_self' id='j5aoyhe0y6o1sh9'>Вернуться</a>
<script data-want-template-instance=''>"use strict";
!function $__1() {
  var $__2 = $__GET_TEMPLATE_INSTANCE__$($__1);
  var $__3 = $__2.$__TEMPLATE_INSTANCE__$;
  var $__0 = $__2.j2yczttkbpy1sh6;
  var $__4 = window.j5bc2y4cw7j1sfq;
  var $__5 = $__3.$__DATASET__$;
  if ($__5 === undefined)
    $__5 = $__3.$__DATASET__$ = {};
  var app = $__5 == null ? undefined : $__5.app;
  if (app === undefined)
    app = $__4.getAttribute("data-app") || app;
  if (app === undefined)
    app = null;
  var AskToLinkDevice = $__3.j8n773da2l91sg5;
  var $__6 = $__3.j5thm0igtt11sh5;
  var $__7 = $__2.$__DATASET__$;
  if ($__7 === undefined)
    $__7 = $__2.$__DATASET__$ = {};
  var yes = $__2.j69r0psm7901sh8;
  var no = $__2.j5aoyhe0y6o1sh9;
  !function() {
    CS.onTap(yes, (function(event) {
      event.preventDefault();
      app.dialog = "StopDeviceNotification";
    }));
    CS.onTap(no, (function(event) {
      event.preventDefault();
      app.dialog = "AskToLinkDevice";
    }));
  }.call($__0);
}();
</script>
</div>
</template><template class='ErrorNoCarrier' id='j3upieeq5m81sha'>
<div class='errorNoCarrier modalDialog errorDialog' id='j5sbm8g0lod1shb'>
<p id='i3gzte3aq41shc'>Ошибка</p>
<p id='j8rgnex45nk1shd'>Произошла ошибка при попытке связаться с модемом</p>
<a class='button' href='javascript:void(0)' target='_self' id='j18cd86bn5l1she'>закрыть</a>
<script data-want-template-instance=''>"use strict";
!function $__1() {
  var $__2 = $__GET_TEMPLATE_INSTANCE__$($__1);
  var $__3 = $__2.$__TEMPLATE_INSTANCE__$;
  var $__0 = $__2.j5sbm8g0lod1shb;
  var $__4 = window.j5bc2y4cw7j1sfq;
  var $__5 = $__3.$__DATASET__$;
  if ($__5 === undefined)
    $__5 = $__3.$__DATASET__$ = {};
  var app = $__5 == null ? undefined : $__5.app;
  if (app === undefined)
    app = $__4.getAttribute("data-app") || app;
  if (app === undefined)
    app = null;
  var $__6 = $__3.j3upieeq5m81sha;
  var $__7 = $__2.$__DATASET__$;
  if ($__7 === undefined)
    $__7 = $__2.$__DATASET__$ = {};
  var button = $__2.j18cd86bn5l1she;
  !function() {
    CS.onTap(button, (function(event) {
      event.preventDefault();
      app.dialog = "";
    }));
  }.call($__0);
}();
</script>
</div>
</template><template class='StopDeviceNotification' id='igc60ijuk61shf'>
<div class='stopDeviceNotification modalDialog' id='ite79ydk8s1shg'>
<p id='j1e7ronc4we1shh'>Пожалуйста,<br id='j653usuqnwg1shi'/>переведите устройство в рабочий режим</p>
<a class='button' href='javascript:void(0)' target='_self' id='i2tscfxj411shj'>закрыть</a>
<script data-want-template-instance=''>"use strict";
!function $__1() {
  var $__2 = $__GET_TEMPLATE_INSTANCE__$($__1);
  var $__3 = $__2.$__TEMPLATE_INSTANCE__$;
  var $__0 = $__2.ite79ydk8s1shg;
  var $__4 = window.j5bc2y4cw7j1sfq;
  var $__5 = $__3.$__DATASET__$;
  if ($__5 === undefined)
    $__5 = $__3.$__DATASET__$ = {};
  var app = $__5 == null ? undefined : $__5.app;
  if (app === undefined)
    app = $__4.getAttribute("data-app") || app;
  if (app === undefined)
    app = null;
  var $__6 = $__3.igc60ijuk61shf;
  var $__7 = $__2.$__DATASET__$;
  if ($__7 === undefined)
    $__7 = $__2.$__DATASET__$ = {};
  var button = $__2.i2tscfxj411shj;
  !function() {
    CS.onTap(button, (function(event) {
      event.preventDefault();
      app.dialog = "";
    }));
  }.call($__0);
}();
</script>
</div>
</template><template class='StateWait' id='j5rsksadn8r1shk'>
<div class='stateWait modalDialog' id='j5w1doofogj1shl'>
<p id='j62e7xj35gl1shm'>Подождите...</p>
</div>
</template><template class='LoadingScreen' id='j2c6fy79xbc1shn'>
<div class='loadingScreen' id='j4zuwm7ftzy1sho'></div>
</template><template class='Centered' data-content='' id='j7u2w8w3vj91shp'>
<table style='width: 100%; height: 100%;' id='j3kok2moook1shq'>
<tr style='width: 100%; height: 100%;' id='j739xal63i61shr'>
<td style='width: 100%; height: 100%; vertical-align: middle; text-align: center;' id='j4n84t1bvhm1shs'>
<span class='self' id='j5vx2rtlqxa1sht'></span>
<script data-want-template-instance=''>"use strict";
!function $__1() {
  var $__2 = $__GET_TEMPLATE_INSTANCE__$($__1);
  var $__3 = $__2.$__TEMPLATE_INSTANCE__$;
  var $__0 = $__2.j4n84t1bvhm1shs;
  var $__4 = window.j5bc2y4cw7j1sfq;
  var $__5 = $__3.$__DATASET__$;
  if ($__5 === undefined)
    $__5 = $__3.$__DATASET__$ = {};
  var $__6 = $__3.j7u2w8w3vj91shp;
  var $__7 = $__2.$__DATASET__$;
  if ($__7 === undefined)
    $__7 = $__2.$__DATASET__$ = {};
  var content = $__7 == null ? undefined : $__7.content;
  if (content === undefined)
    content = $__6.getAttribute("data-content") || content;
  if (content === undefined)
    content = null;
  var self = $__2.j5vx2rtlqxa1sht;
  !function() {
    CS.content(self, content);
  }.call($__0);
}();
</script>
</td>
</tr>
</table>
</template><template class='Icon' data-placeId='' data-iconId='' data-iconDescr='' data-deviceDescr='' data-index='' id='j4fjea4hnsl1shu'>
<div class='icon' id='j3hus2tp1ng1shv'>
<div class='iconControl' id='j7v6lcdh9gv1shw'>
<div class='image' id='j1z4427z1fi1shx'>
<img class='error wait' src='/images/wait.svg' style='visibility: hidden;' id='j923fn8d5dk1shy'/>
<img class='error off' src='/images/room.svg' id='int72ph9pl1shz'/>
<img class='error on' src='/images/room_on.svg' id='j6ajlfuz19i1si0'/>
<img class='error absent' src='/images/room_absent.svg' id='j2q6d0211zu1si1'/>
</div>
<span class='iconLabel' id='j12yy4cil951si2'></span>
</div>
<div class='deleteSign' id='i13cj7vlw51si3'></div>
<script data-want-template-instance=''>"use strict";
!function $__1() {
  var $__2 = $__GET_TEMPLATE_INSTANCE__$($__1);
  var $__3 = $__2.$__TEMPLATE_INSTANCE__$;
  var $__0 = $__2.j3hus2tp1ng1shv;
  var style = window.j7uveb0kok91sfo;
  var $__4 = window.j5bc2y4cw7j1sfq;
  var $__5 = $__3.$__DATASET__$;
  if ($__5 === undefined)
    $__5 = $__3.$__DATASET__$ = {};
  var app = $__5 == null ? undefined : $__5.app;
  if (app === undefined)
    app = $__4.getAttribute("data-app") || app;
  if (app === undefined)
    app = null;
  var local = $__5 == null ? undefined : $__5.local;
  if (local === undefined)
    local = $__4.getAttribute("data-local") || local;
  if (local === undefined)
    local = null;
  var Command = $__3.j1owsh5k1i81sfr;
  var Icon = $__3.j4fjea4hnsl1shu;
  var $__6 = $__3.j4fjea4hnsl1shu;
  var $__7 = $__2.$__DATASET__$;
  if ($__7 === undefined)
    $__7 = $__2.$__DATASET__$ = {};
  var placeId = $__7 == null ? undefined : $__7.placeId;
  if (placeId === undefined)
    placeId = $__6.getAttribute("data-placeId") || placeId;
  if (placeId === undefined)
    placeId = null;
  var iconId = $__7 == null ? undefined : $__7.iconId;
  if (iconId === undefined)
    iconId = $__6.getAttribute("data-iconId") || iconId;
  if (iconId === undefined)
    iconId = null;
  var iconDescr = $__7 == null ? undefined : $__7.iconDescr;
  if (iconDescr === undefined)
    iconDescr = $__6.getAttribute("data-iconDescr") || iconDescr;
  if (iconDescr === undefined)
    iconDescr = null;
  var deviceDescr = $__7 == null ? undefined : $__7.deviceDescr;
  if (deviceDescr === undefined)
    deviceDescr = $__6.getAttribute("data-deviceDescr") || deviceDescr;
  if (deviceDescr === undefined)
    deviceDescr = null;
  var index = $__7 == null ? undefined : $__7.index;
  if (index === undefined)
    index = $__6.getAttribute("data-index") || index;
  if (index === undefined)
    index = null;
  var icon = $__2.j3hus2tp1ng1shv;
  var iconControl = $__2.j7v6lcdh9gv1shw;
  var image = $__2.j1z4427z1fi1shx;
  var img = $__2.j2q6d0211zu1si1;
  var error = $__2.j2q6d0211zu1si1;
  var wait = $__2.j923fn8d5dk1shy;
  var off = $__2.int72ph9pl1shz;
  var on = $__2.j6ajlfuz19i1si0;
  var absent = $__2.j2q6d0211zu1si1;
  var iconLabel = $__2.j12yy4cil951si2;
  var deleteSign = $__2.i13cj7vlw51si3;
  !function() {
    var opts = ra({
      get dimmering() {
        var d = deviceDescr && deviceDescr.valueOf();
        var i = iconDescr && iconDescr.valueOf();
        if (d && d.dimmering === false || i && i.dimmering === false)
          return false;
        else
          return true;
      },
      get image_on() {
        var d = deviceDescr && deviceDescr.valueOf();
        var i = iconDescr && iconDescr.valueOf();
        var file = "" || d && d.image_on || i && i.image_on || d && d.image || i && i.image;
        return file && ("/images/" + file);
      },
      get update_image_on() {
        if (opts.image_on)
          on.src = opts.image_on;
      },
      get image_off() {
        var d = deviceDescr && deviceDescr.valueOf();
        var i = iconDescr && iconDescr.valueOf();
        var file = "" || d && d.image_off || i && i.image_off || d && d.image || i && i.image;
        return file && ("/images/" + file);
      },
      get update_image_off() {
        if (opts.image_off)
          off.src = opts.image_off;
      }
    });
    ![].slice.call(icon.getElementsByTagName("img")).forEach((function(img) {
      return lodash.assign(img, app.imgProps);
    }));
    CS.updateClassX(icon, (function() {
      return opts.dimmering.valueOf() ? "dimmering" : "switching";
    }));
    CS.updateClassX(icon, iconId);
    CS.updateClassX(icon, (function() {
      return ("icon_moving_" + (app.moving.iconId == iconId));
    }));
    CS.updateClassX(icon, (function() {
      return ("icon_moved_" + (app.moving.iconId == iconId && !!app.moving.moved));
    }));
    CS.watchX((function() {
      if (app.moving.iconId == iconId) {
        var m = app.moving;
        icon.style.left = (m.x + "%");
        icon.style.top = (m.y + "%");
      } else {
        var i = lu.valueOf(index);
        var ph = app.pageHeight || 1;
        var pw = app.pageWidth || 1;
        var ps = pw * ph;
        var pi = i % ps;
        var p = (i - pi) / ps;
        var w = pi % pw;
        var h = (pi - w) / pw;
        w += pw * p;
        var pt = {
          x: w * 100 / pw,
          y: h * 100 / ph
        };
        var moveIt = (function() {
          icon.style.left = (pt.x + "%");
          icon.style.top = (pt.y + "%");
        });
        if (app.editing)
          setTimeout(moveIt);
        else
          moveIt();
      }
    }));
    CS.watchX((function() {}));
    CS.contentX(iconLabel, (function() {
      return iconDescr.get(local.language) || iconDescr.get("ru") || iconDescr.get("en");
    }));
    function logGesture(gesture) {}
    var deleteIcon = (function() {
      return app.deleteItem(placeId, iconId);
    });
    CS.onTouchStart(deleteSign, deleteIcon);
    CS.onTap(deleteSign, deleteIcon);
    CS.onPress(deleteSign, deleteIcon);
    CS.onTouchStart(iconControl, (function() {
      logGesture("\nTouchStart");
    }));
    CS.onTouchEnd(iconControl, (function() {
      logGesture("TouchEnd");
      app.iconCommand(iconDescr, iconId, "Save");
      app.moving = null;
    }));
    CS.onTouchCancel(iconControl, (function() {
      logGesture("TouchEnd");
      app.iconCommand(iconDescr, iconId, "Save");
      app.moving = null;
    }));
    CS.onMouseUp(iconControl, (function() {
      logGesture("TouchEnd");
      app.iconCommand(iconDescr, iconId, "Save");
      app.moving = null;
    }));
    CS.onTap(iconControl, (function() {
      logGesture("Tap");
      !app.editing && app.iconCommand(iconDescr, iconId, "Short");
    }));
    function placeRect() {
      var x = icon.parentNode;
      var r;
      while (r = x.getBoundingClientRect(), !r.width || !r.height)
        x = x.parentNode;
      return r;
    }
    function relPoint(p) {
      var r = placeRect();
      return {
        x: (p.x - r.left) / r.width * 100,
        y: (p.y - r.top) / r.height * 100
      };
    }
    function getPoint(data) {
      var p = data.changedPointers[Object.keys(data.changedPointers)[0]];
      return relPoint({
        x: p.screenX,
        y: p.screenY
      });
    }
    function getLeftTop(data) {
      var p = data.getBoundingClientRect();
      return relPoint({
        x: p.left,
        y: p.top
      });
    }
    function iconsCount() {
      var place = app.getPlace(placeId);
      return lodash.keys(place && place.content).length;
    }
    CS.onPress(iconControl, (function(data) {
      logGesture("Press");
      if (app.editing) {
        var p = getPoint(data);
        var r = getLeftTop(icon);
        app.moving = {
          placeId: placeId,
          iconId: iconId,
          dx: r.x - p.x,
          dy: r.y - p.y,
          x: r.x,
          y: r.y,
          index: index.valueOf(),
          moved: false
        };
      } else
        app.iconCommand(iconDescr, iconId, "Long");
    }));
    CS.onSwipeUp(iconControl, (function() {
      logGesture("SwipeUp");
      !app.editing && app.iconCommand(iconDescr, iconId, "Up");
    }));
    CS.onSwipeDown(iconControl, (function() {
      logGesture("SwipeDown");
      !app.editing && app.iconCommand(iconDescr, iconId, "Down");
    }));
    function Dimmering(data) {
      if (opts.dimmering)
        app.iconCommand(iconDescr, iconId, "Set", {
          delta: data.deltaY / (icon.getBoundingClientRect().height * 2 / 3),
          isFinal: data.isFinal
        });
    }
    function Moving(data) {
      var $__0,
          $__1;
      var p = getPoint(data);
      var m = app.moving;
      var q = {
        x: p.x + m.dx,
        y: p.y + m.dy
      };
      app.moving.x = q.x;
      app.moving.y = q.y;
      app.moving.moved = true;
      q = {
        x: Math.max(0, Math.round(q.x / (100 / app.pageWidth))),
        y: Math.min(app.pageHeight, Math.max(0, Math.round(q.y / (100 / app.pageHeight))))
      };
      var place = app.getPlace(placeId);
      var i = q.x + q.y * app.pageWidth;
      if (i > m.index)
        ++i;
      app.localPlaces = ($__1 = {}, Object.defineProperty($__1, placeId, {
        value: {content: ($__0 = {}, Object.defineProperty($__0, iconId, {
            value: {index: i - 0.5},
            configurable: true,
            enumerable: true,
            writable: true
          }), $__0)},
        configurable: true,
        enumerable: true,
        writable: true
      }), $__1);
    }
    CS.onPanUp(iconControl, (function(data) {
      logGesture("PanUp");
      app.editing ? Moving(data) : Dimmering(data);
    }));
    CS.onPanDown(iconControl, (function(data) {
      logGesture("PanDown");
      app.editing ? Moving(data) : Dimmering(data);
    }));
    CS.onPanLeft(iconControl, (function(data) {
      logGesture("PanLeft");
      app.moving ? Moving(data) : app.pan(data);
    }));
    CS.onPanRight(iconControl, (function(data) {
      logGesture("PanRight");
      app.moving ? Moving(data) : app.pan(data);
    }));
    CS.onTouchEnd(iconControl, (function(data) {
      app.pan({
        deltaX: 0,
        isFinal: true
      });
    }));
    CS.onTouchCancel(iconControl, (function(data) {
      app.pan({
        deltaX: 0,
        isFinal: true
      });
    }));
    var deviceId = iconDescr.defineProperty("device");
    var content = iconDescr.defineProperty("content");
    var state = ra({
      get device() {
        return app.getDevice(deviceId);
      },
      get present() {
        return !!(content.valueOf() || deviceId.valueOf());
      },
      value: 0,
      destination: 0,
      onning: false,
      offing: false,
      final: false,
      errorneous: false,
      get update() {
        var d = state.device;
        if (!d)
          return 0;
        if (d.newstate_timestamp && (!d.state_timestamp || d.newstate_timestamp > d.state_timestamp)) {
          var fonning = d.newstate >= d.state;
          state.onning = fonning;
          state.offing = !fonning;
          state.final = false;
          state.value = d.newstate;
        } else {
          state.onning = false;
          state.offing = false;
          state.final = true;
          state.value = d.state;
        }
        state.errorneous = !!d.errorneous;
      },
      get updateWait() {
        wait.style.visibility = state.final ? "hidden" : null;
      }
    });
    CS.updateClassX(icon, (function() {
      return state.onning && "onning";
    }));
    CS.updateClassX(icon, (function() {
      return state.offing && "offing";
    }));
    CS.updateClassX(icon, (function() {
      return state.final && "final";
    }));
    CS.updateClassX(icon, (function() {
      return state.errorneous && "errorneous";
    }));
    var setOpacity = (function(node, opacity) {
      if (opacity == null) {
        delete node.style.opacity;
      } else {
        node.style.opacity = opacity;
      }
    });
    ra((function() {
      if (!state.present) {
        setOpacity(on, 0);
        setOpacity(off, 0);
        setOpacity(absent, 0.7);
      } else {
        setOpacity(absent, 0);
        if (opts.dimmering) {
          setOpacity(on, state.value);
          setOpacity(off, (1 - state.value) * 0.333);
        } else {
          setOpacity(on, +!!state.value);
          setOpacity(off, +!state.value);
        }
      }
    }));
  }.call($__0);
}();
</script>
</div>
</template><template class='Place' data-placeId='' data-placeDescr='' id='j3h5p97cgxr1si4'>
<div class='place' id='j6y92no4ja81si5'></div>
<style class='style' id='j4cjiukd7ux1si6'></style>
<script data-want-template-instance=''>"use strict";
!function $__1() {
  var $__2 = $__GET_TEMPLATE_INSTANCE__$($__1);
  var $__3 = $__2.$__TEMPLATE_INSTANCE__$;
  var $__0 = $__3.j3h5p97cgxr1si4;
  var style = $__2.j4cjiukd7ux1si6;
  var $__4 = window.j5bc2y4cw7j1sfq;
  var $__5 = $__3.$__DATASET__$;
  if ($__5 === undefined)
    $__5 = $__3.$__DATASET__$ = {};
  var app = $__5 == null ? undefined : $__5.app;
  if (app === undefined)
    app = $__4.getAttribute("data-app") || app;
  if (app === undefined)
    app = null;
  var local = $__5 == null ? undefined : $__5.local;
  if (local === undefined)
    local = $__4.getAttribute("data-local") || local;
  if (local === undefined)
    local = null;
  var Icon = $__3.j4fjea4hnsl1shu;
  var Place = $__3.j3h5p97cgxr1si4;
  var $__6 = $__3.j3h5p97cgxr1si4;
  var $__7 = $__2.$__DATASET__$;
  if ($__7 === undefined)
    $__7 = $__2.$__DATASET__$ = {};
  var placeId = $__7 == null ? undefined : $__7.placeId;
  if (placeId === undefined)
    placeId = $__6.getAttribute("data-placeId") || placeId;
  if (placeId === undefined)
    placeId = null;
  var placeDescr = $__7 == null ? undefined : $__7.placeDescr;
  if (placeDescr === undefined)
    placeDescr = $__6.getAttribute("data-placeDescr") || placeDescr;
  if (placeDescr === undefined)
    placeDescr = null;
  var place = $__2.j6y92no4ja81si5;
  !function() {
    CS.updateClassX(place, placeId);
    style.innerHTML = ("." + placeId + " .place." + placeId + " { display: initial }");
    var ids = ra((function() {
      var content = placeDescr.get("content");
      return ra.Array(lodash.keys(content).sort((function(a, b) {
        return lu.compare(content[a].index, content[b].index);
      })));
    }));
    var content = ra.map(ids, (function(iconId, index) {
      var iconDescr = ra((function() {
        return app.getPlace(iconId);
      }));
      var deviceDescr = ra((function() {
        var deviceId = iconDescr.get("device");
        if (!deviceId)
          return null;
        return app.getDevice(deviceId);
      }));
      return CS.importNode(Icon, {
        placeId: placeId,
        iconId: iconId,
        index: index,
        iconDescr: iconDescr,
        deviceDescr: deviceDescr
      });
    }));
    CS.content(place, (function() {
      return content;
    }));
    ra((function() {
      var translate = ("translateX( " + (-(local.placesPages[placeId] || 0) * app.menuElement.getBoundingClientRect().width + app.placesShifts[placeId] || 0) + "px )");
      if ("transform" in place.style)
        place.style.transform = translate;
      if ("webkitTransform" in place.style)
        place.style.webkitTransform = translate;
    }));
  }.call($__0);
}();
</script>
</template><template class='Main' id='j90z17iwggr1si7'>
<div class='top' id='j443x586bk61si8'>
<span class='self' id='j2ui8vuan0r1si9'></span>
<script data-want-template-instance=''>"use strict";
!function $__1() {
  var $__2 = $__GET_TEMPLATE_INSTANCE__$($__1);
  var $__3 = $__2.$__TEMPLATE_INSTANCE__$;
  var $__0 = $__2.j443x586bk61si8;
  var $__4 = window.j5bc2y4cw7j1sfq;
  var $__5 = $__3.$__DATASET__$;
  if ($__5 === undefined)
    $__5 = $__3.$__DATASET__$ = {};
  var app = $__5 == null ? undefined : $__5.app;
  if (app === undefined)
    app = $__4.getAttribute("data-app") || app;
  if (app === undefined)
    app = null;
  var Centered = $__3.j7u2w8w3vj91shp;
  var $__6 = $__3.j90z17iwggr1si7;
  var $__7 = $__2.$__DATASET__$;
  if ($__7 === undefined)
    $__7 = $__2.$__DATASET__$ = {};
  var self = $__2.j2ui8vuan0r1si9;
  !function() {
    CS.content(self, CS.importTemplate(Centered, {content: (function() {
        return app.caption;
      })}));
  }.call($__0);
}();
</script>
</div>
<div class='menu' id='j121nmm7if51sia'>

<span class='self' id='j384px8aks31sib'></span>
<style class='style' id='j3q05afdrfk1sic'></style>
<script data-want-template-instance=''>"use strict";
!function $__1() {
  var $__2 = $__GET_TEMPLATE_INSTANCE__$($__1);
  var $__3 = $__2.$__TEMPLATE_INSTANCE__$;
  var $__0 = $__2.j121nmm7if51sia;
  var style = $__2.j3q05afdrfk1sic;
  var $__4 = window.j5bc2y4cw7j1sfq;
  var $__5 = $__3.$__DATASET__$;
  if ($__5 === undefined)
    $__5 = $__3.$__DATASET__$ = {};
  var app = $__5 == null ? undefined : $__5.app;
  if (app === undefined)
    app = $__4.getAttribute("data-app") || app;
  if (app === undefined)
    app = null;
  var local = $__5 == null ? undefined : $__5.local;
  if (local === undefined)
    local = $__4.getAttribute("data-local") || local;
  if (local === undefined)
    local = null;
  var Place = $__3.j3h5p97cgxr1si4;
  var $__6 = $__3.j90z17iwggr1si7;
  var $__7 = $__2.$__DATASET__$;
  if ($__7 === undefined)
    $__7 = $__2.$__DATASET__$ = {};
  var self = $__2.j384px8aks31sib;
  var menu = $__2.j121nmm7if51sia;
  !function() {
    app.menuElement = this;
    var UID = require("uid");
    var id = UID();
    this.classList.add(id);
    CS.watch((function() {
      style.innerHTML = ("." + id + " .icon {\n\t\t\twidth: " + 100 / app.pageWidth + "%;\n\t\t\theight: " + 100 / app.pageHeight + "%;\n\t\t}");
    }));
    CS.updateClass(this, (function() {
      return app.activePlaceId;
    }));
    var shown = {};
    var first = true;
    ra((function() {
      var id = app.activePlaceId;
      if (!id || shown[id])
        return ;
      app.placesShifts.defineProperty(id);
      local.placesPages.defineProperty(id);
      shown[id] = true;
      var place = ra((function() {
        return app.getPlace(id);
      }));
      var placeControl = CS.importTemplate(Place, {
        placeId: id,
        placeDescr: place
      });
      if (first) {
        CS.content(self, placeControl);
        first = false;
      } else
        CS.appendChild(self, placeControl);
    }));
    function logGesture(gesture) {}
    CS.onPanLeft(this, (function(data) {
      logGesture("PanLeft");
      !app.moving && app.pan(data);
    }));
    CS.onPanRight(this, (function(data) {
      logGesture("PanRight");
      !app.moving && app.pan(data);
    }));
    CS.onTouchEnd(this, (function(data) {
      app.pan({
        deltaX: 0,
        isFinal: true
      });
    }));
    CS.onTouchCancel(this, (function(data) {
      app.pan({
        deltaX: 0,
        isFinal: true
      });
    }));
  }.call($__0);
}();
</script>
</div>
<div class='bottom' id='j9dk8tbncv21sid'>
<div class='help' id='j274bu6968w1sie'>
<script data-want-template-instance=''>"use strict";
!function $__1() {
  var $__2 = $__GET_TEMPLATE_INSTANCE__$($__1);
  var $__3 = $__2.$__TEMPLATE_INSTANCE__$;
  var $__0 = $__2.j274bu6968w1sie;
  var $__4 = window.j5bc2y4cw7j1sfq;
  var $__5 = $__3.$__DATASET__$;
  if ($__5 === undefined)
    $__5 = $__3.$__DATASET__$ = {};
  var $__6 = $__3.j90z17iwggr1si7;
  var $__7 = $__2.$__DATASET__$;
  if ($__7 === undefined)
    $__7 = $__2.$__DATASET__$ = {};
  !function() {}.call($__0);
}();
</script>
</div>
<div class='logo' id='j8vbh8itnme1sif'>
<script data-want-template-instance=''>"use strict";
!function $__1() {
  var $__2 = $__GET_TEMPLATE_INSTANCE__$($__1);
  var $__3 = $__2.$__TEMPLATE_INSTANCE__$;
  var $__0 = $__2.j8vbh8itnme1sif;
  var $__4 = window.j5bc2y4cw7j1sfq;
  var $__5 = $__3.$__DATASET__$;
  if ($__5 === undefined)
    $__5 = $__3.$__DATASET__$ = {};
  var app = $__5 == null ? undefined : $__5.app;
  if (app === undefined)
    app = $__4.getAttribute("data-app") || app;
  if (app === undefined)
    app = null;
  var $__6 = $__3.j90z17iwggr1si7;
  var $__7 = $__2.$__DATASET__$;
  if ($__7 === undefined)
    $__7 = $__2.$__DATASET__$ = {};
  !function() {
    CS.onPress(this, (function() {
      return app.dialog = "Context";
    }));
    CS.onTap(this, (function() {
      app.editing = false;
      app.dialog = "";
      app.go(app.main);
    }));
  }.call($__0);
}();
</script>
</div>
<div class='back' id='j9pigcwysw31sig'>
<script data-want-template-instance=''>"use strict";
!function $__1() {
  var $__2 = $__GET_TEMPLATE_INSTANCE__$($__1);
  var $__3 = $__2.$__TEMPLATE_INSTANCE__$;
  var $__0 = $__2.j9pigcwysw31sig;
  var $__4 = window.j5bc2y4cw7j1sfq;
  var $__5 = $__3.$__DATASET__$;
  if ($__5 === undefined)
    $__5 = $__3.$__DATASET__$ = {};
  var app = $__5 == null ? undefined : $__5.app;
  if (app === undefined)
    app = $__4.getAttribute("data-app") || app;
  if (app === undefined)
    app = null;
  var $__6 = $__3.j90z17iwggr1si7;
  var $__7 = $__2.$__DATASET__$;
  if ($__7 === undefined)
    $__7 = $__2.$__DATASET__$ = {};
  var back = $__2.j9pigcwysw31sig;
  !function() {
    CS.onTouch(this, (function() {
      if (app.editing)
        app.editing = false;
      else if (app.dialog)
        app.dialog = "";
      else
        app.back();
    }));
  }.call($__0);
}();
</script>
</div>
</div>
</template><template class='App' data-app='' data-local='' data-appid='state' id='j5bc2y4cw7j1sfq'>
<script data-want-template-instance=''>"use strict";
!function $__1() {
  var $__2 = $__GET_TEMPLATE_INSTANCE__$($__1);
  var $__0 = window.j5bc2y4cw7j1sfq;
  var $__3 = window.j5bc2y4cw7j1sfq;
  var $__4 = $__2.$__DATASET__$;
  if ($__4 === undefined)
    $__4 = $__2.$__DATASET__$ = {};
  var dataset = $__4;
  var app = $__4 == null ? undefined : $__4.app;
  if (app === undefined)
    app = $__3.getAttribute("data-app") || app;
  if (app === undefined)
    app = null;
  var appid = $__4 == null ? undefined : $__4.appid;
  if (appid === undefined)
    appid = $__3.getAttribute("data-appid") || appid;
  if (appid === undefined)
    appid = null;
  !function() {
    lodash.assign(dataset, require("app")(appid));
    dataset.app.pageStarting = true;
  }.call($__0);
}();
</script>
<script data-want-template-instance=''>"use strict";
!function $__1() {
  var $__2 = $__GET_TEMPLATE_INSTANCE__$($__1);
  var $__0 = window.j5bc2y4cw7j1sfq;
  var $__3 = window.j5bc2y4cw7j1sfq;
  var $__4 = $__2.$__DATASET__$;
  if ($__4 === undefined)
    $__4 = $__2.$__DATASET__$ = {};
  var app = $__4 == null ? undefined : $__4.app;
  if (app === undefined)
    app = $__3.getAttribute("data-app") || app;
  if (app === undefined)
    app = null;
  var local = $__4 == null ? undefined : $__4.local;
  if (local === undefined)
    local = $__3.getAttribute("data-local") || local;
  if (local === undefined)
    local = null;
  !function() {
    window._app = app;
    window._local = local;
  }.call($__0);
}();
</script>
<script data-want-template-instance=''>"use strict";
!function $__1() {
  var $__2 = $__GET_TEMPLATE_INSTANCE__$($__1);
  var $__0 = window.j5bc2y4cw7j1sfq;
  var $__3 = window.j5bc2y4cw7j1sfq;
  var $__4 = $__2.$__DATASET__$;
  if ($__4 === undefined)
    $__4 = $__2.$__DATASET__$ = {};
  var app = $__4 == null ? undefined : $__4.app;
  if (app === undefined)
    app = $__3.getAttribute("data-app") || app;
  if (app === undefined)
    app = null;
  var local = $__4 == null ? undefined : $__4.local;
  if (local === undefined)
    local = $__3.getAttribute("data-local") || local;
  if (local === undefined)
    local = null;
  !function() {
    var httpClient = require("httpClient");
    if (navigator.standalone)
      void 0;
    else {
      ra((function() {
        if (local.activePlaceId && local.activePlaceId.valueOf()) {
          var title = ("TITLE_" + local.activePlaceId);
          var icon = ("ICON_" + local.activePlaceId);
          screenTitle.setAttribute("content", title);
          if (local.activePlaceId && local.activePlaceId != "main")
            history.replaceState(null, title, ("?appicon=" + icon));
          else
            history.replaceState(null, title, "?");
        }
      }));
    }
  }.call($__0);
}();
</script>
<noscript data-template-reference='j1owsh5k1i81sfr'></noscript>
<noscript data-template-reference='j42zgn76isr1sft'></noscript>
<noscript data-template-reference='i8az15vsdy1sfv'></noscript>

<noscript data-template-reference='j8n773da2l91sg5'></noscript>
<noscript data-template-reference='j5yoosixmmt1sgb'></noscript>
<noscript data-template-reference='iuy7pdntvk1sgi'></noscript>
<noscript data-template-reference='j3s0r13h7gc1sgp'></noscript>
<noscript data-template-reference='j6xu4vodkef1sh0'></noscript>
<noscript data-template-reference='j5thm0igtt11sh5'></noscript>
<noscript data-template-reference='j3upieeq5m81sha'></noscript>
<noscript data-template-reference='igc60ijuk61shf'></noscript>
<noscript data-template-reference='j5rsksadn8r1shk'></noscript>
<noscript data-template-reference='j2c6fy79xbc1shn'></noscript>
<noscript data-template-reference='j7u2w8w3vj91shp'></noscript>
<noscript data-template-reference='j4fjea4hnsl1shu'></noscript>
<noscript data-template-reference='j3h5p97cgxr1si4'></noscript>
<noscript data-template-reference='j90z17iwggr1si7'></noscript>
<div class='application' id='j5lxr4sgs951sih'></div>
<script data-want-template-instance=''>"use strict";
!function $__1() {
  var $__2 = $__GET_TEMPLATE_INSTANCE__$($__1);
  var $__0 = window.j5bc2y4cw7j1sfq;
  var $__3 = window.j5bc2y4cw7j1sfq;
  var template = $__3;
  var $__4 = $__2.$__DATASET__$;
  if ($__4 === undefined)
    $__4 = $__2.$__DATASET__$ = {};
  var app = $__4 == null ? undefined : $__4.app;
  if (app === undefined)
    app = $__3.getAttribute("data-app") || app;
  if (app === undefined)
    app = null;
  var local = $__4 == null ? undefined : $__4.local;
  if (local === undefined)
    local = $__3.getAttribute("data-local") || local;
  if (local === undefined)
    local = null;
  var application = $__2.j5lxr4sgs951sih;
  !function() {
    var initial = application.className.split(/\s+/);
    CS.watch((function() {
      return application.className = initial.concat([app.pageStarting ? "pageStarting" : "pageRunning", app.initialLoading ? "JSONloading" : "JSONloaded", app.initialized ? "alreadyRun" : "firstRun", app.connectedToServer ? "appConnected" : "appDisconnected", app.templates ? "templatesLoaded" : "templatesLoading", app.dialog ? ("dialog" + app.dialog) : "", app.dialog ? "dialogIsPresent" : "dialogIsAbsent", ("app_labels_" + !!local.labels), ("app_editing_" + !!app.editing)]).join(" ");
    }));
  }.call($__0);
}();
</script>
<script data-want-template-instance=''>"use strict";
!function $__1() {
  var $__2 = $__GET_TEMPLATE_INSTANCE__$($__1);
  var $__0 = window.j5bc2y4cw7j1sfq;
  var $__3 = window.j5bc2y4cw7j1sfq;
  var $__4 = $__2.$__DATASET__$;
  if ($__4 === undefined)
    $__4 = $__2.$__DATASET__$ = {};
  var app = $__4 == null ? undefined : $__4.app;
  if (app === undefined)
    app = $__3.getAttribute("data-app") || app;
  if (app === undefined)
    app = null;
  var ContextMenu = $__2.j42zgn76isr1sft;
  var StartupScreen = $__2.i8az15vsdy1sfv;
  var AskToLinkDevice = $__2.j8n773da2l91sg5;
  var ServiceItem = $__2.j5yoosixmmt1sgb;
  var AskNewName = $__2.iuy7pdntvk1sgi;
  var AskCredentials = $__2.j3s0r13h7gc1sgp;
  var AskIfDeviceHasBeenLinked = $__2.j6xu4vodkef1sh0;
  var ErrorNoCarrier = $__2.j3upieeq5m81sha;
  var StopDeviceNotification = $__2.igc60ijuk61shf;
  var StateWait = $__2.j5rsksadn8r1shk;
  var LoadingScreen = $__2.j2c6fy79xbc1shn;
  var Place = $__2.j3h5p97cgxr1si4;
  var Main = $__2.j90z17iwggr1si7;
  var application = $__2.j5lxr4sgs951sih;
  !function() {
    CS.content(application, [CS.importTemplate(Main), CS.importTemplate(ContextMenu), CS.importTemplate(AskToLinkDevice), CS.importTemplate(AskIfDeviceHasBeenLinked), CS.importTemplate(StopDeviceNotification), CS.importTemplate(ErrorNoCarrier), CS.importTemplate(StateWait), CS.importTemplate(AskNewName), CS.importTemplate(ServiceItem), CS.importTemplate(StartupScreen), CS.importTemplate(LoadingScreen), CS.importTemplate(AskCredentials)]);
    setTimeout((function() {
      return app.pageStarting = false;
    }), 1);
  }.call($__0);
}();
</script>
</template>

<template class='TwoApp' id='j1lxu0m3ktq1sii'>
<style id='j3az1nv29kq1sik'>
.app1 .application, .app2 .application {
position: fixed;
left: 20;
top: 10;
width: 350;
height: 600;
}
.app2 .application {
left: 400;
width: 950;
}
</style>
<div class='app1' id='j2m9z2ff4m11sil'></div>
<div class='app2' id='iz7lqiu1a81sim'></div>
<script data-want-template-instance=''>"use strict";
!function $__1() {
  var $__2 = $__GET_TEMPLATE_INSTANCE__$($__1);
  var $__0 = window.j1lxu0m3ktq1sii;
  var App = window.j5bc2y4cw7j1sfq;
  var $__3 = window.j1lxu0m3ktq1sii;
  var $__4 = $__2.$__DATASET__$;
  if ($__4 === undefined)
    $__4 = $__2.$__DATASET__$ = {};
  var app1 = $__2.j2m9z2ff4m11sil;
  var app2 = $__2.iz7lqiu1a81sim;
  !function() {
    app2.appendChild(CS.importTemplate(App, {appid: "state2"}));
    app1.appendChild(CS.importTemplate(App, {appid: "state1"}));
  }.call($__0);
}();
</script>

</template>
<template class='OneApp' id='j28v23ep3of1sin'>
<style id='j6tuk3rhhlk1sio'> .application { position: fixed !important; } } </style>
<span class='self' id='j4dg2uhqzno1sip'></span>
<script data-want-template-instance=''>"use strict";
!function $__1() {
  var $__2 = $__GET_TEMPLATE_INSTANCE__$($__1);
  var $__0 = window.j28v23ep3of1sin;
  var App = window.j5bc2y4cw7j1sfq;
  var $__3 = window.j28v23ep3of1sin;
  var $__4 = $__2.$__DATASET__$;
  if ($__4 === undefined)
    $__4 = $__2.$__DATASET__$ = {};
  var self = $__2.j4dg2uhqzno1sip;
  !function() {
    CS.content(self, CS.importTemplate(App));
  }.call($__0);
}();
</script>
</template>
<script>"use strict";
!function(global) {
  "use strict";
  function storeChildren(store, childNodes, owner, scripts) {
    if (!childNodes)
      return ;
    var $__0 = function(i, l) {
      var c = childNodes.item(i);
      var id;
      if (c.tagName == "NOSCRIPT" && (id = c.getAttribute("data-template-reference"))) {
        c = global[id];
      }
      if (c instanceof HTMLTemplateElement && c.id)
        store[c.id] = {
          content: c.content,
          id: c.id,
          $__PARENT_INSTANCE__$: store,
          getAttribute: (function(n) {
            return c.getAttribute(n);
          })
        };
      else if (c instanceof HTMLScriptElement) {
        if (c.getAttribute("data-want-template-instance") != null) {
          c.$__TEMPLATE_INSTANCE__$ = store;
          scripts.push(c);
        }
      } else {
        if (c.id)
          store[c.id] = c;
        storeChildren(store, c.childNodes, c, scripts);
      }
    };
    for (var i = 0,
        l = childNodes.length; i < l; ++i) {
      $__0(i, l);
    }
  }
  global.$__IMPORT_TEMPLATE__$ = (function(template, dataset) {
    var ret = document.importNode(template.content, true);
    var instance = Object.create(null);
    var scripts = [];
    storeChildren(instance, ret.childNodes, ret, scripts);
    instance.$__TEMPLATE_INSTANCE__$ = template.$__PARENT_INSTANCE__$;
    instance.$__DATASET__$ = dataset;
    if (scripts.length) {
      var s = document.createDocumentFragment();
      scripts.forEach((function(c) {
        return s.appendChild(c);
      }));
      document.body.appendChild(s);
    }
    return ret;
  });
  global.$__GET_TEMPLATE_INSTANCE__$ = (function() {
    var c = document.currentScript;
    c.parentNode.removeChild(c);
    var ret = c.$__TEMPLATE_INSTANCE__$;
    delete c.$__TEMPLATE_INSTANCE__$;
    return ret;
  });
}(typeof window != "undefined" ? window : global);
</script>
<span id='appHolder'></span>
<span id='dynamicStyleHolder'></span>
<script>"use strict";
window.APP_DEBUG = 0;
window.APP_DEBUG = /Linux x86_64/.test(navigator.userAgent);
</script>
<script>"use strict";
!function $__1() {
  var $__0 = window.j7uziu3gc941sfl;
  var App = window.j5bc2y4cw7j1sfq;
  var TwoApp = window.j1lxu0m3ktq1sii;
  var OneApp = window.j28v23ep3of1sin;
  !function() {
    onAppOrientationLocked((function() {
      setTimeout(start, 200);
    }));
    function start() {
      try {
        require("webpage");
        var A = OneApp;
        var t = CS.importTemplate(A);
        CS.content(appHolder, t);
        ra.forceCalculations();
      } catch (e) {
        alert(e.message);
      }
    }
  }.call($__0);
}();
</script>

<style id='j4rr2nky7a61sir'>
#RELOAD {
position: fixed;
left: 0;
top: 0;
width: 2cm;
height: 2cm;
}
</style>
<div style='' id='RELOAD'></div>
<script>"use strict";
RELOAD.addEventListener("touchstart", (function() {
  return window.location.reload();
}));
RELOAD.addEventListener("mousedown", (function() {
  return window.location.reload();
}));
</script>

<script>"use strict";
!function() {
  var x = new XMLHttpRequest();
  x.open("POST", "/info?" + encodeURIComponent((screen.width + "x" + screen.height + "x" + (window.devicePixelRatio || "-") + " " + navigator.vendor + " " + navigator.userAgent)));
  x.send();
}();
</script>
</div>
