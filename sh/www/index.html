<html manifest='/index.manifest' id='j4f7jnl03bip81'>

<noscript id='if52ygjckjp82'>
!!! WARNING !!! This is an auto genarated file. DO NOT EDIT IT. Timestamp: 1444384761468
</noscript>
<head id='j1pdpoqvtg5p83'>
<meta http-equiv='Content-Type' content='text/html; charset=utf-8' id='i9u67f99w4p84'/>
<title id='j21wbkjzvt6p85'>Smart home</title>

<meta name='mobile-web-app-capable' content='yes' id='j79005235ybp87'/>
<meta name='apple-mobile-web-app-capable' content='yes' id='im2c9wjgu2p88'/>

<meta name='apple-mobile-web-app-status-bar-style' content='black-translucent' id='j2sfgk17jzlp89'/>

<meta name='format-detection' content='telephone=no' id='j2geq98i6j4p8a'/>


<meta name='viewport' content='initial-scale=1.0, maximum-scale=1.0, user-scalable=0' id='j8cqmvbrdx6p8b'/>

<style id='i2czgvxyuep8c'> html { -webkit-text-size-adjust: 100%; } </style>

<link rel='shortcut icon' href='/favicon96.ico' id='itr9yo6pzep8d'/>

<meta id='screenTitle' name='apple-mobile-web-app-title' content='My Home'/>
</head>
<body style='background-color: white;' id='iq1es2eqlsp8e'>
<script>"use strict";

!(function () {
  if (!document.querySelectorAll) return;var s = document.querySelectorAll("meta[name=\"apple-mobile-web-app-status-bar-style\"]");s = s.item(s.length - 1);if (s && s.getAttribute("content") != "black-translucent") return;var _arr = [{ agent: /(?:iPhone|iPad) OS.*?([\d\w]*)$/, versions: [{ low: "13A340" }], getVer: function getVer(a) {
      return a.replace(/\d+/g, function (d) {
        return 1e12 + +d;
      });
    } }];
  for (var _i = 0; _i < _arr.length; _i++) {
    var browser = _arr[_i];var version = navigator.userAgent.match(browser.agent);if (!version) continue;if (!browser.versions) return;version = browser.getVer(version[1]);for (var i = 0; i < browser.versions.length; ++i) {
      var v = browser.versions[i];if ((v.low ? version >= browser.getVer(v.low) : true) && (v.high ? version <= browser.getVer(v.high) : true)) return;
    }
  }document.body.classList.add("translucent");
})();</script>
<div id='checkingBrowser' style='position: fixed; left: 0; top: 0; right: 0; bottom: 0; background-color: black; display: none; z-order: 9999;'>

<div class='checkingBrowser' style='position: absolute; left: 0; top: 0; right: 0; bottom: 0;' id='j1r74n0rtljp8g'></div>
</div>
<script>"use strict";

!(function () {
  /*
  this code is for checking __basic__ functionality only, i.e. functionality that is nessesary for loading app only, not for running.
  see weppage.html::checkBrowserFunctions for other checks.
   */function checkBasicBrowserFunctions() {
    // iOS 8.3: typeof XMLHttpRequest == `object`
    // other: typeof XMLHttpRequest == `function`
    var ret = true && typeof window != "undefined" && window && typeof Promise != "undefined" && Promise && typeof CustomEvent != "undefined" && CustomEvent && typeof applicationCache != "undefined" && applicationCache && applicationCache.addEventListener && applicationCache.swapCache && (typeof XMLHttpRequest != "undefined" && XMLHttpRequest || typeof fetch != "undefined" && fetch) && typeof postMessage != "undefined" && postMessage && typeof Object != "undefined" && Object && Object.create && typeof localStorage != "undefined" && localStorage && localStorage.getItem && typeof document != "undefined" && document && typeof document.cookie == "string" && typeof screen != "undefined" && screen && typeof Function != "undefined" && Function && Function.prototype && Function.prototype.bind && window.HTMLTemplateElement;return !!ret;
  }function unsupported() {
    // window.location.href = `/unsupported.html`
    var frame = document.createElement("iframe");frame.id = "unsupported";frame.src = "/unsupported.html";var style = frame.style;style.position = "fixed";style.left = "0px";style.top = "0px";style.width = "100%";style.height = "100%";style.margin = "0px";style.padding = "0px";style.backgroundColor = "white";style.zIndex = 2e9;style.border = "none";document.body.appendChild(frame);
  }window.__UNSUPPORTED__ = function () {
    var addEventListener = function addEventListener(event, handler) {
      if (!applicationCache) return;applicationCache.addEventListener(event, handler);var EVENT = event.toUpperCase();if (applicationCache[EVENT] != null && applicationCache.status != null && applicationCache.status >= applicationCache[EVENT]) setTimeout(handler, 0);
    };addEventListener("updateready", function () {
      applicationCache.swapCache();window.location.reload();
    });unsupported();
  };if (!checkBasicBrowserFunctions()) window.__UNSUPPORTED__();
})();</script>

<script>"use strict";

!(function () {
  var bind = function bind(obj, name) {
    return obj && obj[name] && obj[name].bind(obj);
  };var lockOrientation = null || bind(screen.orientation, "lock") || bind(screen, "lockOrientation") || bind(screen.orientation, "webkitLock") || bind(screen, "webkitLockOrientation") || bind(screen.orientation, "mozLock") || bind(screen, "mozLockOrientation") || bind(screen.orientation, "msLock") || bind(screen, "msLockOrientation") || function (_) {
    return null;
  }; // TODO: блакаваць арыентацыю толькі на тэлефонах.
  // на планшэтах няхай круцяць.
  var locked = bind(lockOrientation("portrait-primary"), "then");window.onAppOrientationLocked = locked ? function (cb) {
    return locked(cb, cb);
  } : setTimeout;
})();</script>
<script>// Leave only allowed keys in localStorage.
"use strict";

!(function () {
  var keys = [];for (var i = 0; i < localStorage.length; ++i) {
    keys.push(localStorage.key(i));
  }for (var i = 0; i < keys.length; ++i) {
    switch (keys[i]) {case "./main.html":case "./js/index.js":case "/database":case "debug":
        break;default:
        localStorage.removeItem(keys[i]);}
  }
})();</script>
<script>//
// WARNING:
//
// Use ONLY browser API here. Do not use require.
//
"use strict";

!(function () {
  // function getCookie( name ) {
  // 	return ( ( `; ${ document.cookie }` ).split( `; ${ name }=`, 2 )[ 1 ] || `` ).split( `;`, 1 )[ 0 ]
  // }
  function cacheUrlResource(url) {
    var resources = window.cachedUrlResources || (window.cachedUrlResources = Object.create(null));return resources[url] || (resources[url] = new Promise(function (resolve) {
      function save(ret) {
        if (resolve) {
          resolve(ret);resolve = null;
        }if (localStorage.getItem(url) != ret) {
          localStorage.removeItem(url);localStorage.setItem(url, ret);postMessage({ what: "urlResourceUpdated", url: url }, "*");
        }
      }function loadUrl(initial) {
        function onerror() {
          if (initial && resolve) setTimeout(loadUrl, 2000, true);
        }var xhr = new XMLHttpRequest();xhr.onload = function () {
          if (xhr.status >= 200 && xhr.status <= 299) {
            console.log("got " + url + ", received " + (xhr.response && xhr.response.length) + " character(s)");save(xhr.response == null ? null : xhr.response);
          } else onerror();
        };xhr.ontimeout = onerror;xhr.onerror = onerror;xhr.open("get", url);xhr.responseType = "text";xhr.send();
      }function startLoading() {
        loadUrl(true);setInterval(loadUrl, 30 * 60 * 1000);
      }var res = localStorage.getItem(url);if (res != null) {
        console.log("fecthing " + url + " from the cache");save(res);setTimeout(startLoading, 2000);
      } else {
        console.log("fecthing " + url + " from the server");startLoading();
      }
    }));
  }window.cacheUrlResource = cacheUrlResource;
})();</script>
<script>"use strict";

!(function () {
  var LOADED = false;function ON_START_ERROR(error) {
    if (LOADED && window.onerror == ON_START_ERROR) return window.onerror = null;console.log(error); // TODO: here must be message with appologizing and code sending error report
  }window.onerror = ON_START_ERROR;var timer = window.performance || Date;var startTime = timer.now();function say(msg) {
    var ms = timer.now() - startTime;console.log(msg + " for " + ms / 1000 + "s");startTime = timer.now();
  }function script(text) {
    var script = document.createElement("script");script.appendChild(document.createTextNode(text));return script;
  }var code = cacheUrlResource("./js/index.js");cacheUrlResource("./main.html");code.then(function (code) {
    return onAppOrientationLocked(function () {
      say("getting script");document.body.appendChild(script("window.SHModules = function () { " + code + " }"));say("script has been compiled");if (!window.SHModules) (0, eval)("(function(){ " + code + " })");window.SHModules();say("script has been run");LOADED = true;if (window.onerror == ON_START_ERROR) window.onerror = null;
    });
  });
})();</script>
</body>
</html>
