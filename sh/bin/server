#!/usr/bin/env node

(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({"/home/vadzim/v/work/nerojs/node_modules/babel-core/lib/babel/polyfill.js":[function(require,module,exports){
"use strict";if(require("core-js/shim"),require("regenerator/runtime"),global._babelPolyfill)throw new Error("only one instance of babel/polyfill is allowed");global._babelPolyfill=!0;

},{"core-js/shim":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/shim.js","regenerator/runtime":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/regenerator/runtime.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.array-includes.js":[function(require,module,exports){
var $=require("./$");module.exports=function(r){return function(e,t,n){var o,u=$.toObject(e),f=$.toLength(u.length),i=$.toIndex(n,f);if(r&&t!=t){for(;f>i;)if(o=u[i++],o!=o)return!0}else for(;f>i;i++)if((r||i in u)&&u[i]===t)return r||i;return!r&&-1}};

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.array-methods.js":[function(require,module,exports){
var $=require("./$"),ctx=require("./$.ctx");module.exports=function(e){var r=1==e,t=2==e,n=3==e,c=4==e,i=6==e,u=5==e||i;return function(s,a,f){for(var o,h,l=Object($.assertDefined(s)),v=$.ES5Object(l),x=ctx(a,f,3),d=$.toLength(v.length),b=0,g=r?Array(d):t?[]:void 0;d>b;b++)if((u||b in v)&&(o=v[b],h=x(o,b,l),e))if(r)g[b]=h;else if(h)switch(e){case 3:return!0;case 5:return o;case 6:return b;case 2:g.push(o)}else if(c)return!1;return i?-1:n||c?c:g}};

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js","./$.ctx":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.ctx.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.assert.js":[function(require,module,exports){
function assert(r,t,e){if(!r)throw TypeError(e?t+e:t)}var $=require("./$");assert.def=$.assertDefined,assert.fn=function(r){if(!$.isFunction(r))throw TypeError(r+" is not a function!");return r},assert.obj=function(r){if(!$.isObject(r))throw TypeError(r+" is not an object!");return r},assert.inst=function(r,t,e){if(!(r instanceof t))throw TypeError(e+": use the 'new' operator!");return r},module.exports=assert;

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.assign.js":[function(require,module,exports){
var $=require("./$"),enumKeys=require("./$.enum-keys");module.exports=Object.assign||function(e,r){for(var n=Object($.assertDefined(e)),t=arguments.length,s=1;t>s;)for(var u,a=$.ES5Object(arguments[s++]),m=enumKeys(a),g=m.length,i=0;g>i;)n[u=m[i++]]=a[u];return n};

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js","./$.enum-keys":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.enum-keys.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.cof.js":[function(require,module,exports){
function cof(o){return toString.call(o).slice(8,-1)}var $=require("./$"),TAG=require("./$.wks")("toStringTag"),toString={}.toString;cof.classof=function(o){var t,r;return void 0==o?void 0===o?"Undefined":"Null":"string"==typeof(r=(t=Object(o))[TAG])?r:cof(t)},cof.set=function(o,t,r){o&&!$.has(o=r?o:o.prototype,TAG)&&$.hide(o,TAG,t)},module.exports=cof;

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js","./$.wks":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.wks.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.collection-strong.js":[function(require,module,exports){
"use strict";function fastKey(e,t){if(!isObject(e))return("string"==typeof e?"S":"P")+e;if(isFrozen(e))return"F";if(!has(e,ID)){if(!t)return"E";hide(e,ID,++id)}return"O"+e[ID]}function getEntry(e,t){var r,i=fastKey(t);if("F"!=i)return e[O1][i];for(r=e[FIRST];r;r=r.n)if(r.k==t)return r}var $=require("./$"),ctx=require("./$.ctx"),safe=require("./$.uid").safe,assert=require("./$.assert"),forOf=require("./$.for-of"),step=require("./$.iter").step,has=$.has,set=$.set,isObject=$.isObject,hide=$.hide,isFrozen=Object.isFrozen||$.core.Object.isFrozen,ID=safe("id"),O1=safe("O1"),LAST=safe("last"),FIRST=safe("first"),ITER=safe("iter"),SIZE=$.DESC?safe("size"):"size",id=0;module.exports={getConstructor:function(e,t,r){function i(){var s=assert.inst(this,i,e),n=arguments[0];set(s,O1,$.create(null)),set(s,SIZE,0),set(s,LAST,void 0),set(s,FIRST,void 0),void 0!=n&&forOf(n,t,s[r],s)}return require("./$.mix")(i.prototype,{clear:function(){for(var e=this,t=e[O1],r=e[FIRST];r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete t[r.i];e[FIRST]=e[LAST]=void 0,e[SIZE]=0},"delete":function(e){var t=this,r=getEntry(t,e);if(r){var i=r.n,s=r.p;delete t[O1][r.i],r.r=!0,s&&(s.n=i),i&&(i.p=s),t[FIRST]==r&&(t[FIRST]=i),t[LAST]==r&&(t[LAST]=s),t[SIZE]--}return!!r},forEach:function(e){for(var t,r=ctx(e,arguments[1],3);t=t?t.n:this[FIRST];)for(r(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!getEntry(this,e)}}),$.DESC&&$.setDesc(i.prototype,"size",{get:function(){return assert.def(this[SIZE])}}),i},def:function(e,t,r){var i,s,n=getEntry(e,t);return n?n.v=r:(e[LAST]=n={i:s=fastKey(t,!0),k:t,v:r,p:i=e[LAST],n:void 0,r:!1},e[FIRST]||(e[FIRST]=n),i&&(i.n=n),e[SIZE]++,"F"!=s&&(e[O1][s]=n)),e},getEntry:getEntry,setIter:function(e,t,r){require("./$.iter-define")(e,t,function(e,t){set(this,ITER,{o:e,k:t})},function(){for(var e=this[ITER],t=e.k,r=e.l;r&&r.r;)r=r.p;return e.o&&(e.l=r=r?r.n:e.o[FIRST])?"keys"==t?step(0,r.k):"values"==t?step(0,r.v):step(0,[r.k,r.v]):(e.o=void 0,step(1))},r?"entries":"values",!r,!0)}};

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js","./$.assert":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.assert.js","./$.ctx":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.ctx.js","./$.for-of":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.for-of.js","./$.iter":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.iter.js","./$.iter-define":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.iter-define.js","./$.mix":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.mix.js","./$.uid":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.uid.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.collection-to-json.js":[function(require,module,exports){
var $def=require("./$.def"),forOf=require("./$.for-of");module.exports=function(f){$def($def.P,f,{toJSON:function(){var f=[];return forOf(this,!1,f.push,f),f}})};

},{"./$.def":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.def.js","./$.for-of":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.for-of.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.collection-weak.js":[function(require,module,exports){
"use strict";function findFrozen(e,r){return find(e.array,function(e){return e[0]===r})}function leakStore(e){return e[LEAK]||hide(e,LEAK,{array:[],get:function(e){var r=findFrozen(this,e);return r?r[1]:void 0},has:function(e){return!!findFrozen(this,e)},set:function(e,r){var t=findFrozen(this,e);t?t[1]=r:this.array.push([e,r])},"delete":function(e){var r=findIndex(this.array,function(r){return r[0]===e});return~r&&this.array.splice(r,1),!!~r}})[LEAK]}var $=require("./$"),safe=require("./$.uid").safe,assert=require("./$.assert"),forOf=require("./$.for-of"),_has=$.has,isObject=$.isObject,hide=$.hide,isFrozen=Object.isFrozen||$.core.Object.isFrozen,id=0,ID=safe("id"),WEAK=safe("weak"),LEAK=safe("leak"),method=require("./$.array-methods"),find=method(5),findIndex=method(6);module.exports={getConstructor:function(e,r,t){function i(){$.set(assert.inst(this,i,e),ID,id++);var n=arguments[0];void 0!=n&&forOf(n,r,this[t],this)}return require("./$.mix")(i.prototype,{"delete":function(e){return isObject(e)?isFrozen(e)?leakStore(this)["delete"](e):_has(e,WEAK)&&_has(e[WEAK],this[ID])&&delete e[WEAK][this[ID]]:!1},has:function(e){return isObject(e)?isFrozen(e)?leakStore(this).has(e):_has(e,WEAK)&&_has(e[WEAK],this[ID]):!1}}),i},def:function(e,r,t){return isFrozen(assert.obj(r))?leakStore(e).set(r,t):(_has(r,WEAK)||hide(r,WEAK,{}),r[WEAK][e[ID]]=t),e},leakStore:leakStore,WEAK:WEAK,ID:ID};

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js","./$.array-methods":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.array-methods.js","./$.assert":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.assert.js","./$.for-of":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.for-of.js","./$.mix":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.mix.js","./$.uid":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.uid.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.collection.js":[function(require,module,exports){
"use strict";var $=require("./$"),$def=require("./$.def"),BUGGY=require("./$.iter").BUGGY,forOf=require("./$.for-of"),species=require("./$.species"),assertInstance=require("./$.assert").inst;module.exports=function(e,r,t,i,s){function n(e,r){if($.FW){var t=c[e];require("./$.redef")(c,e,function(e,i){var s=t.call(this,0===e?0:e,i);return r?this:s})}}var o=$.g[e],u=o,f=i?"set":"add",c=u&&u.prototype,a={};if($.isFunction(u)&&(s||!BUGGY&&c.forEach&&c.entries)){var d,p=new u,q=p[f](s?{}:-0,1);require("./$.iter-detect")(function(e){new u(e)})||(u=function(){assertInstance(this,u,e);var r=new o,t=arguments[0];return void 0!=t&&forOf(t,i,r[f],r),r},u.prototype=c,$.FW&&(c.constructor=u)),s||p.forEach(function(e,r){d=1/r===-(1/0)}),d&&(n("delete"),n("has"),i&&n("get")),(d||q!==p)&&n(f,!0)}else u=t.getConstructor(e,i,f),require("./$.mix")(u.prototype,r);return require("./$.cof").set(u,e),a[e]=u,$def($def.G+$def.W+$def.F*(u!=o),a),species(u),species($.core[e]),s||t.setIter(u,e,i),u};

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js","./$.assert":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.assert.js","./$.cof":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.cof.js","./$.def":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.def.js","./$.for-of":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.for-of.js","./$.iter":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.iter.js","./$.iter-detect":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.iter-detect.js","./$.mix":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.mix.js","./$.redef":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.redef.js","./$.species":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.species.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.ctx.js":[function(require,module,exports){
var assertFunction=require("./$.assert").fn;module.exports=function(r,n,t){if(assertFunction(r),~t&&void 0===n)return r;switch(t){case 1:return function(t){return r.call(n,t)};case 2:return function(t,e){return r.call(n,t,e)};case 3:return function(t,e,u){return r.call(n,t,e,u)}}return function(){return r.apply(n,arguments)}};

},{"./$.assert":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.assert.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.def.js":[function(require,module,exports){
function ctx(e,o){return function(){return e.apply(o,arguments)}}function $def(e,o,r){var f,t,n,c,d=e&$def.G,l=e&$def.P,i=d?global:e&$def.S?global[o]:(global[o]||{}).prototype,u=d?core:core[o]||(core[o]={});d&&(r=o);for(f in r)t=!(e&$def.F)&&i&&f in i,n=(t?i:r)[f],c=e&$def.B&&t?ctx(n,global):l&&isFunction(n)?ctx(Function.call,n):n,i&&!t&&$redef(i,f,n),u[f]!=n&&$.hide(u,f,c),l&&((u.prototype||(u.prototype={}))[f]=n)}var $=require("./$"),global=$.g,core=$.core,isFunction=$.isFunction,$redef=require("./$.redef");global.core=core,$def.F=1,$def.G=2,$def.S=4,$def.P=8,$def.B=16,$def.W=32,module.exports=$def;

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js","./$.redef":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.redef.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.dom-create.js":[function(require,module,exports){
var $=require("./$"),document=$.g.document,isObject=$.isObject,is=isObject(document)&&isObject(document.createElement);module.exports=function(e){return is?document.createElement(e):{}};

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.enum-keys.js":[function(require,module,exports){
var $=require("./$");module.exports=function(e){var r=$.getKeys(e),t=$.getDesc,u=$.getSymbols;return u&&$.each.call(u(e),function(u){t(e,u).enumerable&&r.push(u)}),r};

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.for-of.js":[function(require,module,exports){
var ctx=require("./$.ctx"),get=require("./$.iter").get,call=require("./$.iter-call");module.exports=function(e,r,t,l){for(var c,a=get(e),i=ctx(t,l,r?2:1);!(c=a.next()).done;)if(call(a,i,c.value,r)===!1)return call.close(a)};

},{"./$.ctx":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.ctx.js","./$.iter":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.iter.js","./$.iter-call":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.iter-call.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.fw.js":[function(require,module,exports){
module.exports=function(t){return t.FW=!0,t.path=t.g,t};

},{}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.invoke.js":[function(require,module,exports){
module.exports=function(e,r,l){var a=void 0===l;switch(r.length){case 0:return a?e():e.call(l);case 1:return a?e(r[0]):e.call(l,r[0]);case 2:return a?e(r[0],r[1]):e.call(l,r[0],r[1]);case 3:return a?e(r[0],r[1],r[2]):e.call(l,r[0],r[1],r[2]);case 4:return a?e(r[0],r[1],r[2],r[3]):e.call(l,r[0],r[1],r[2],r[3]);case 5:return a?e(r[0],r[1],r[2],r[3],r[4]):e.call(l,r[0],r[1],r[2],r[3],r[4])}return e.apply(l,r)};

},{}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.iter-call.js":[function(require,module,exports){
function close(e){var c=e["return"];void 0!==c&&assertObject(c.call(e))}function call(e,c,r,t){try{return t?c(assertObject(r)[0],r[1]):c(r)}catch(l){throw close(e),l}}var assertObject=require("./$.assert").obj;call.close=close,module.exports=call;

},{"./$.assert":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.assert.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.iter-define.js":[function(require,module,exports){
var $def=require("./$.def"),$redef=require("./$.redef"),$=require("./$"),cof=require("./$.cof"),$iter=require("./$.iter"),SYMBOL_ITERATOR=require("./$.wks")("iterator"),FF_ITERATOR="@@iterator",KEYS="keys",VALUES="values",Iterators=$iter.Iterators;module.exports=function(e,r,t,i,n,o,s){function u(e){function r(r){return new t(r,e)}switch(e){case KEYS:return function(){return r(this)};case VALUES:return function(){return r(this)}}return function(){return r(this)}}$iter.create(t,r,i);var f,a,c=r+" Iterator",E=e.prototype,A=E[SYMBOL_ITERATOR]||E[FF_ITERATOR]||n&&E[n],I=A||u(n);if(A){var R=$.getProto(I.call(new e));cof.set(R,c,!0),$.FW&&$.has(E,FF_ITERATOR)&&$iter.set(R,$.that)}if($.FW&&$iter.set(E,I),Iterators[r]=I,Iterators[c]=$.that,n)if(f={keys:o?I:u(KEYS),values:n==VALUES?I:u(VALUES),entries:n!=VALUES?I:u("entries")},s)for(a in f)a in E||$redef(E,a,f[a]);else $def($def.P+$def.F*$iter.BUGGY,r,f)};

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js","./$.cof":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.cof.js","./$.def":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.def.js","./$.iter":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.iter.js","./$.redef":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.redef.js","./$.wks":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.wks.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.iter-detect.js":[function(require,module,exports){
var SYMBOL_ITERATOR=require("./$.wks")("iterator"),SAFE_CLOSING=!1;try{var riter=[7][SYMBOL_ITERATOR]();riter["return"]=function(){SAFE_CLOSING=!0},Array.from(riter,function(){throw 2})}catch(e){}module.exports=function(r){if(!SAFE_CLOSING)return!1;var t=!1;try{var n=[7],e=n[SYMBOL_ITERATOR]();e.next=function(){t=!0},n[SYMBOL_ITERATOR]=function(){return e},r(n)}catch(i){}return t};

},{"./$.wks":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.wks.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.iter.js":[function(require,module,exports){
"use strict";function setIterator(t,e){$.hide(t,SYMBOL_ITERATOR,e),FF_ITERATOR in[]&&$.hide(t,FF_ITERATOR,e)}var $=require("./$"),cof=require("./$.cof"),assertObject=require("./$.assert").obj,SYMBOL_ITERATOR=require("./$.wks")("iterator"),FF_ITERATOR="@@iterator",Iterators={},IteratorPrototype={};setIterator(IteratorPrototype,$.that),module.exports={BUGGY:"keys"in[]&&!("next"in[].keys()),Iterators:Iterators,step:function(t,e){return{value:e,done:!!t}},is:function(t){var e=Object(t),r=$.g.Symbol,o=r&&r.iterator||FF_ITERATOR;return o in e||SYMBOL_ITERATOR in e||$.has(Iterators,cof.classof(e))},get:function(t){var e=$.g.Symbol,r=t[e&&e.iterator||FF_ITERATOR],o=r||t[SYMBOL_ITERATOR]||Iterators[cof.classof(t)];return assertObject(o.call(t))},set:setIterator,create:function(t,e,r,o){t.prototype=$.create(o||IteratorPrototype,{next:$.desc(1,r)}),cof.set(t,e+" Iterator")}};

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js","./$.assert":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.assert.js","./$.cof":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.cof.js","./$.wks":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.wks.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js":[function(require,module,exports){
"use strict";function toInteger(e){return isNaN(e=+e)?0:(e>0?floor:ceil)(e)}function desc(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}function simpleSet(e,t,n){return e[t]=n,e}function createDefiner(e){return DESC?function(t,n,r){return $.setDesc(t,n,desc(e,r))}:simpleSet}function isObject(e){return null!==e&&("object"==typeof e||"function"==typeof e)}function isFunction(e){return"function"==typeof e}function assertDefined(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}var global="undefined"!=typeof self?self:Function("return this")(),core={},defineProperty=Object.defineProperty,hasOwnProperty={}.hasOwnProperty,ceil=Math.ceil,floor=Math.floor,max=Math.max,min=Math.min,DESC=!!function(){try{return 2==defineProperty({},"a",{get:function(){return 2}}).a}catch(e){}}(),hide=createDefiner(1),$=module.exports=require("./$.fw")({g:global,core:core,html:global.document&&document.documentElement,isObject:isObject,isFunction:isFunction,it:function(e){return e},that:function(){return this},toInteger:toInteger,toLength:function(e){return e>0?min(toInteger(e),9007199254740991):0},toIndex:function(e,t){return e=toInteger(e),0>e?max(e+t,0):min(e,t)},has:function(e,t){return hasOwnProperty.call(e,t)},create:Object.create,getProto:Object.getPrototypeOf,DESC:DESC,desc:desc,getDesc:Object.getOwnPropertyDescriptor,setDesc:defineProperty,setDescs:Object.defineProperties,getKeys:Object.keys,getNames:Object.getOwnPropertyNames,getSymbols:Object.getOwnPropertySymbols,assertDefined:assertDefined,ES5Object:Object,toObject:function(e){return $.ES5Object(assertDefined(e))},hide:hide,def:createDefiner(0),set:global.Symbol?simpleSet:hide,each:[].forEach});"undefined"!=typeof __e&&(__e=core),"undefined"!=typeof __g&&(__g=global);

},{"./$.fw":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.fw.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.keyof.js":[function(require,module,exports){
var $=require("./$");module.exports=function(e,r){for(var t,o=$.toObject(e),n=$.getKeys(o),u=n.length,f=0;u>f;)if(o[t=n[f++]]===r)return t};

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.mix.js":[function(require,module,exports){
var $redef=require("./$.redef");module.exports=function(e,r){for(var f in r)$redef(e,f,r[f]);return e};

},{"./$.redef":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.redef.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.own-keys.js":[function(require,module,exports){
var $=require("./$"),assertObject=require("./$.assert").obj;module.exports=function(e){assertObject(e);var r=$.getNames(e),t=$.getSymbols;return t?r.concat(t(e)):r};

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js","./$.assert":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.assert.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.partial.js":[function(require,module,exports){
"use strict";var $=require("./$"),invoke=require("./$.invoke"),assertFunction=require("./$.assert").fn;module.exports=function(){for(var r=assertFunction(this),e=arguments.length,n=Array(e),t=0,s=$.path._,u=!1;e>t;)(n[t]=arguments[t++])===s&&(u=!0);return function(){var t,i=this,a=arguments.length,o=0,f=0;if(!u&&!a)return invoke(r,n,i);if(t=n.slice(),u)for(;e>o;o++)t[o]===s&&(t[o]=arguments[f++]);for(;a>f;)t.push(arguments[f++]);return invoke(r,t,i)}};

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js","./$.assert":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.assert.js","./$.invoke":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.invoke.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.redef.js":[function(require,module,exports){
function $redef(t,r,e,i){if($.isFunction(e)){var n=t[r];$.hide(e,SRC,n?String(n):tpl.replace(/hasOwnProperty/,String(r)))}t===$.g?t[r]=e:(i||delete t[r],$.hide(t,r,e))}var $=require("./$"),tpl=String({}.hasOwnProperty),SRC=require("./$.uid").safe("src"),_toString=Function.toString;$redef(Function.prototype,"toString",function(){return $.has(this,SRC)?this[SRC]:_toString.call(this)}),$.core.inspectSource=function(t){return _toString.call(t)},module.exports=$redef;

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js","./$.uid":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.uid.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.replacer.js":[function(require,module,exports){
"use strict";module.exports=function(t,r,n){var e=r===Object(r)?function(t){return r[t]}:r;return function(r){return String(n?r:this).replace(t,e)}};

},{}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.set-proto.js":[function(require,module,exports){
function check(t,e){assert.obj(t),assert(null===e||$.isObject(e),e,": can't set as prototype!")}var $=require("./$"),assert=require("./$.assert");module.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e){try{e=require("./$.ctx")(Function.call,$.getDesc(Object.prototype,"__proto__").set,2),e({},[])}catch(r){t=!0}return function(r,c){return check(r,c),t?r.__proto__=c:e(r,c),r}}():void 0),check:check};

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js","./$.assert":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.assert.js","./$.ctx":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.ctx.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.species.js":[function(require,module,exports){
var $=require("./$"),SPECIES=require("./$.wks")("species");module.exports=function(e){!$.DESC||SPECIES in e||$.setDesc(e,SPECIES,{configurable:!0,get:$.that})};

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js","./$.wks":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.wks.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.string-at.js":[function(require,module,exports){
var $=require("./$");module.exports=function(e){return function(r,t){var n,o,i=String($.assertDefined(r)),a=$.toInteger(t),c=i.length;return 0>a||a>=c?e?"":void 0:(n=i.charCodeAt(a),55296>n||n>56319||a+1===c||(o=i.charCodeAt(a+1))<56320||o>57343?e?i.charAt(a):n:e?i.slice(a,a+2):(n-55296<<10)+(o-56320)+65536)}};

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.string-pad.js":[function(require,module,exports){
var $=require("./$"),repeat=require("./$.string-repeat");module.exports=function(e,r,t,n){var i=String($.assertDefined(e));if(void 0===r)return i;var a=$.toInteger(r),g=a-i.length;if(0>g||g===1/0)throw new RangeError("Cannot satisfy string length "+r+" for string: "+i);var o=void 0===t?" ":String(t),l=repeat.call(o,Math.ceil(g/o.length));return l.length>g&&(l=n?l.slice(l.length-g):l.slice(0,g)),n?l.concat(i):i.concat(l)};

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js","./$.string-repeat":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.string-repeat.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.string-repeat.js":[function(require,module,exports){
"use strict";var $=require("./$");module.exports=function(r){var e=String($.assertDefined(this)),t="",n=$.toInteger(r);if(0>n||n==1/0)throw RangeError("Count can't be negative");for(;n>0;(n>>>=1)&&(e+=e))1&n&&(t+=e);return t};

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.task.js":[function(require,module,exports){
"use strict";function run(){var e=+this;if($.has(queue,e)){var n=queue[e];delete queue[e],n()}}function listner(e){run.call(e.data)}var $=require("./$"),ctx=require("./$.ctx"),cof=require("./$.cof"),invoke=require("./$.invoke"),cel=require("./$.dom-create"),global=$.g,isFunction=$.isFunction,html=$.html,process=global.process,setTask=global.setImmediate,clearTask=global.clearImmediate,postMessage=global.postMessage,addEventListener=global.addEventListener,MessageChannel=global.MessageChannel,counter=0,queue={},ONREADYSTATECHANGE="onreadystatechange",defer,channel,port;isFunction(setTask)&&isFunction(clearTask)||(setTask=function(e){for(var n=[],t=1;arguments.length>t;)n.push(arguments[t++]);return queue[++counter]=function(){invoke(isFunction(e)?e:Function(e),n)},defer(counter),counter},clearTask=function(e){delete queue[e]},"process"==cof(process)?defer=function(e){process.nextTick(ctx(run,e,1))}:addEventListener&&isFunction(postMessage)&&!global.importScripts?(defer=function(e){postMessage(e,"*")},addEventListener("message",listner,!1)):isFunction(MessageChannel)?(channel=new MessageChannel,port=channel.port2,channel.port1.onmessage=listner,defer=ctx(port.postMessage,port,1)):defer=ONREADYSTATECHANGE in cel("script")?function(e){html.appendChild(cel("script"))[ONREADYSTATECHANGE]=function(){html.removeChild(this),run.call(e)}}:function(e){setTimeout(ctx(run,e,1),0)}),module.exports={set:setTask,clear:clearTask};

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js","./$.cof":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.cof.js","./$.ctx":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.ctx.js","./$.dom-create":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.dom-create.js","./$.invoke":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.invoke.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.throws.js":[function(require,module,exports){
module.exports=function(r){try{return r(),!1}catch(t){return!0}};

},{}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.uid.js":[function(require,module,exports){
function uid(i){return"Symbol(".concat(void 0===i?"":i,")_",(++sid+Math.random()).toString(36))}var sid=0;uid.safe=require("./$").g.Symbol||uid,module.exports=uid;

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.unscope.js":[function(require,module,exports){
var $=require("./$"),UNSCOPABLES=require("./$.wks")("unscopables");!$.FW||UNSCOPABLES in[]||$.hide(Array.prototype,UNSCOPABLES,{}),module.exports=function(e){$.FW&&([][UNSCOPABLES][e]=!0)};

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js","./$.wks":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.wks.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.wks.js":[function(require,module,exports){
var global=require("./$").g,store={};module.exports=function(o){return store[o]||(store[o]=global.Symbol&&global.Symbol[o]||require("./$.uid").safe("Symbol."+o))};

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js","./$.uid":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.uid.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es5.js":[function(require,module,exports){
function createGetKeys(e,t){return function(r){var n,i=toObject(r),o=0,s=[];for(n in i)n!=IE_PROTO&&has(i,n)&&s.push(n);for(;t>o;)has(i,n=e[o++])&&(~$indexOf(s,n)||s.push(n));return s}}function isPrimitive(e){return!$.isObject(e)}function Empty(){}function createArrayReduce(e){return function(t,r){assert.fn(t);var n=toObject(this),i=toLength(n.length),o=e?i-1:0,s=e?-1:1;if(arguments.length<2)for(;;){if(o in n){r=n[o],o+=s;break}o+=s,assert(e?o>=0:i>o,"Reduce of empty array with no initial value")}for(;e?o>=0:i>o;o+=s)o in n&&(r=t(r,n[o],o,this));return r}}function lz(e){return e>9?e:"0"+e}var $=require("./$"),cel=require("./$.dom-create"),cof=require("./$.cof"),$def=require("./$.def"),invoke=require("./$.invoke"),arrayMethod=require("./$.array-methods"),IE_PROTO=require("./$.uid").safe("__proto__"),assert=require("./$.assert"),assertObject=assert.obj,ObjectProto=Object.prototype,html=$.html,A=[],_slice=A.slice,_join=A.join,classof=cof.classof,has=$.has,defineProperty=$.setDesc,getOwnDescriptor=$.getDesc,defineProperties=$.setDescs,isFunction=$.isFunction,toObject=$.toObject,toLength=$.toLength,toIndex=$.toIndex,IE8_DOM_DEFINE=!1,$indexOf=require("./$.array-includes")(!1),$forEach=arrayMethod(0),$map=arrayMethod(1),$filter=arrayMethod(2),$some=arrayMethod(3),$every=arrayMethod(4);if(!$.DESC){try{IE8_DOM_DEFINE=8==defineProperty(cel("div"),"x",{get:function(){return 8}}).x}catch(e){}$.setDesc=function(e,t,r){if(IE8_DOM_DEFINE)try{return defineProperty(e,t,r)}catch(n){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(assertObject(e)[t]=r.value),e},$.getDesc=function(e,t){if(IE8_DOM_DEFINE)try{return getOwnDescriptor(e,t)}catch(r){}return has(e,t)?$.desc(!ObjectProto.propertyIsEnumerable.call(e,t),e[t]):void 0},$.setDescs=defineProperties=function(e,t){assertObject(e);for(var r,n=$.getKeys(t),i=n.length,o=0;i>o;)$.setDesc(e,r=n[o++],t[r]);return e}}$def($def.S+$def.F*!$.DESC,"Object",{getOwnPropertyDescriptor:$.getDesc,defineProperty:$.setDesc,defineProperties:defineProperties});var keys1="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),keys2=keys1.concat("length","prototype"),keysLen1=keys1.length,createDict=function(){var e,t=cel("iframe"),r=keysLen1,n=">";for(t.style.display="none",html.appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object</script"+n),e.close(),createDict=e.F;r--;)delete createDict.prototype[keys1[r]];return createDict()};$def($def.S,"Object",{getPrototypeOf:$.getProto=$.getProto||function(e){return e=Object(assert.def(e)),has(e,IE_PROTO)?e[IE_PROTO]:isFunction(e.constructor)&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?ObjectProto:null},getOwnPropertyNames:$.getNames=$.getNames||createGetKeys(keys2,keys2.length,!0),create:$.create=$.create||function(e,t){var r;return null!==e?(Empty.prototype=assertObject(e),r=new Empty,Empty.prototype=null,r[IE_PROTO]=e):r=createDict(),void 0===t?r:defineProperties(r,t)},keys:$.getKeys=$.getKeys||createGetKeys(keys1,keysLen1,!1),seal:$.it,freeze:$.it,preventExtensions:$.it,isSealed:isPrimitive,isFrozen:isPrimitive,isExtensible:$.isObject}),$def($def.P,"Function",{bind:function(e){function t(){var i=n.concat(_slice.call(arguments));return invoke(r,i,this instanceof t?$.create(r.prototype):e)}var r=assert.fn(this),n=_slice.call(arguments,1);return r.prototype&&(t.prototype=r.prototype),t}}),0 in Object("z")&&"z"=="z"[0]||($.ES5Object=function(e){return"String"==cof(e)?e.split(""):Object(e)});var buggySlice=!0;try{html&&_slice.call(html),buggySlice=!1}catch(e){}$def($def.P+$def.F*buggySlice,"Array",{slice:function(e,t){var r=toLength(this.length),n=cof(this);if(t=void 0===t?r:t,"Array"==n)return _slice.call(this,e,t);for(var i=toIndex(e,r),o=toIndex(t,r),s=toLength(o-i),c=Array(s),a=0;s>a;a++)c[a]="String"==n?this.charAt(i+a):this[i+a];return c}}),$def($def.P+$def.F*($.ES5Object!=Object),"Array",{join:function(){return _join.apply($.ES5Object(this),arguments)}}),$def($def.S,"Array",{isArray:function(e){return"Array"==cof(e)}}),$def($def.P,"Array",{forEach:$.each=$.each||function(e){return $forEach(this,e,arguments[1])},map:function(e){return $map(this,e,arguments[1])},filter:function(e){return $filter(this,e,arguments[1])},some:function(e){return $some(this,e,arguments[1])},every:function(e){return $every(this,e,arguments[1])},reduce:createArrayReduce(!1),reduceRight:createArrayReduce(!0),indexOf:function(e){return $indexOf(this,e,arguments[1])},lastIndexOf:function(e,t){var r=toObject(this),n=toLength(r.length),i=n-1;for(arguments.length>1&&(i=Math.min(i,$.toInteger(t))),0>i&&(i=toLength(n+i));i>=0;i--)if(i in r&&r[i]===e)return i;return-1}}),$def($def.P,"String",{trim:require("./$.replacer")(/^\s*([\s\S]*\S)?\s*$/,"$1")}),$def($def.S,"Date",{now:function(){return+new Date}});var date=new Date(-5e13-1),brokenDate=!(date.toISOString&&"0385-07-25T07:06:39.999Z"==date.toISOString()&&require("./$.throws")(function(){new Date(NaN).toISOString()}));$def($def.P+$def.F*brokenDate,"Date",{toISOString:function(){if(!isFinite(this))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),r=e.getUTCMilliseconds(),n=0>t?"-":t>9999?"+":"";return n+("00000"+Math.abs(t)).slice(n?-6:-4)+"-"+lz(e.getUTCMonth()+1)+"-"+lz(e.getUTCDate())+"T"+lz(e.getUTCHours())+":"+lz(e.getUTCMinutes())+":"+lz(e.getUTCSeconds())+"."+(r>99?r:"0"+lz(r))+"Z"}}),"Object"==classof(function(){return arguments}())&&(cof.classof=function(e){var t=classof(e);return"Object"==t&&isFunction(e.callee)?"Arguments":t});

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js","./$.array-includes":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.array-includes.js","./$.array-methods":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.array-methods.js","./$.assert":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.assert.js","./$.cof":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.cof.js","./$.def":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.def.js","./$.dom-create":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.dom-create.js","./$.invoke":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.invoke.js","./$.replacer":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.replacer.js","./$.throws":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.throws.js","./$.uid":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.uid.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.array.copy-within.js":[function(require,module,exports){
"use strict";var $=require("./$"),$def=require("./$.def"),toIndex=$.toIndex;$def($def.P,"Array",{copyWithin:function(e,t){var n=Object($.assertDefined(this)),r=$.toLength(n.length),i=toIndex(e,r),d=toIndex(t,r),o=arguments[2],u=void 0===o?r:toIndex(o,r),f=Math.min(u-d,r-i),s=1;for(i>d&&d+f>i&&(s=-1,d=d+f-1,i=i+f-1);f-->0;)d in n?n[i]=n[d]:delete n[i],i+=s,d+=s;return n}}),require("./$.unscope")("copyWithin");

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js","./$.def":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.def.js","./$.unscope":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.unscope.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.array.fill.js":[function(require,module,exports){
"use strict";var $=require("./$"),$def=require("./$.def"),toIndex=$.toIndex;$def($def.P,"Array",{fill:function(e){for(var r=Object($.assertDefined(this)),t=$.toLength(r.length),n=toIndex(arguments[1],t),d=arguments[2],i=void 0===d?t:toIndex(d,t);i>n;)r[n++]=e;return r}}),require("./$.unscope")("fill");

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js","./$.def":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.def.js","./$.unscope":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.unscope.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.array.find-index.js":[function(require,module,exports){
"use strict";var KEY="findIndex",$def=require("./$.def"),forced=!0,$find=require("./$.array-methods")(6);KEY in[]&&Array(1)[KEY](function(){forced=!1}),$def($def.P+$def.F*forced,"Array",{findIndex:function(e){return $find(this,e,arguments[1])}}),require("./$.unscope")(KEY);

},{"./$.array-methods":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.array-methods.js","./$.def":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.def.js","./$.unscope":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.unscope.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.array.find.js":[function(require,module,exports){
"use strict";var KEY="find",$def=require("./$.def"),forced=!0,$find=require("./$.array-methods")(5);KEY in[]&&Array(1)[KEY](function(){forced=!1}),$def($def.P+$def.F*forced,"Array",{find:function(r){return $find(this,r,arguments[1])}}),require("./$.unscope")(KEY);

},{"./$.array-methods":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.array-methods.js","./$.def":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.def.js","./$.unscope":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.unscope.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.array.from.js":[function(require,module,exports){
var $=require("./$"),ctx=require("./$.ctx"),$def=require("./$.def"),$iter=require("./$.iter"),call=require("./$.iter-call");$def($def.S+$def.F*!require("./$.iter-detect")(function(e){Array.from(e)}),"Array",{from:function(e){var r,t,i,n,f=Object($.assertDefined(e)),u=arguments[1],a=void 0!==u,o=a?ctx(u,arguments[2],2):void 0,c=0;if($iter.is(f))for(n=$iter.get(f),t=new("function"==typeof this?this:Array);!(i=n.next()).done;c++)t[c]=a?call(n,o,[i.value,c],!0):i.value;else for(t=new("function"==typeof this?this:Array)(r=$.toLength(f.length));r>c;c++)t[c]=a?o(f[c],c):f[c];return t.length=c,t}});

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js","./$.ctx":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.ctx.js","./$.def":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.def.js","./$.iter":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.iter.js","./$.iter-call":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.iter-call.js","./$.iter-detect":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.iter-detect.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.array.iterator.js":[function(require,module,exports){
var $=require("./$"),setUnscope=require("./$.unscope"),ITER=require("./$.uid").safe("iter"),$iter=require("./$.iter"),step=$iter.step,Iterators=$iter.Iterators;require("./$.iter-define")(Array,"Array",function(e,r){$.set(this,ITER,{o:$.toObject(e),i:0,k:r})},function(){var e=this[ITER],r=e.o,t=e.k,s=e.i++;return!r||s>=r.length?(e.o=void 0,step(1)):"keys"==t?step(0,s):"values"==t?step(0,r[s]):step(0,[s,r[s]])},"values"),Iterators.Arguments=Iterators.Array,setUnscope("keys"),setUnscope("values"),setUnscope("entries");

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js","./$.iter":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.iter.js","./$.iter-define":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.iter-define.js","./$.uid":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.uid.js","./$.unscope":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.unscope.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.array.of.js":[function(require,module,exports){
var $def=require("./$.def");$def($def.S,"Array",{of:function(){for(var e=0,r=arguments.length,n=new("function"==typeof this?this:Array)(r);r>e;)n[e]=arguments[e++];return n.length=r,n}});

},{"./$.def":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.def.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.array.species.js":[function(require,module,exports){
require("./$.species")(Array);

},{"./$.species":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.species.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.function.has-instance.js":[function(require,module,exports){
var $=require("./$"),HAS_INSTANCE=require("./$.wks")("hasInstance"),FunctionProto=Function.prototype;HAS_INSTANCE in FunctionProto||$.setDesc(FunctionProto,HAS_INSTANCE,{value:function(t){if(!$.isFunction(this)||!$.isObject(t))return!1;if(!$.isObject(this.prototype))return t instanceof this;for(;t=$.getProto(t);)if(this.prototype===t)return!0;return!1}});

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js","./$.wks":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.wks.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.function.name.js":[function(require,module,exports){
"use strict";var $=require("./$"),NAME="name",setDesc=$.setDesc,FunctionProto=Function.prototype;NAME in FunctionProto||$.FW&&$.DESC&&setDesc(FunctionProto,NAME,{configurable:!0,get:function(){var t=String(this).match(/^\s*function ([^ (]*)/),s=t?t[1]:"";return $.has(this,NAME)||setDesc(this,NAME,$.desc(5,s)),s},set:function(t){$.has(this,NAME)||setDesc(this,NAME,$.desc(0,t))}});

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.map.js":[function(require,module,exports){
"use strict";var strong=require("./$.collection-strong");require("./$.collection")("Map",{get:function(t){var r=strong.getEntry(this,t);return r&&r.v},set:function(t,r){return strong.def(this,0===t?0:t,r)}},strong,!0);

},{"./$.collection":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.collection.js","./$.collection-strong":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.collection-strong.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.math.js":[function(require,module,exports){
function roundTiesToEven(n){return n+1/EPSILON-1/EPSILON}function sign(n){return 0==(n=+n)||n!=n?n:0>n?-1:1}function asinh(n){return isFinite(n=+n)&&0!=n?0>n?-asinh(-n):log(n+sqrt(n*n+1)):n}function expm1(n){return 0==(n=+n)?n:n>-1e-6&&1e-6>n?n+n*n/2:exp(n)-1}var Infinity=1/0,$def=require("./$.def"),E=Math.E,pow=Math.pow,abs=Math.abs,exp=Math.exp,log=Math.log,sqrt=Math.sqrt,ceil=Math.ceil,floor=Math.floor,EPSILON=pow(2,-52),EPSILON32=pow(2,-23),MAX32=pow(2,127)*(2-EPSILON32),MIN32=pow(2,-126);$def($def.S,"Math",{acosh:function(n){return(n=+n)<1?NaN:isFinite(n)?log(n/E+sqrt(n+1)*sqrt(n-1)/E)+1:n},asinh:asinh,atanh:function(n){return 0==(n=+n)?n:log((1+n)/(1-n))/2},cbrt:function(n){return sign(n=+n)*pow(abs(n),1/3)},clz32:function(n){return(n>>>=0)?31-floor(log(n+.5)*Math.LOG2E):32},cosh:function(n){return(exp(n=+n)+exp(-n))/2},expm1:expm1,fround:function(n){var t,r,e=abs(n),o=sign(n);return MIN32>e?o*roundTiesToEven(e/MIN32/EPSILON32)*MIN32*EPSILON32:(t=(1+EPSILON32/EPSILON)*e,r=t-(t-e),r>MAX32||r!=r?o*Infinity:o*r)},hypot:function(n,t){for(var r,e=0,o=arguments.length,i=o,u=Array(o),f=0;o--;){if(r=u[o]=abs(arguments[o]),r==Infinity)return Infinity;r>f&&(f=r)}for(f=f||1;i--;)e+=pow(u[i]/f,2);return f*sqrt(e)},imul:function(n,t){var r=65535,e=+n,o=+t,i=r&e,u=r&o;return 0|i*u+((r&e>>>16)*u+i*(r&o>>>16)<<16>>>0)},log1p:function(n){return(n=+n)>-1e-8&&1e-8>n?n-n*n/2:log(1+n)},log10:function(n){return log(n)/Math.LN10},log2:function(n){return log(n)/Math.LN2},sign:sign,sinh:function(n){return abs(n=+n)<1?(expm1(n)-expm1(-n))/2:(exp(n-1)-exp(-n-1))*(E/2)},tanh:function(n){var t=expm1(n=+n),r=expm1(-n);return t==Infinity?1:r==Infinity?-1:(t-r)/(exp(n)+exp(-n))},trunc:function(n){return(n>0?floor:ceil)(n)}});

},{"./$.def":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.def.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.number.constructor.js":[function(require,module,exports){
"use strict";function toPrimitive(e){var t,r;if(isFunction(t=e.valueOf)&&!isObject(r=t.call(e)))return r;if(isFunction(t=e.toString)&&!isObject(r=t.call(e)))return r;throw TypeError("Can't convert object to number")}function toNumber(e){if(isObject(e)&&(e=toPrimitive(e)),"string"==typeof e&&e.length>2&&48==e.charCodeAt(0)){var t=!1;switch(e.charCodeAt(1)){case 66:case 98:t=!0;case 79:case 111:return parseInt(e.slice(2),t?2:8)}}return+e}var $=require("./$"),isObject=$.isObject,isFunction=$.isFunction,NUMBER="Number",$Number=$.g[NUMBER],Base=$Number,proto=$Number.prototype;!$.FW||$Number("0o1")&&$Number("0b1")||($Number=function(e){return this instanceof $Number?new Base(toNumber(e)):toNumber(e)},$.each.call($.DESC?$.getNames(Base):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),function(e){$.has(Base,e)&&!$.has($Number,e)&&$.setDesc($Number,e,$.getDesc(Base,e))}),$Number.prototype=proto,proto.constructor=$Number,require("./$.redef")($.g,NUMBER,$Number));

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js","./$.redef":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.redef.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.number.statics.js":[function(require,module,exports){
function isInteger(e){return!$.isObject(e)&&_isFinite(e)&&floor(e)===e}var $=require("./$"),$def=require("./$.def"),abs=Math.abs,floor=Math.floor,_isFinite=$.g.isFinite,MAX_SAFE_INTEGER=9007199254740991;$def($def.S,"Number",{EPSILON:Math.pow(2,-52),isFinite:function(e){return"number"==typeof e&&_isFinite(e)},isInteger:isInteger,isNaN:function(e){return e!=e},isSafeInteger:function(e){return isInteger(e)&&abs(e)<=MAX_SAFE_INTEGER},MAX_SAFE_INTEGER:MAX_SAFE_INTEGER,MIN_SAFE_INTEGER:-MAX_SAFE_INTEGER,parseFloat:parseFloat,parseInt:parseInt});

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js","./$.def":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.def.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.object.assign.js":[function(require,module,exports){
var $def=require("./$.def");$def($def.S,"Object",{assign:require("./$.assign")});

},{"./$.assign":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.assign.js","./$.def":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.def.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.object.is.js":[function(require,module,exports){
var $def=require("./$.def");$def($def.S,"Object",{is:function(e,f){return e===f?0!==e||1/e===1/f:e!=e&&f!=f}});

},{"./$.def":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.def.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.object.set-prototype-of.js":[function(require,module,exports){
var $def=require("./$.def");$def($def.S,"Object",{setPrototypeOf:require("./$.set-proto").set});

},{"./$.def":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.def.js","./$.set-proto":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.set-proto.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.object.statics-accept-primitives.js":[function(require,module,exports){
var $=require("./$"),$def=require("./$.def"),isObject=$.isObject,toObject=$.toObject;$.each.call("freeze,seal,preventExtensions,isFrozen,isSealed,isExtensible,getOwnPropertyDescriptor,getPrototypeOf,keys,getOwnPropertyNames".split(","),function(e,t){var n=($.core.Object||{})[e]||Object[e],r=0,c={};c[e]=0==t?function(e){return isObject(e)?n(e):e}:1==t?function(e){return isObject(e)?n(e):e}:2==t?function(e){return isObject(e)?n(e):e}:3==t?function(e){return isObject(e)?n(e):!0}:4==t?function(e){return isObject(e)?n(e):!0}:5==t?function(e){return isObject(e)?n(e):!1}:6==t?function(e,t){return n(toObject(e),t)}:7==t?function(e){return n(Object($.assertDefined(e)))}:8==t?function(e){return n(toObject(e))}:function(e){return n(toObject(e))};try{n("z")}catch(i){r=1}$def($def.S+$def.F*r,"Object",c)});

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js","./$.def":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.def.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.object.to-string.js":[function(require,module,exports){
"use strict";var cof=require("./$.cof"),tmp={};tmp[require("./$.wks")("toStringTag")]="z",require("./$").FW&&"z"!=cof(tmp)&&require("./$.redef")(Object.prototype,"toString",function(){return"[object "+cof.classof(this)+"]"},!0);

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js","./$.cof":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.cof.js","./$.redef":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.redef.js","./$.wks":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.wks.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.promise.js":[function(require,module,exports){
"use strict";function getConstructor(e){var t=assertObject(e)[SPECIES];return void 0!=t?t:e}function isThenable(e){var t;return isObject(e)&&(t=e.then),isFunction(t)?t:!1}function notify(e){var t=e.c;t.length&&asap(function(){function r(t){var r,s,i=o?t.ok:t.fail;try{i?(o||(e.h=!0),r=i===!0?n:i(n),r===t.P?t.rej(TypeError("Promise-chain cycle")):(s=isThenable(r))?s.call(r,t.res,t.rej):t.res(r)):t.rej(n)}catch(c){t.rej(c)}}for(var n=e.v,o=1==e.s,s=0;t.length>s;)r(t[s++]);t.length=0})}function isUnhandled(e){var t,r=e[RECORD],n=r.a||r.c,o=0;if(r.h)return!1;for(;n.length>o;)if(t=n[o++],t.fail||!isUnhandled(t.P))return!1;return!0}function $reject(e){var t,r=this;r.d||(r.d=!0,r=r.r||r,r.v=e,r.s=2,r.a=r.c.slice(),setTimeout(function(){asap(function(){isUnhandled(t=r.p)&&("process"==cof(process)?process.emit("unhandledRejection",e,t):global.console&&isFunction(console.error)&&console.error("Unhandled promise rejection",e)),r.a=void 0})},1),notify(r))}function $resolve(e){var t,r,n=this;if(!n.d){n.d=!0,n=n.r||n;try{(t=isThenable(e))?(r={r:n,d:!1},t.call(e,ctx($resolve,r,1),ctx($reject,r,1))):(n.v=e,n.s=1,notify(n))}catch(o){$reject.call(r||{r:n,d:!1},o)}}}var $=require("./$"),ctx=require("./$.ctx"),cof=require("./$.cof"),$def=require("./$.def"),assert=require("./$.assert"),forOf=require("./$.for-of"),setProto=require("./$.set-proto").set,species=require("./$.species"),SPECIES=require("./$.wks")("species"),RECORD=require("./$.uid").safe("record"),PROMISE="Promise",global=$.g,process=global.process,asap=process&&process.nextTick||require("./$.task").set,P=global[PROMISE],isFunction=$.isFunction,isObject=$.isObject,assertFunction=assert.fn,assertObject=assert.obj,useNative=function(){function e(t){var r=new P(t);return setProto(r,e.prototype),r}var t,r=!1;try{r=isFunction(P)&&isFunction(P.resolve)&&P.resolve(t=new P(function(){}))==t,setProto(e,P),e.prototype=$.create(P.prototype,{constructor:{value:e}}),e.resolve(5).then(function(){})instanceof e||(r=!1)}catch(n){r=!1}return r}();useNative||(P=function(e){assertFunction(e);var t={p:assert.inst(this,P,PROMISE),c:[],a:void 0,s:0,d:!1,v:void 0,h:!1};$.hide(this,RECORD,t);try{e(ctx($resolve,t,1),ctx($reject,t,1))}catch(r){$reject.call(t,r)}},require("./$.mix")(P.prototype,{then:function(e,t){var r=assertObject(assertObject(this).constructor)[SPECIES],n={ok:isFunction(e)?e:!0,fail:isFunction(t)?t:!1},o=n.P=new(void 0!=r?r:P)(function(e,t){n.res=assertFunction(e),n.rej=assertFunction(t)}),s=this[RECORD];return s.c.push(n),s.a&&s.a.push(n),s.s&&notify(s),o},"catch":function(e){return this.then(void 0,e)}})),$def($def.G+$def.W+$def.F*!useNative,{Promise:P}),cof.set(P,PROMISE),species(P),species($.core[PROMISE]),$def($def.S+$def.F*!useNative,PROMISE,{reject:function(e){return new(getConstructor(this))(function(t,r){r(e)})},resolve:function(e){return isObject(e)&&RECORD in e&&$.getProto(e)===this.prototype?e:new(getConstructor(this))(function(t){t(e)})}}),$def($def.S+$def.F*!(useNative&&require("./$.iter-detect")(function(e){P.all(e)["catch"](function(){})})),PROMISE,{all:function(e){var t=getConstructor(this),r=[];return new t(function(n,o){forOf(e,!1,r.push,r);var s=r.length,i=Array(s);s?$.each.call(r,function(e,r){t.resolve(e).then(function(e){i[r]=e,--s||n(i)},o)}):n(i)})},race:function(e){var t=getConstructor(this);return new t(function(r,n){forOf(e,!1,function(e){t.resolve(e).then(r,n)})})}});

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js","./$.assert":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.assert.js","./$.cof":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.cof.js","./$.ctx":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.ctx.js","./$.def":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.def.js","./$.for-of":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.for-of.js","./$.iter-detect":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.iter-detect.js","./$.mix":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.mix.js","./$.set-proto":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.set-proto.js","./$.species":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.species.js","./$.task":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.task.js","./$.uid":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.uid.js","./$.wks":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.wks.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.reflect.js":[function(require,module,exports){
function Enumerate(e){$.set(this,ITER,{o:e,k:void 0,i:0})}var $=require("./$"),$def=require("./$.def"),setProto=require("./$.set-proto"),$iter=require("./$.iter"),ITERATOR=require("./$.wks")("iterator"),ITER=require("./$.uid").safe("iter"),step=$iter.step,assert=require("./$.assert"),isObject=$.isObject,getProto=$.getProto,$Reflect=$.g.Reflect,_apply=Function.apply,assertObject=assert.obj,_isExtensible=Object.isExtensible||$.isObject,_preventExtensions=Object.preventExtensions||$.it,buggyEnumerate=!($Reflect&&$Reflect.enumerate&&ITERATOR in $Reflect.enumerate({}));$iter.create(Enumerate,"Object",function(){var e,t=this[ITER],r=t.k;if(void 0==r){t.k=r=[];for(e in t.o)r.push(e)}do if(t.i>=r.length)return step(1);while(!((e=r[t.i++])in t.o));return step(0,e)});var reflect={apply:function(e,t,r){return _apply.call(e,t,r)},construct:function(e,t){var r=assert.fn(arguments.length<3?e:arguments[2]).prototype,n=$.create(isObject(r)?r:Object.prototype),s=_apply.call(e,n,t);return isObject(s)?s:n},defineProperty:function(e,t,r){assertObject(e);try{return $.setDesc(e,t,r),!0}catch(n){return!1}},deleteProperty:function(e,t){var r=$.getDesc(assertObject(e),t);return r&&!r.configurable?!1:delete e[t]},get:function e(t,r){var n,s=arguments.length<3?t:arguments[2],c=$.getDesc(assertObject(t),r);return c?$.has(c,"value")?c.value:void 0===c.get?void 0:c.get.call(s):isObject(n=getProto(t))?e(n,r,s):void 0},getOwnPropertyDescriptor:function(e,t){return $.getDesc(assertObject(e),t)},getPrototypeOf:function(e){return getProto(assertObject(e))},has:function(e,t){return t in e},isExtensible:function(e){return _isExtensible(assertObject(e))},ownKeys:require("./$.own-keys"),preventExtensions:function(e){assertObject(e);try{return _preventExtensions(e),!0}catch(t){return!1}},set:function t(e,r,n){var s,c,i=arguments.length<4?e:arguments[3],o=$.getDesc(assertObject(e),r);if(!o){if(isObject(c=getProto(e)))return t(c,r,n,i);o=$.desc(0)}return $.has(o,"value")?o.writable!==!1&&isObject(i)?(s=$.getDesc(i,r)||$.desc(0),s.value=n,$.setDesc(i,r,s),!0):!1:void 0===o.set?!1:(o.set.call(i,n),!0)}};setProto&&(reflect.setPrototypeOf=function(e,t){setProto.check(e,t);try{return setProto.set(e,t),!0}catch(r){return!1}}),$def($def.G,{Reflect:{}}),$def($def.S+$def.F*buggyEnumerate,"Reflect",{enumerate:function(e){return new Enumerate(assertObject(e))}}),$def($def.S,"Reflect",reflect);

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js","./$.assert":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.assert.js","./$.def":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.def.js","./$.iter":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.iter.js","./$.own-keys":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.own-keys.js","./$.set-proto":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.set-proto.js","./$.uid":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.uid.js","./$.wks":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.wks.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.regexp.js":[function(require,module,exports){
var $=require("./$"),cof=require("./$.cof"),$RegExp=$.g.RegExp,Base=$RegExp,proto=$RegExp.prototype,re=/a/g,CORRECT_NEW=new $RegExp(re)!==re,ALLOWS_RE_WITH_FLAGS=function(){try{return"/a/i"==$RegExp(re,"i")}catch(e){}}();$.FW&&$.DESC&&(CORRECT_NEW&&ALLOWS_RE_WITH_FLAGS||($RegExp=function(e,r){var g="RegExp"==cof(e),$=void 0===r;return this instanceof $RegExp||!g||!$?CORRECT_NEW?new Base(g&&!$?e.source:e,r):new Base(g?e.source:e,g&&$?e.flags:r):e},$.each.call($.getNames(Base),function(e){e in $RegExp||$.setDesc($RegExp,e,{configurable:!0,get:function(){return Base[e]},set:function(r){Base[e]=r}})}),proto.constructor=$RegExp,$RegExp.prototype=proto,require("./$.redef")($.g,"RegExp",$RegExp)),"g"!=/./g.flags&&$.setDesc(proto,"flags",{configurable:!0,get:require("./$.replacer")(/^.*\/(\w*)$/,"$1")})),require("./$.species")($RegExp);

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js","./$.cof":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.cof.js","./$.redef":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.redef.js","./$.replacer":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.replacer.js","./$.species":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.species.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.set.js":[function(require,module,exports){
"use strict";var strong=require("./$.collection-strong");require("./$.collection")("Set",{add:function(r){return strong.def(this,r=0===r?0:r,r)}},strong);

},{"./$.collection":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.collection.js","./$.collection-strong":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.collection-strong.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.string.code-point-at.js":[function(require,module,exports){
"use strict";var $def=require("./$.def"),$at=require("./$.string-at")(!1);$def($def.P,"String",{codePointAt:function(t){return $at(this,t)}});

},{"./$.def":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.def.js","./$.string-at":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.string-at.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.string.ends-with.js":[function(require,module,exports){
"use strict";var $=require("./$"),cof=require("./$.cof"),$def=require("./$.def"),toLength=$.toLength;$def($def.P+$def.F*!require("./$.throws")(function(){"q".endsWith(/./)}),"String",{endsWith:function(e){if("RegExp"==cof(e))throw TypeError();var t=String($.assertDefined(this)),r=arguments[1],n=toLength(t.length),i=void 0===r?n:Math.min(toLength(r),n);return e+="",t.slice(i-e.length,i)===e}});

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js","./$.cof":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.cof.js","./$.def":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.def.js","./$.throws":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.throws.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.string.from-code-point.js":[function(require,module,exports){
var $def=require("./$.def"),toIndex=require("./$").toIndex,fromCharCode=String.fromCharCode,$fromCodePoint=String.fromCodePoint;$def($def.S+$def.F*(!!$fromCodePoint&&1!=$fromCodePoint.length),"String",{fromCodePoint:function(o){for(var r,e=[],n=arguments.length,t=0;n>t;){if(r=+arguments[t++],toIndex(r,1114111)!==r)throw RangeError(r+" is not a valid code point");e.push(65536>r?fromCharCode(r):fromCharCode(((r-=65536)>>10)+55296,r%1024+56320))}return e.join("")}});

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js","./$.def":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.def.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.string.includes.js":[function(require,module,exports){
"use strict";var $=require("./$"),cof=require("./$.cof"),$def=require("./$.def");$def($def.P,"String",{includes:function(e){if("RegExp"==cof(e))throw TypeError();return!!~String($.assertDefined(this)).indexOf(e,arguments[1])}});

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js","./$.cof":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.cof.js","./$.def":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.def.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.string.iterator.js":[function(require,module,exports){
var set=require("./$").set,$at=require("./$.string-at")(!0),ITER=require("./$.uid").safe("iter"),$iter=require("./$.iter"),step=$iter.step;require("./$.iter-define")(String,"String",function(e){set(this,ITER,{o:String(e),i:0})},function(){var e,t=this[ITER],i=t.o,r=t.i;return r>=i.length?step(1):(e=$at(i,r),t.i+=e.length,step(0,e))});

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js","./$.iter":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.iter.js","./$.iter-define":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.iter-define.js","./$.string-at":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.string-at.js","./$.uid":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.uid.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.string.raw.js":[function(require,module,exports){
var $=require("./$"),$def=require("./$.def");$def($def.S,"String",{raw:function(r){for(var e=$.toObject(r.raw),t=$.toLength(e.length),n=arguments.length,g=[],u=0;t>u;)g.push(String(e[u++])),n>u&&g.push(String(arguments[u]));return g.join("")}});

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js","./$.def":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.def.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.string.repeat.js":[function(require,module,exports){
var $def=require("./$.def");$def($def.P,"String",{repeat:require("./$.string-repeat")});

},{"./$.def":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.def.js","./$.string-repeat":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.string-repeat.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.string.starts-with.js":[function(require,module,exports){
"use strict";var $=require("./$"),cof=require("./$.cof"),$def=require("./$.def");$def($def.P+$def.F*!require("./$.throws")(function(){"q".startsWith(/./)}),"String",{startsWith:function(e){if("RegExp"==cof(e))throw TypeError();var r=String($.assertDefined(this)),t=$.toLength(Math.min(arguments[1],r.length));return e+="",r.slice(t,t+e.length)===e}});

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js","./$.cof":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.cof.js","./$.def":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.def.js","./$.throws":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.throws.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.symbol.js":[function(require,module,exports){
"use strict";function wrap(e){var t=AllSymbols[e]=$.set($create($Symbol.prototype),TAG,e);return $.DESC&&setter&&setDesc(Object.prototype,e,{configurable:!0,set:function(t){has(this,HIDDEN)&&has(this[HIDDEN],e)&&(this[HIDDEN][e]=!1),setDesc(this,e,desc(1,t))}}),t}function defineProperty(e,t,r){return r&&has(AllSymbols,t)&&(r.enumerable?(has(e,HIDDEN)&&e[HIDDEN][t]&&(e[HIDDEN][t]=!1),r=$create(r,{enumerable:desc(0,!1)})):(has(e,HIDDEN)||setDesc(e,HIDDEN,desc(1,{})),e[HIDDEN][t]=!0)),setDesc(e,t,r)}function defineProperties(e,t){assertObject(e);for(var r,s=enumKeys(t=toObject(t)),o=0,n=s.length;n>o;)defineProperty(e,r=s[o++],t[r]);return e}function create(e,t){return void 0===t?$create(e):defineProperties($create(e),t)}function propertyIsEnumerable(e){var t=_propertyIsEnumerable.call(this,e);return t||!has(this,e)||!has(AllSymbols,e)||has(this,HIDDEN)&&this[HIDDEN][e]?t:!0}function getOwnPropertyDescriptor(e,t){var r=getDesc(e=toObject(e),t);return!r||!has(AllSymbols,t)||has(e,HIDDEN)&&e[HIDDEN][t]||(r.enumerable=!0),r}function getOwnPropertyNames(e){for(var t,r=getNames(toObject(e)),s=[],o=0;r.length>o;)has(AllSymbols,t=r[o++])||t==HIDDEN||s.push(t);return s}function getOwnPropertySymbols(e){for(var t,r=getNames(toObject(e)),s=[],o=0;r.length>o;)has(AllSymbols,t=r[o++])&&s.push(AllSymbols[t]);return s}var $=require("./$"),setTag=require("./$.cof").set,uid=require("./$.uid"),$def=require("./$.def"),$redef=require("./$.redef"),keyOf=require("./$.keyof"),enumKeys=require("./$.enum-keys"),assertObject=require("./$.assert").obj,has=$.has,$create=$.create,getDesc=$.getDesc,setDesc=$.setDesc,desc=$.desc,getNames=$.getNames,toObject=$.toObject,$Symbol=$.g.Symbol,setter=!1,TAG=uid("tag"),HIDDEN=uid("hidden"),_propertyIsEnumerable={}.propertyIsEnumerable,SymbolRegistry={},AllSymbols={},useNative=$.isFunction($Symbol);useNative||($Symbol=function(){if(this instanceof $Symbol)throw TypeError("Symbol is not a constructor");return wrap(uid(arguments[0]))},$redef($Symbol.prototype,"toString",function(){return this[TAG]}),$.create=create,$.setDesc=defineProperty,$.getDesc=getOwnPropertyDescriptor,$.setDescs=defineProperties,$.getNames=getOwnPropertyNames,$.getSymbols=getOwnPropertySymbols,$.DESC&&$.FW&&$redef(Object.prototype,"propertyIsEnumerable",propertyIsEnumerable,!0));var symbolStatics={"for":function(e){return has(SymbolRegistry,e+="")?SymbolRegistry[e]:SymbolRegistry[e]=$Symbol(e)},keyFor:function(e){return keyOf(SymbolRegistry,e)},useSetter:function(){setter=!0},useSimple:function(){setter=!1}};$.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),function(e){var t=require("./$.wks")(e);symbolStatics[e]=useNative?t:wrap(t)}),setter=!0,$def($def.G+$def.W,{Symbol:$Symbol}),$def($def.S,"Symbol",symbolStatics),$def($def.S+$def.F*!useNative,"Object",{create:create,defineProperty:defineProperty,defineProperties:defineProperties,getOwnPropertyDescriptor:getOwnPropertyDescriptor,getOwnPropertyNames:getOwnPropertyNames,getOwnPropertySymbols:getOwnPropertySymbols}),setTag($Symbol,"Symbol"),setTag(Math,"Math",!0),setTag($.g.JSON,"JSON",!0);

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js","./$.assert":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.assert.js","./$.cof":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.cof.js","./$.def":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.def.js","./$.enum-keys":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.enum-keys.js","./$.keyof":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.keyof.js","./$.redef":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.redef.js","./$.uid":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.uid.js","./$.wks":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.wks.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.weak-map.js":[function(require,module,exports){
"use strict";var $=require("./$"),weak=require("./$.collection-weak"),leakStore=weak.leakStore,ID=weak.ID,WEAK=weak.WEAK,has=$.has,isObject=$.isObject,isFrozen=Object.isFrozen||$.core.Object.isFrozen,tmp={},WeakMap=require("./$.collection")("WeakMap",{get:function(e){if(isObject(e)){if(isFrozen(e))return leakStore(this).get(e);if(has(e,WEAK))return e[WEAK][this[ID]]}},set:function(e,t){return weak.def(this,e,t)}},weak,!0,!0);$.FW&&7!=(new WeakMap).set((Object.freeze||Object)(tmp),7).get(tmp)&&$.each.call(["delete","has","get","set"],function(e){var t=WeakMap.prototype[e];require("./$.redef")(WeakMap.prototype,e,function(r,a){if(isObject(r)&&isFrozen(r)){var i=leakStore(this)[e](r,a);return"set"==e?this:i}return t.call(this,r,a)})});

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js","./$.collection":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.collection.js","./$.collection-weak":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.collection-weak.js","./$.redef":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.redef.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.weak-set.js":[function(require,module,exports){
"use strict";var weak=require("./$.collection-weak");require("./$.collection")("WeakSet",{add:function(e){return weak.def(this,e,!0)}},weak,!1,!0);

},{"./$.collection":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.collection.js","./$.collection-weak":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.collection-weak.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es7.array.includes.js":[function(require,module,exports){
var $def=require("./$.def"),$includes=require("./$.array-includes")(!0);$def($def.P,"Array",{includes:function(e){return $includes(this,e,arguments[1])}}),require("./$.unscope")("includes");

},{"./$.array-includes":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.array-includes.js","./$.def":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.def.js","./$.unscope":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.unscope.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es7.map.to-json.js":[function(require,module,exports){
require("./$.collection-to-json")("Map");

},{"./$.collection-to-json":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.collection-to-json.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es7.object.get-own-property-descriptors.js":[function(require,module,exports){
var $=require("./$"),$def=require("./$.def"),ownKeys=require("./$.own-keys");$def($def.S,"Object",{getOwnPropertyDescriptors:function(e){var r=$.toObject(e),t={};return $.each.call(ownKeys(r),function(e){$.setDesc(t,e,$.desc(0,$.getDesc(r,e)))}),t}});

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js","./$.def":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.def.js","./$.own-keys":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.own-keys.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es7.object.to-array.js":[function(require,module,exports){
function createObjectToArray(e){return function(r){var t,a=$.toObject(r),c=$.getKeys(a),f=c.length,n=0,o=Array(f);if(e)for(;f>n;)o[n]=[t=c[n++],a[t]];else for(;f>n;)o[n]=a[c[n++]];return o}}var $=require("./$"),$def=require("./$.def");$def($def.S,"Object",{values:createObjectToArray(!1),entries:createObjectToArray(!0)});

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js","./$.def":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.def.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es7.regexp.escape.js":[function(require,module,exports){
var $def=require("./$.def");$def($def.S,"RegExp",{escape:require("./$.replacer")(/([\\\-[\]{}()*+?.,^$|])/g,"\\$1",!0)});

},{"./$.def":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.def.js","./$.replacer":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.replacer.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es7.set.to-json.js":[function(require,module,exports){
require("./$.collection-to-json")("Set");

},{"./$.collection-to-json":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.collection-to-json.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es7.string.at.js":[function(require,module,exports){
"use strict";var $def=require("./$.def"),$at=require("./$.string-at")(!0);$def($def.P,"String",{at:function(t){return $at(this,t)}});

},{"./$.def":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.def.js","./$.string-at":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.string-at.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es7.string.lpad.js":[function(require,module,exports){
"use strict";var $def=require("./$.def"),$pad=require("./$.string-pad");$def($def.P,"String",{lpad:function(e){return $pad(this,e,arguments[1],!0)}});

},{"./$.def":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.def.js","./$.string-pad":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.string-pad.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es7.string.rpad.js":[function(require,module,exports){
"use strict";var $def=require("./$.def"),$pad=require("./$.string-pad");$def($def.P,"String",{rpad:function(r){return $pad(this,r,arguments[1],!1)}});

},{"./$.def":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.def.js","./$.string-pad":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.string-pad.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/js.array.statics.js":[function(require,module,exports){
function setStatics(e,t){$.each.call(e.split(","),function(e){void 0==t&&e in $Array?statics[e]=$Array[e]:e in[]&&(statics[e]=require("./$.ctx")(Function.call,[][e],t))})}var $=require("./$"),$def=require("./$.def"),$Array=$.core.Array||Array,statics={};setStatics("pop,reverse,shift,keys,values,entries",1),setStatics("indexOf,every,some,forEach,map,filter,find,findIndex,includes",3),setStatics("join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill,turn"),$def($def.S,"Array",statics);

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js","./$.ctx":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.ctx.js","./$.def":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.def.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/web.dom.iterable.js":[function(require,module,exports){
require("./es6.array.iterator");var $=require("./$"),Iterators=require("./$.iter").Iterators,ITERATOR=require("./$.wks")("iterator"),ArrayValues=Iterators.Array,NodeList=$.g.NodeList;!$.FW||!NodeList||ITERATOR in NodeList.prototype||$.hide(NodeList.prototype,ITERATOR,ArrayValues),Iterators.NodeList=ArrayValues;

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js","./$.iter":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.iter.js","./$.wks":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.wks.js","./es6.array.iterator":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.array.iterator.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/web.immediate.js":[function(require,module,exports){
var $def=require("./$.def"),$task=require("./$.task");$def($def.G+$def.B,{setImmediate:$task.set,clearImmediate:$task.clear});

},{"./$.def":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.def.js","./$.task":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.task.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/web.timers.js":[function(require,module,exports){
function wrap(e){return MSIE?function(r,t){return e(invoke(partial,[].slice.call(arguments,2),$.isFunction(r)?r:Function(r)),t)}:e}var $=require("./$"),$def=require("./$.def"),invoke=require("./$.invoke"),partial=require("./$.partial"),navigator=$.g.navigator,MSIE=!!navigator&&/MSIE .\./.test(navigator.userAgent);$def($def.G+$def.B+$def.F*MSIE,{setTimeout:wrap($.g.setTimeout),setInterval:wrap($.g.setInterval)});

},{"./$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js","./$.def":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.def.js","./$.invoke":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.invoke.js","./$.partial":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.partial.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/shim.js":[function(require,module,exports){
require("./modules/es5"),require("./modules/es6.symbol"),require("./modules/es6.object.assign"),require("./modules/es6.object.is"),require("./modules/es6.object.set-prototype-of"),require("./modules/es6.object.to-string"),require("./modules/es6.object.statics-accept-primitives"),require("./modules/es6.function.name"),require("./modules/es6.function.has-instance"),require("./modules/es6.number.constructor"),require("./modules/es6.number.statics"),require("./modules/es6.math"),require("./modules/es6.string.from-code-point"),require("./modules/es6.string.raw"),require("./modules/es6.string.iterator"),require("./modules/es6.string.code-point-at"),require("./modules/es6.string.ends-with"),require("./modules/es6.string.includes"),require("./modules/es6.string.repeat"),require("./modules/es6.string.starts-with"),require("./modules/es6.array.from"),require("./modules/es6.array.of"),require("./modules/es6.array.iterator"),require("./modules/es6.array.species"),require("./modules/es6.array.copy-within"),require("./modules/es6.array.fill"),require("./modules/es6.array.find"),require("./modules/es6.array.find-index"),require("./modules/es6.regexp"),require("./modules/es6.promise"),require("./modules/es6.map"),require("./modules/es6.set"),require("./modules/es6.weak-map"),require("./modules/es6.weak-set"),require("./modules/es6.reflect"),require("./modules/es7.array.includes"),require("./modules/es7.string.at"),require("./modules/es7.string.lpad"),require("./modules/es7.string.rpad"),require("./modules/es7.regexp.escape"),require("./modules/es7.object.get-own-property-descriptors"),require("./modules/es7.object.to-array"),require("./modules/es7.map.to-json"),require("./modules/es7.set.to-json"),require("./modules/js.array.statics"),require("./modules/web.timers"),require("./modules/web.immediate"),require("./modules/web.dom.iterable"),module.exports=require("./modules/$").core;

},{"./modules/$":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/$.js","./modules/es5":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es5.js","./modules/es6.array.copy-within":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.array.copy-within.js","./modules/es6.array.fill":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.array.fill.js","./modules/es6.array.find":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.array.find.js","./modules/es6.array.find-index":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.array.find-index.js","./modules/es6.array.from":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.array.from.js","./modules/es6.array.iterator":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.array.iterator.js","./modules/es6.array.of":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.array.of.js","./modules/es6.array.species":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.array.species.js","./modules/es6.function.has-instance":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.function.has-instance.js","./modules/es6.function.name":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.function.name.js","./modules/es6.map":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.map.js","./modules/es6.math":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.math.js","./modules/es6.number.constructor":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.number.constructor.js","./modules/es6.number.statics":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.number.statics.js","./modules/es6.object.assign":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.object.assign.js","./modules/es6.object.is":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.object.is.js","./modules/es6.object.set-prototype-of":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.object.set-prototype-of.js","./modules/es6.object.statics-accept-primitives":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.object.statics-accept-primitives.js","./modules/es6.object.to-string":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.object.to-string.js","./modules/es6.promise":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.promise.js","./modules/es6.reflect":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.reflect.js","./modules/es6.regexp":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.regexp.js","./modules/es6.set":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.set.js","./modules/es6.string.code-point-at":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.string.code-point-at.js","./modules/es6.string.ends-with":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.string.ends-with.js","./modules/es6.string.from-code-point":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.string.from-code-point.js","./modules/es6.string.includes":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.string.includes.js","./modules/es6.string.iterator":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.string.iterator.js","./modules/es6.string.raw":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.string.raw.js","./modules/es6.string.repeat":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.string.repeat.js","./modules/es6.string.starts-with":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.string.starts-with.js","./modules/es6.symbol":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.symbol.js","./modules/es6.weak-map":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.weak-map.js","./modules/es6.weak-set":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es6.weak-set.js","./modules/es7.array.includes":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es7.array.includes.js","./modules/es7.map.to-json":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es7.map.to-json.js","./modules/es7.object.get-own-property-descriptors":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es7.object.get-own-property-descriptors.js","./modules/es7.object.to-array":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es7.object.to-array.js","./modules/es7.regexp.escape":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es7.regexp.escape.js","./modules/es7.set.to-json":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es7.set.to-json.js","./modules/es7.string.at":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es7.string.at.js","./modules/es7.string.lpad":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es7.string.lpad.js","./modules/es7.string.rpad":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/es7.string.rpad.js","./modules/js.array.statics":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/js.array.statics.js","./modules/web.dom.iterable":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/web.dom.iterable.js","./modules/web.immediate":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/web.immediate.js","./modules/web.timers":"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/core-js/modules/web.timers.js"}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/node_modules/regenerator/runtime.js":[function(require,module,exports){
!function(t){"use strict";function r(t,r,e,o){var i=Object.create((r||n).prototype);return i._invoke=a(t,e||null,new f(o||[])),i}function e(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t,r,n){var o=w;return function(i,a){if(o===L)throw new Error("Generator is already running");if(o===x)return h();for(;;){var c=n.delegate;if(c){if("return"===i||"throw"===i&&c.iterator[i]===p){n.delegate=null;var u=c.iterator["return"];if(u){var l=e(u,c.iterator,a);if("throw"===l.type){i="throw",a=l.arg;continue}}if("return"===i)continue}var l=e(c.iterator[i],c.iterator,a);if("throw"===l.type){n.delegate=null,i="throw",a=l.arg;continue}i="next",a=p;var f=l.arg;if(!f.done)return o=m,f;n[c.resultName]=f.value,n.next=c.nextLoc,n.delegate=null}if("next"===i)o===m?n.sent=a:delete n.sent;else if("throw"===i){if(o===w)throw o=x,a;n.dispatchException(a)&&(i="next",a=p)}else"return"===i&&n.abrupt("return",a);o=L;var l=e(t,r,n);if("normal"===l.type){o=n.done?x:m;var f={value:l.arg,done:n.done};if(l.arg!==b)return f;n.delegate&&"next"===i&&(a=p)}else"throw"===l.type&&(o=x,i="throw",a=l.arg)}}}function c(t){E[t]=function(r){return this._invoke(t,r)}}function u(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function l(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function f(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(u,this),this.reset()}function s(t){if(t){var r=t[v];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var e=-1,n=function o(){for(;++e<t.length;)if(y.call(t,e))return o.value=t[e],o.done=!1,o;return o.value=p,o.done=!0,o};return n.next=n}}return{next:h}}function h(){return{value:p,done:!0}}var p,y=Object.prototype.hasOwnProperty,v="function"==typeof Symbol&&Symbol.iterator||"@@iterator",d="object"==typeof module,g=t.regeneratorRuntime;if(g)return void(d&&(module.exports=g));g=t.regeneratorRuntime=d?module.exports:{},g.wrap=r;var w="suspendedStart",m="suspendedYield",L="executing",x="completed",b={},E=i.prototype=n.prototype;o.prototype=E.constructor=i,i.constructor=o,o.displayName="GeneratorFunction",g.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return r?r===o||"GeneratorFunction"===(r.displayName||r.name):!1},g.mark=function(t){return t.__proto__=i,t.prototype=Object.create(E),t},g.async=function(t,n,o,i){return new Promise(function(a,c){function u(t,r){var n=e(l[t],l,r);if("throw"===n.type)return void c(n.arg);var o=n.arg;o.done?a(o.value):Promise.resolve(o.value).then(f,s)}var l=r(t,n,o,i),f=u.bind(l,"next"),s=u.bind(l,"throw");f()})},c("next"),c("throw"),c("return"),E[v]=function(){return this},E.toString=function(){return"[object Generator]"},g.keys=function(t){var r=[];for(var e in t)r.push(e);return r.reverse(),function n(){for(;r.length;){var e=r.pop();if(e in t)return n.value=e,n.done=!1,n}return n.done=!0,n}},g.values=s,f.prototype={constructor:f,reset:function(){this.prev=0,this.next=0,this.sent=p,this.done=!1,this.delegate=null,this.tryEntries.forEach(l);for(var t,r=0;y.call(this,t="t"+r)||20>r;++r)this[t]=null},stop:function(){this.done=!0;var t=this.tryEntries[0],r=t.completion;if("throw"===r.type)throw r.arg;return this.rval},dispatchException:function(t){function r(r,n){return i.type="throw",i.arg=t,e.next=r,!!n}if(this.done)throw t;for(var e=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),c=y.call(o,"finallyLoc");if(a&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=r,o?this.next=o.finallyLoc:this.complete(i),b},complete:function(t,r){if("throw"===t.type)throw t.arg;"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=t.arg,this.next="end"):"normal"===t.type&&r&&(this.next=r)},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),l(e),b}},"catch":function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;l(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:s(t),resultName:r,nextLoc:e},b}}}("object"==typeof global?global:"object"==typeof window?window:"object"==typeof self?self:this);

},{}],"/home/vadzim/v/work/nerojs/node_modules/babel-core/polyfill.js":[function(require,module,exports){
module.exports=require("./lib/babel/polyfill");

},{"./lib/babel/polyfill":"/home/vadzim/v/work/nerojs/node_modules/babel-core/lib/babel/polyfill.js"}],"/home/vadzim/v/work/nerojs/node_modules/babelify/polyfill.js":[function(require,module,exports){
module.exports=require("babel-core/polyfill");
},{"babel-core/polyfill":"/home/vadzim/v/work/nerojs/node_modules/babel-core/polyfill.js"}],"/home/vadzim/v/work/nerojs/node_modules/colors/lib/colors.js":[function(require,module,exports){
function build(e){var r=function o(){return applyStyle.apply(o,arguments)};return r._styles=e,r.__proto__=proto,r}function applyStyle(){var e=arguments,r=e.length,o=0!==r&&String(arguments[0]);if(r>1)for(var s=1;r>s;s++)o+=" "+e[s];if(!colors.enabled||!o)return o;for(var t=this._styles,n=t.length;n--;){var l=ansiStyles[t[n]];o=l.open+o.replace(l.closeRe,l.open)+l.close}return o}function applyTheme(e){for(var r in e)!function(r){colors[r]=function(o){return colors[e[r]](o)}}(r)}function init(){var e={};return Object.keys(styles).forEach(function(r){e[r]={get:function(){return build([r])}}}),e}var colors={};module.exports=colors,colors.themes={};var ansiStyles=colors.styles=require("./styles"),defineProps=Object.defineProperties;colors.supportsColor=require("./system/supports-colors"),"undefined"==typeof colors.enabled&&(colors.enabled=colors.supportsColor),colors.stripColors=colors.strip=function(e){return(""+e).replace(/\x1B\[\d+m/g,"")};var stylize=colors.stylize=function(e,r){return ansiStyles[r].open+e+ansiStyles[r].close},matchOperatorsRe=/[|\\{}()[\]^$+*?.]/g,escapeStringRegexp=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(matchOperatorsRe,"\\$&")},styles=function(){var e={};return ansiStyles.grey=ansiStyles.gray,Object.keys(ansiStyles).forEach(function(r){ansiStyles[r].closeRe=new RegExp(escapeStringRegexp(ansiStyles[r].close),"g"),e[r]={get:function(){return build(this._styles.concat(r))}}}),e}(),proto=defineProps(function(){},styles);colors.setTheme=function(e){if("string"==typeof e)try{return colors.themes[e]=require(e),applyTheme(colors.themes[e]),colors.themes[e]}catch(r){return console.log(r),r}else applyTheme(e)};var sequencer=function(e,r){var o=r.split("");return o=o.map(e),o.join("")};colors.trap=require("./custom/trap"),colors.zalgo=require("./custom/zalgo"),colors.maps={},colors.maps.america=require("./maps/america"),colors.maps.zebra=require("./maps/zebra"),colors.maps.rainbow=require("./maps/rainbow"),colors.maps.random=require("./maps/random");for(var map in colors.maps)!function(e){colors[e]=function(r){return sequencer(colors.maps[e],r)}}(map);defineProps(colors,init());

},{"./custom/trap":"/home/vadzim/v/work/nerojs/node_modules/colors/lib/custom/trap.js","./custom/zalgo":"/home/vadzim/v/work/nerojs/node_modules/colors/lib/custom/zalgo.js","./maps/america":"/home/vadzim/v/work/nerojs/node_modules/colors/lib/maps/america.js","./maps/rainbow":"/home/vadzim/v/work/nerojs/node_modules/colors/lib/maps/rainbow.js","./maps/random":"/home/vadzim/v/work/nerojs/node_modules/colors/lib/maps/random.js","./maps/zebra":"/home/vadzim/v/work/nerojs/node_modules/colors/lib/maps/zebra.js","./styles":"/home/vadzim/v/work/nerojs/node_modules/colors/lib/styles.js","./system/supports-colors":"/home/vadzim/v/work/nerojs/node_modules/colors/lib/system/supports-colors.js"}],"/home/vadzim/v/work/nerojs/node_modules/colors/lib/custom/trap.js":[function(require,module,exports){
module.exports=function(t,o){var r="";t=t||"Run the trap, drop the bass",t=t.split("");var e={a:["@","Ą","Ⱥ","Ʌ","Δ","Λ","Д"],b:["ß","Ɓ","Ƀ","ɮ","β","฿"],c:["©","Ȼ","Ͼ"],d:["Ð","Ɗ","Ԁ","ԁ","Ԃ","ԃ"],e:["Ë","ĕ","Ǝ","ɘ","Σ","ξ","Ҽ","੬"],f:["Ӻ"],g:["ɢ"],h:["Ħ","ƕ","Ң","Һ","Ӈ","Ԋ"],i:["༏"],j:["Ĵ"],k:["ĸ","Ҡ","Ӄ","Ԟ"],l:["Ĺ"],m:["ʍ","Ӎ","ӎ","Ԡ","ԡ","൩"],n:["Ñ","ŋ","Ɲ","Ͷ","Π","Ҋ"],o:["Ø","õ","ø","Ǿ","ʘ","Ѻ","ם","۝","๏"],p:["Ƿ","Ҏ"],q:["্"],r:["®","Ʀ","Ȑ","Ɍ","ʀ","Я"],s:["§","Ϟ","ϟ","Ϩ"],t:["Ł","Ŧ","ͳ"],u:["Ʊ","Ս"],v:["ט"],w:["Ш","Ѡ","Ѽ","൰"],x:["Ҳ","Ӿ","Ӽ","ӽ"],y:["¥","Ұ","Ӌ"],z:["Ƶ","ɀ"]};return t.forEach(function(t){t=t.toLowerCase();var o=e[t]||[" "],a=Math.floor(Math.random()*o.length);r+="undefined"!=typeof e[t]?e[t][a]:t}),r};

},{}],"/home/vadzim/v/work/nerojs/node_modules/colors/lib/custom/zalgo.js":[function(require,module,exports){
module.exports=function(n,i){function r(n){var i=Math.floor(Math.random()*n);return i}function o(n){var i=!1;return e.filter(function(r){i=r===n}),i}function u(n,i){var u,e,a="";i=i||{},i.up=i.up||!0,i.mid=i.mid||!0,i.down=i.down||!0,i.size=i.size||"maxi",n=n.split("");for(e in n)if(!o(e)){switch(a+=n[e],u={up:0,down:0,mid:0},i.size){case"mini":u.up=r(8),u.min=r(2),u.down=r(8);break;case"maxi":u.up=r(16)+3,u.min=r(4)+1,u.down=r(64)+3;break;default:u.up=r(8)+1,u.mid=r(6)/2,u.down=r(8)+1}var t=["up","mid","down"];for(var m in t)for(var f=t[m],p=0;p<=u[f];p++)i[f]&&(a+=d[f][r(d[f].length)])}return a}n=n||"   he is here   ";var d={up:["̍","̎","̄","̅","̿","̑","̆","̐","͒","͗","͑","̇","̈","̊","͂","̓","̈","͊","͋","͌","̃","̂","̌","͐","̀","́","̋","̏","̒","̓","̔","̽","̉","ͣ","ͤ","ͥ","ͦ","ͧ","ͨ","ͩ","ͪ","ͫ","ͬ","ͭ","ͮ","ͯ","̾","͛","͆","̚"],down:["̖","̗","̘","̙","̜","̝","̞","̟","̠","̤","̥","̦","̩","̪","̫","̬","̭","̮","̯","̰","̱","̲","̳","̹","̺","̻","̼","ͅ","͇","͈","͉","͍","͎","͓","͔","͕","͖","͙","͚","̣"],mid:["̕","̛","̀","́","͘","̡","̢","̧","̨","̴","̵","̶","͜","͝","͞","͟","͠","͢","̸","̷","͡"," ҉"]},e=[].concat(d.up,d.down,d.mid);return u(n)};

},{}],"/home/vadzim/v/work/nerojs/node_modules/colors/lib/extendStringPrototype.js":[function(require,module,exports){
var colors=require("./colors"),styles=require("./styles");module.exports=function(){function r(r){var o=["__defineGetter__","__defineSetter__","__lookupGetter__","__lookupSetter__","charAt","constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf","charCodeAt","indexOf","lastIndexof","length","localeCompare","match","replace","search","slice","split","substring","toLocaleLowerCase","toLocaleUpperCase","toLowerCase","toUpperCase","trim","trimLeft","trimRight"];Object.keys(r).forEach(function(e){-1!==o.indexOf(e)?console.log("warn: ".red+("String.prototype"+e).magenta+" is probably something you don't want to override. Ignoring style name"):"string"==typeof r[e]?(colors[e]=colors[r[e]],t(e,function(){return colors[r[e]](this)})):t(e,function(){for(var t=this,o=0;o<r[e].length;o++)t=exports[r[e][o]](t);return t})})}var t=function(r,t){String.prototype.__defineGetter__(r,t)},o=function(r,t){return styles[t].open+r+styles[t].close};t("strip",function(){return colors.strip(this)}),t("stripColors",function(){return colors.strip(this)}),t("trap",function(){return colors.trap(this)}),t("zalgo",function(){return colors.zalgo(this)}),t("zebra",function(){return colors.zebra(this)}),t("rainbow",function(){return colors.rainbow(this)}),t("random",function(){return colors.random(this)}),t("america",function(){return colors.america(this)});var e=Object.keys(colors.styles);e.forEach(function(r){t(r,function(){return o(this,r)})}),colors.setTheme=function(t){if("string"==typeof t)try{return colors.themes[t]=require(t),r(colors.themes[t]),colors.themes[t]}catch(o){return console.log(o),o}else r(t)}};

},{"./colors":"/home/vadzim/v/work/nerojs/node_modules/colors/lib/colors.js","./styles":"/home/vadzim/v/work/nerojs/node_modules/colors/lib/styles.js"}],"/home/vadzim/v/work/nerojs/node_modules/colors/lib/index.js":[function(require,module,exports){
var colors=require("./colors");module.exports=colors;var extendStringPrototype=require("./extendStringPrototype")();

},{"./colors":"/home/vadzim/v/work/nerojs/node_modules/colors/lib/colors.js","./extendStringPrototype":"/home/vadzim/v/work/nerojs/node_modules/colors/lib/extendStringPrototype.js"}],"/home/vadzim/v/work/nerojs/node_modules/colors/lib/maps/america.js":[function(require,module,exports){
var colors=require("../colors");module.exports=function(){return function(r,e,o){if(" "===r)return r;switch(e%3){case 0:return colors.red(r);case 1:return colors.white(r);case 2:return colors.blue(r)}}}();

},{"../colors":"/home/vadzim/v/work/nerojs/node_modules/colors/lib/colors.js"}],"/home/vadzim/v/work/nerojs/node_modules/colors/lib/maps/rainbow.js":[function(require,module,exports){
var colors=require("../colors");module.exports=function(){var r=["red","yellow","green","blue","magenta"];return function(e,o,n){return" "===e?e:colors[r[o++%r.length]](e)}}();

},{"../colors":"/home/vadzim/v/work/nerojs/node_modules/colors/lib/colors.js"}],"/home/vadzim/v/work/nerojs/node_modules/colors/lib/maps/random.js":[function(require,module,exports){
var colors=require("../colors");module.exports=function(){var e=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta"];return function(r,n,o){return" "===r?r:colors[e[Math.round(Math.random()*(e.length-1))]](r)}}();

},{"../colors":"/home/vadzim/v/work/nerojs/node_modules/colors/lib/colors.js"}],"/home/vadzim/v/work/nerojs/node_modules/colors/lib/maps/zebra.js":[function(require,module,exports){
var colors=require("../colors");module.exports=function(r,o,e){return o%2===0?r:colors.inverse(r)};

},{"../colors":"/home/vadzim/v/work/nerojs/node_modules/colors/lib/colors.js"}],"/home/vadzim/v/work/nerojs/node_modules/colors/lib/styles.js":[function(require,module,exports){
var styles={};module.exports=styles;var codes={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(codes).forEach(function(e){var l=codes[e],a=styles[e]=[];a.open="["+l[0]+"m",a.close="["+l[1]+"m"});

},{}],"/home/vadzim/v/work/nerojs/node_modules/colors/lib/system/supports-colors.js":[function(require,module,exports){
var argv=process.argv;module.exports=function(){return-1!==argv.indexOf("--no-color")||-1!==argv.indexOf("--color=false")?!1:-1!==argv.indexOf("--color")||-1!==argv.indexOf("--color=true")||-1!==argv.indexOf("--color=always")?!0:process.stdout&&!process.stdout.isTTY?!1:"win32"===process.platform?!0:"COLORTERM"in process.env?!0:"dumb"===process.env.TERM?!1:/^screen|^xterm|^vt100|color|ansi|cygwin|linux/i.test(process.env.TERM)?!0:!1}();

},{}],"/home/vadzim/v/work/nerojs/node_modules/cookie-parser/index.js":[function(require,module,exports){
var cookie=require("cookie"),parse=require("./lib/parse");exports=module.exports=function(e,o){return function(s,i,r){if(s.cookies)return r();var k=s.headers.cookie;return s.secret=e,s.cookies=Object.create(null),s.signedCookies=Object.create(null),k?(s.cookies=cookie.parse(k,o),e&&(s.signedCookies=parse.signedCookies(s.cookies,e),s.signedCookies=parse.JSONCookies(s.signedCookies)),s.cookies=parse.JSONCookies(s.cookies),void r()):r()}},exports.JSONCookie=parse.JSONCookie,exports.JSONCookies=parse.JSONCookies,exports.signedCookie=parse.signedCookie,exports.signedCookies=parse.signedCookies;

},{"./lib/parse":"/home/vadzim/v/work/nerojs/node_modules/cookie-parser/lib/parse.js","cookie":"/home/vadzim/v/work/nerojs/node_modules/cookie-parser/node_modules/cookie/index.js"}],"/home/vadzim/v/work/nerojs/node_modules/cookie-parser/lib/parse.js":[function(require,module,exports){
var signature=require("cookie-signature");exports.signedCookies=function(e,r){for(var t,o,s,n=Object.keys(e),i=Object.create(null),u=0;u<n.length;u++)o=n[u],s=e[o],t=exports.signedCookie(s,r),s!==t&&(i[o]=t,delete e[o]);return i},exports.signedCookie=function(e,r){return"s:"===e.substr(0,2)?signature.unsign(e.slice(2),r):e},exports.JSONCookies=function(e){for(var r,t,o=Object.keys(e),s=0;s<o.length;s++)r=o[s],t=exports.JSONCookie(e[r]),t&&(e[r]=t);return e},exports.JSONCookie=function(e){if(e&&"j:"===e.substr(0,2))try{return JSON.parse(e.slice(2))}catch(r){}};

},{"cookie-signature":"/home/vadzim/v/work/nerojs/node_modules/cookie-parser/node_modules/cookie-signature/index.js"}],"/home/vadzim/v/work/nerojs/node_modules/cookie-parser/node_modules/cookie-signature/index.js":[function(require,module,exports){
function sha1(e){return crypto.createHash("sha1").update(e).digest("hex")}var crypto=require("crypto");exports.sign=function(e,r){if("string"!=typeof e)throw new TypeError("Cookie value must be provided as a string.");if("string"!=typeof r)throw new TypeError("Secret string must be provided.");return e+"."+crypto.createHmac("sha256",r).update(e).digest("base64").replace(/\=+$/,"")},exports.unsign=function(e,r){if("string"!=typeof e)throw new TypeError("Signed cookie string must be provided.");if("string"!=typeof r)throw new TypeError("Secret string must be provided.");var t=e.slice(0,e.lastIndexOf(".")),o=exports.sign(t,r);return sha1(o)==sha1(e)?t:!1};

},{"crypto":false}],"/home/vadzim/v/work/nerojs/node_modules/cookie-parser/node_modules/cookie/index.js":[function(require,module,exports){
var serialize=function(e,r,o){o=o||{};var i=o.encode||encode,n=[e+"="+i(r)];if(null!=o.maxAge){var t=o.maxAge-0;if(isNaN(t))throw new Error("maxAge should be a Number");n.push("Max-Age="+t)}return o.domain&&n.push("Domain="+o.domain),o.path&&n.push("Path="+o.path),o.expires&&n.push("Expires="+o.expires.toUTCString()),o.httpOnly&&n.push("HttpOnly"),o.secure&&n.push("Secure"),n.join("; ")},parse=function(e,r){r=r||{};var o={},i=e.split(/; */),n=r.decode||decode;return i.forEach(function(e){var r=e.indexOf("=");if(!(0>r)){var i=e.substr(0,r).trim(),t=e.substr(++r,e.length).trim();if('"'==t[0]&&(t=t.slice(1,-1)),void 0==o[i])try{o[i]=n(t)}catch(a){o[i]=t}}}),o},encode=encodeURIComponent,decode=decodeURIComponent;module.exports.serialize=serialize,module.exports.parse=parse;

},{}],"/home/vadzim/v/work/nerojs/node_modules/csv/lib/index.js":[function(require,module,exports){
var generate,parse,stringify,transform;generate=require("csv-generate"),parse=require("csv-parse"),transform=require("stream-transform"),stringify=require("csv-stringify"),module.exports.generate=generate,module.exports.parse=parse,module.exports.transform=transform,module.exports.stringify=stringify;

},{"csv-generate":"/home/vadzim/v/work/nerojs/node_modules/csv/node_modules/csv-generate/lib/index.js","csv-parse":"/home/vadzim/v/work/nerojs/node_modules/csv/node_modules/csv-parse/lib/index.js","csv-stringify":"/home/vadzim/v/work/nerojs/node_modules/csv/node_modules/csv-stringify/lib/index.js","stream-transform":"/home/vadzim/v/work/nerojs/node_modules/csv/node_modules/stream-transform/lib/index.js"}],"/home/vadzim/v/work/nerojs/node_modules/csv/node_modules/csv-generate/lib/index.js":[function(require,module,exports){
var Generator,stream,util;stream=require("stream"),util=require("util"),Generator=function(t){var n,e,o,i,s,r,u,h,l,a,p,d,f,c;for(this.options=null!=t?t:{},stream.Readable.call(this,this.options),this.options.count=0,null==(o=this.options).duration&&(o.duration=24e4),null==(i=this.options).columns&&(i.columns=8),null==(s=this.options).max_word_length&&(s.max_word_length=16),null==(r=this.options).fixed_size&&(r.fixed_size=!1),null==this.fixed_size_buffer&&(this.fixed_size_buffer=""),null==(u=this.options).start&&(u.start=Date.now()),null==(h=this.options).end&&(h.end=null),null==(l=this.options).seed&&(l.seed=!1),null==(a=this.options).length&&(a.length=-1),null==(p=this.options).delimiter&&(p.delimiter=","),this.count_written=0,this.count_created=0,"number"==typeof this.options.columns&&(this.options.columns=new Array(this.options.columns)),c=this.options.columns,n=d=0,f=c.length;f>d;n=++d)e=c[n],null==e&&(e="ascii"),"string"==typeof e&&(this.options.columns[n]=Generator[e]);return this},util.inherits(Generator,stream.Readable),Generator.prototype.random=function(){return this.options.seed?this.options.seed=this.options.seed*Math.PI*100%100/100:Math.random()},Generator.prototype.end=function(){return this.push(null)},Generator.prototype._read=function(t){var n,e,o,i,s,r,u,h,l,a,p,d,f,c,m;for(e=[],i=this.fixed_size_buffer.length,i&&e.push(this.fixed_size_buffer);;){if(this.count_created===this.options.length||this.options.end&&Date.now()>this.options.end){if(e.length)if(this.options.objectMode)for(u=0,p=e.length;p>u;u++)s=e[u],this.count_written++,this.push(s);else this.count_written++,this.push(e.join(""));return this.push(null)}for(s=[],m=this.options.columns,h=0,d=m.length;d>h;h++)o=m[h],s.push(""+o(this));if(this.options.objectMode)for(r=0,l=0,f=s.length;f>l;l++)n=s[l],r+=n.length;else s=""+(0===this.count_created?"":"\n")+s.join(this.options.delimiter),r=s.length;if(this.count_created++,i+r>t){if(this.options.objectMode)for(e.push(s),a=0,c=e.length;c>a;a++)s=e[a],this.count_written++,this.push(s);else this.options.fixed_size?(this.fixed_size_buffer=s.substr(t-i),e.push(s.substr(0,t-i))):e.push(s),this.count_written++,this.push(e.join(""));break}i+=r,e.push(s)}},Generator.ascii=function(t){var n,e,o,i,s;for(e=[],o=i=0,s=Math.ceil(t.random()*t.options.max_word_length);s>=0?s>i:i>s;o=s>=0?++i:--i)n=Math.floor(32*t.random()),e.push(String.fromCharCode(n+(16>n?65:81)));return e.join("")},Generator["int"]=function(t){return Math.floor(t.random()*Math.pow(2,52))},Generator.bool=function(t){return Math.floor(2*t.random())},module.exports=function(){var t,n,e,o;return 2===arguments.length?(o=arguments[0],t=arguments[1]):1===arguments.length?"function"==typeof arguments[0]?(o={},t=arguments[0]):o=arguments[0]:0===arguments.length&&(o={}),e=new Generator(o),t&&(n=[],e.on("readable",function(){var t,i;for(i=[];t=e.read();)i.push(n.push(o.objectMode?t:t.toString()));return i}),e.on("error",t),e.on("end",function(){return t(null,o.objectMode?n:n.join(""))})),e},module.exports.Generator=Generator;

},{"stream":false,"util":false}],"/home/vadzim/v/work/nerojs/node_modules/csv/node_modules/csv-parse/lib/index.js":[function(require,module,exports){
var Parser,stream,util;stream=require("stream"),util=require("util"),module.exports=function(){var t,i,s,e,n,o;return 3===arguments.length?(e=arguments[0],n=arguments[1],t=arguments[2]):2===arguments.length?("string"==typeof arguments[0]||Buffer.isBuffer(arguments[0])?e=arguments[0]:n=arguments[0],"function"==typeof arguments[1]?t=arguments[1]:n=arguments[1]):1===arguments.length&&("function"==typeof arguments[0]?t=arguments[0]:n=arguments[0]),null==n&&(n={}),o=new Parser(n),e&&process.nextTick(function(){return o.write(e),o.end()}),t&&(i=!1,s=n.objname?{}:[],o.on("readable",function(){var t,i;for(i=[];t=o.read();)i.push(n.objname?s[t[0]]=t[1]:s.push(t));return i}),o.on("error",function(s){return i=!0,t(s)}),o.on("end",function(){return i?void 0:t(null,s)})),o},Parser=function(t){var i,s,e,n,o,h,r,l,u,m,p,a;return null==t&&(t={}),t.objectMode=!0,stream.Transform.call(this,t),this.options=t,null==(i=this.options).rowDelimiter&&(i.rowDelimiter=null),null==(s=this.options).delimiter&&(s.delimiter=","),null==(o=this.options).quote&&(o.quote='"'),null==(h=this.options).escape&&(h.escape='"'),null==(r=this.options).columns&&(r.columns=null),null==(l=this.options).comment&&(l.comment=""),null==(u=this.options).objname&&(u.objname=!1),null==(m=this.options).trim&&(m.trim=!1),null==(p=this.options).ltrim&&(p.ltrim=!1),null==(a=this.options).rtrim&&(a.rtrim=!1),null==(e=this.options).auto_parse&&(e.auto_parse=!1),null==(n=this.options).skip_empty_lines&&(n.skip_empty_lines=!1),this.lines=0,this.buf="",this.quoting=!1,this.commenting=!1,this.field="",this.nextChar=null,this.closingQuote=0,this.line=[],this.chunks=[],this.intRegexp=/^(\-|\+)?([0-9]+)$/,this.floatRegexp=/^(\-|\+)?([0-9]+(\.[0-9]+)?([eE][0-9]+)?|Infinity)$/,this},util.inherits(Parser,stream.Transform),module.exports.Parser=Parser,Parser.prototype._transform=function(t,i,s){var e;t instanceof Buffer&&(t=t.toString());try{return this.__write(t,!1),s()}catch(n){return e=n,this.emit("error",e)}},Parser.prototype._flush=function(t){var i;try{return this.__write("",!0),this.quoting?void this.emit("error",new Error("Quoted field not terminated at line "+(this.lines+1))):(this.line.length>0&&this.__push(this.line),t())}catch(s){return i=s,this.emit("error",i)}},Parser.prototype.__push=function(t){var i,s,e,n,o;if(this.options.columns===!0)return void(this.options.columns=t);if("function"==typeof this.options.columns)return void(this.options.columns=this.options.columns(t));if(null!=this.options.columns){for(o={},s=e=0,n=t.length;n>e;s=++e)i=t[s],o[this.options.columns[s]]=i;return this.push(this.options.objname?[o[this.options.objname],o]:o)}return this.push(t)},Parser.prototype.__write=function(t,i,s){var e,n,o,h,r,l,u,m,p,a,f,g,c,d,x,w,_,q,C;for(c=this.options.trim||this.options.ltrim,q=this.options.trim||this.options.rtrim,t=this.buf+t,g=t.length,_=this.options.rowDelimiter?this.options.rowDelimiter.length:0,r=0,0===this.lines&&65279===t.charCodeAt(0)&&r++;g>r&&(e=_+this.options.comment.length+this.options.escape.length+this.options.delimiter.length,this.quoting&&(e+=this.options.quote.length),i||!(r+e>=g));)if(o=this.nextChar?this.nextChar:t.charAt(r),this.nextChar=t.charAt(r+1),null==this.options.rowDelimiter&&(""!==this.field||"\n"!==o&&"\r"!==o?("\n"===this.nextChar||"\r"===this.nextChar)&&(w=this.nextChar,d=r+2):(w=o,d=r+1),w&&("\r"===w&&"\n"===t.charAt(d)&&(w+="\n"),this.options.rowDelimiter=w,_=this.options.rowDelimiter.length)),this.commenting||o!==this.options.escape||(h=this.options.escape===this.options.quote,u=this.nextChar===this.options.escape,a=this.nextChar===this.options.quote,h&&!this.field&&!this.quoting||!u&&!a)){if(!this.commenting&&o===this.options.quote)if(this.quoting){if(n=this.options.rowDelimiter&&t.substr(r+1,this.options.rowDelimiter.length)===this.options.rowDelimiter,p=t.substr(r+1,this.options.delimiter.length)===this.options.delimiter,m=this.nextChar===this.options.comment,!this.nextChar||n||p||m){this.quoting=!1,this.closingQuote=this.options.quote.length,r++,i&&r===g&&this.line.push(this.field);continue}if(!this.options.relax)throw new Error("Invalid closing quote at line "+(this.lines+1)+"; found "+JSON.stringify(this.nextChar)+" instead of delimiter "+JSON.stringify(this.options.delimiter));this.quoting=!1,this.field=""+this.options.quote+this.field}else{if(!this.field){this.quoting=!0,r++;continue}if(this.field&&!this.options.relax)throw new Error("Invalid opening quote at line "+(this.lines+1))}if(f=this.options.rowDelimiter&&t.substr(r,this.options.rowDelimiter.length)===this.options.rowDelimiter,C=!1,this.commenting||this.quoting||!this.options.comment||t.substr(r,this.options.comment.length)!==this.options.comment?this.commenting&&f&&(C=!0,this.commenting=!1):this.commenting=!0,l=t.substr(r,this.options.delimiter.length)===this.options.delimiter,this.commenting||this.quoting||!l&&!f)this.commenting||this.quoting||" "!==o&&"	"!==o?this.commenting?r++:(this.field+=o,r++,i&&r===g&&this.line.push(this.field)):((!c||this.field)&&(this.field+=o),i&&r+1===g&&((this.options.trim||this.options.rtrim)&&(this.field=this.field.trimRight()),this.line.push(this.field)),r++);else{if(f&&0===this.line.length&&""===this.field&&(C||this.options.skip_empty_lines)){r+=this.options.rowDelimiter.length,this.nextChar=t.charAt(r);continue}if(q&&(this.closingQuote||(this.field=this.field.trimRight())),this.line.push(this.options.auto_parse&&this.intRegexp.test(this.field)?parseInt(this.field):this.options.auto_parse&&this.floatRegexp.test(this.field)?parseFloat(this.field):this.field),this.closingQuote=0,this.field="",l&&(r+=this.options.delimiter.length,this.nextChar=t.charAt(r),i&&!this.nextChar&&(f=!0,this.line.push(""))),f){this.__push(this.line),this.lines++,this.line=[],r+=this.options.rowDelimiter.length,this.nextChar=t.charAt(r);continue}}}else r++,o=this.nextChar,this.nextChar=t.charAt(r+1),this.field+=o,r++;for(this.buf="",x=[];g>r;)this.buf+=t.charAt(r),x.push(r++);return x};

},{"stream":false,"util":false}],"/home/vadzim/v/work/nerojs/node_modules/csv/node_modules/csv-stringify/lib/index.js":[function(require,module,exports){
var Stringifier,stream,util;stream=require("stream"),util=require("util"),module.exports=function(){var t,i,e,r,n;return 3===arguments.length?(e=arguments[0],r=arguments[1],t=arguments[2]):2===arguments.length?(Array.isArray(arguments[0])?e=arguments[0]:r=arguments[0],"function"==typeof arguments[1]?t=arguments[1]:r=arguments[1]):1===arguments.length&&("function"==typeof arguments[0]?t=arguments[0]:Array.isArray(arguments[0])?e=arguments[0]:r=arguments[0]),null==r&&(r={}),n=new Stringifier(r),e&&process.nextTick(function(){var t,i,r;for(i=0,r=e.length;r>i;i++)t=e[i],n.write(t);return n.end()}),t&&(i=[],n.on("readable",function(){var t,e;for(e=[];t=n.read();)e.push(i.push(t));return e}),n.on("error",function(i){return t(i)}),n.on("end",function(){return t(null,i.join(""))})),n},Stringifier=function(t){var i,e,r,n,o,s,u,l,a,p;switch(null==t&&(t={}),stream.Transform.call(this,t),this.options=t,null==(i=this.options).delimiter&&(i.delimiter=","),null==(e=this.options).quote&&(e.quote='"'),null==(r=this.options).quoted&&(r.quoted=!1),null==(n=this.options).quotedString&&(n.quotedString=!1),null==(o=this.options).eof&&(o.eof=!0),null==(s=this.options).escape&&(s.escape='"'),null==(u=this.options).columns&&(u.columns=null),null==(l=this.options).header&&(l.header=!1),null==(a=this.options).lineBreaks&&(a.lineBreaks=null),null==(p=this.options).rowDelimiter&&(p.rowDelimiter="\n"),null==this.countWriten&&(this.countWriten=0),this.options.rowDelimiter){case"auto":this.options.rowDelimiter=null;break;case"unix":this.options.rowDelimiter="\n";break;case"mac":this.options.rowDelimiter="\r";break;case"windows":this.options.rowDelimiter="\r\n";break;case"unicode":this.options.rowDelimiter="\u2028"}return this},util.inherits(Stringifier,stream.Transform),module.exports.Stringifier=Stringifier,Stringifier.prototype.headers=function(){var t,i,e;if(this.options.header&&this.options.columns)return e=this.options.columns,"object"==typeof e&&(e=function(){var r;r=[];for(t in e)i=e[t],r.push(i);return r}()),e=this.options.eof?this.stringify(e)+this.options.rowDelimiter:this.stringify(e),stream.Transform.prototype.write.call(this,e)},Stringifier.prototype.end=function(t,i,e){return 0===this.countWriten&&this.headers(),stream.Transform.prototype.end.apply(this,arguments)},Stringifier.prototype.write=function(t,i,e){var r,n,o;if(null!=t){if(n="object"!=typeof t,!n){0!==this.countWriten||Array.isArray(t)||null==(o=this.options).columns&&(o.columns=Object.keys(t));try{this.emit("record",t,this.countWriten)}catch(s){return r=s,this.emit("error",r)}this.options.eof?t=this.stringify(t)+this.options.rowDelimiter:(t=this.stringify(t),(this.options.header||this.countWriten)&&(t=this.options.rowDelimiter+t))}return"number"==typeof t&&(t=""+t),0===this.countWriten&&this.headers(),n||this.countWriten++,stream.Transform.prototype.write.call(this,t,i,e)}},Stringifier.prototype._transform=function(t,i,e){return this.push(t),e()},Stringifier.prototype.stringify=function(t){var i,e,r,n,o,s,u,l,a,p,h,f,m,c,g,y,d;if("object"!=typeof t)return t;if(e=this.options.columns,"object"!=typeof e||null===e||Array.isArray(e)||(e=Object.keys(e)),s=this.options.delimiter,h=this.options.quote,u=this.options.escape,Array.isArray(t))e&&t.splice(e.length);else{if(g=[],e)for(a=m=0,y=e.length;y>=0?y>m:m>y;a=y>=0?++m:--m)i=e[a],g[a]="undefined"==typeof t[i]||null===t[i]?"":t[i];else for(i in t)g.push(t[i]);t=g,g=null}if(Array.isArray(t)){for(p="",a=c=0,d=t.length;d>=0?d>c:c>d;a=d>=0?++c:--c)l=t[a],"string"==typeof l||("number"==typeof l?l=""+l:"boolean"==typeof l?l=l?"1":"":l instanceof Date?l=""+l.getTime():"object"==typeof l&&null!==l&&(l=JSON.stringify(l))),l?(o=l.indexOf(s)>=0,n=l.indexOf(h)>=0,r=l.indexOf("\r")>=0||l.indexOf("\n")>=0,n&&(f=new RegExp(h,"g"),l=l.replace(f,u+h)),(n||o||r||this.options.quoted||this.options.quotedString&&"string"==typeof t[a])&&(l=h+l+h),p+=l):(this.options.quotedEmpty||null==this.options.quotedEmpty&&""===t[a]&&this.options.quotedString)&&(p+=h+h),a!==t.length-1&&(p+=s);t=p}return t};

},{"stream":false,"util":false}],"/home/vadzim/v/work/nerojs/node_modules/csv/node_modules/stream-transform/lib/index.js":[function(require,module,exports){
var Transformer,stream,util,__slice=[].slice;stream=require("stream"),util=require("util"),module.exports=function(){var r,n,t,e,i,s,o,u,l,a,f,h,m,c;for(u={},s=m=0,c=arguments.length;c>m;s=++m)if(r=arguments[s],f=typeof r,null===r?f="null":"object"===f&&Array.isArray(r)&&(f="array"),0!==s){if("object"===f)for(o in r)h=r[o],u[o]=h;else if("function"===f)i&&s===arguments.length-1?n=r:i=r;else if("null"!==f)throw new Error("Invalid arguments")}else"function"===f?i=r:null!==f&&(t=r);return a=new Transformer(u,i),e=!1,t&&process.nextTick(function(){var r,n,i;for(n=0,i=t.length;i>n&&(r=t[n],!e);n++)a.write(r);return a.end()}),n&&(l=[],a.on("readable",function(){var r,n;for(n=[];r=a.read();)n.push(l.push(r));return n}),a.on("error",function(r){return e=!0,n(r)}),a.on("end",function(){return e?void 0:n(null,l)})),a},Transformer=function(r,n){var t;return this.options=null!=r?r:{},this.transform=n,this.options.objectMode=!0,null==(t=this.options).parallel&&(t.parallel=100),stream.Transform.call(this,this.options),this.running=0,this.started=0,this.finished=0,this},util.inherits(Transformer,stream.Transform),module.exports.Transformer=Transformer,Transformer.prototype._transform=function(r,n,t){var e;this.started++,this.running++,this.running<this.options.parallel&&(t(),t=null);try{return 2===this.transform.length?this.transform.call(null,r,function(r){return function(){var n,e;return e=arguments[0],n=2<=arguments.length?__slice.call(arguments,1):[],r._done(e,n,t)}}(this)):this._done(null,[this.transform.call(null,r)],t)}catch(i){return e=i,this._done(e)}},Transformer.prototype._flush=function(r){return this._ending=function(){return 0===this.running?r():void 0},this._ending()},Transformer.prototype._done=function(r,n,t){var e,i,s;if(this.running--,r)return this.emit("error",r);for(this.finished++,i=0,s=n.length;s>i;i++)e=n[i],"number"==typeof e&&(e=""+e),null!=e&&this.push(e);return t&&t(),this._ending?this._ending():void 0};

},{"stream":false,"util":false}],"/home/vadzim/v/work/nerojs/node_modules/ejs/lib/ejs.js":[function(require,module,exports){
"use strict";function handleCache(e,t){var r,n=e.filename,i=void 0!==t;if(e.cache){if(!n)throw new Error("cache option requires a filename");if(r=exports.cache.get(n))return r;i||(t=fs.readFileSync(n).toString().replace(_BOM,""))}else if(!i){if(!n)throw new Error("Internal EJS error: no file name or template provided");t=fs.readFileSync(n).toString().replace(_BOM,"")}return r=exports.compile(t,e),e.cache&&exports.cache.set(n,r),r}function includeFile(e,t){var r=utils.shallowCopy({},t);if(!r.filename)throw new Error("`include` requires the 'filename' option.");return r.filename=exports.resolveInclude(e,r.filename),handleCache(r)}function includeSource(e,t){var r,n,i=utils.shallowCopy({},t);if(!i.filename)throw new Error("`include` requires the 'filename' option.");r=exports.resolveInclude(e,i.filename),n=fs.readFileSync(r).toString().replace(_BOM,""),i.filename=r;var s=new Template(n,i);return s.generateSource(),s.source}function rethrow(e,t,r,n){var i=t.split("\n"),s=Math.max(n-3,0),a=Math.min(i.length,n+3),o=i.slice(s,a).map(function(e,t){var r=t+s+1;return(r==n?" >> ":"    ")+r+"| "+e}).join("\n");throw e.path=r,e.message=(r||"ejs")+":"+n+"\n"+o+"\n\n"+e.message,e}function cpOptsInData(e,t){_OPTS.forEach(function(r){"undefined"!=typeof e[r]&&(t[r]=e[r])})}function Template(e,t){t=t||{};var r={};this.templateText=e,this.mode=null,this.truncate=!1,this.currentLine=1,this.source="",r.client=t.client||!1,r.escapeFunction=t.escape||utils.escapeXML,r.compileDebug=t.compileDebug!==!1,r.debug=!!t.debug,r.filename=t.filename,r.delimiter=t.delimiter||exports.delimiter||_DEFAULT_DELIMITER,r._with="undefined"!=typeof t._with?t._with:!0,r.cache=t.cache||!1,r.rmWhitespace=t.rmWhitespace,this.opts=r,this.regex=this.createRegex()}var fs=require("fs"),utils=require("./utils"),scopeOptionWarned=!1,_VERSION_STRING=require("../package.json").version,_DEFAULT_DELIMITER="%",_DEFAULT_LOCALS_NAME="locals",_REGEX_STRING="(<%%|<%=|<%-|<%#|<%|%>|-%>)",_OPTS=["cache","filename","delimiter","scope","context","debug","compileDebug","client","_with"],_TRAILING_SEMCOL=/;\s*$/,_BOM=/^\uFEFF/;exports.cache=utils.cache,exports.localsName=_DEFAULT_LOCALS_NAME,exports.resolveInclude=function(e,t){var r=require("path"),n=r.dirname,i=r.extname,s=r.resolve,a=s(n(t),e),o=i(e);return o||(a+=".ejs"),a},exports.compile=function(e,t){var r;return t&&t.scope&&(scopeOptionWarned||(console.warn("`scope` option is deprecated and will be removed in EJS 3"),scopeOptionWarned=!0),t.context||(t.context=t.scope),delete t.scope),r=new Template(e,t),r.compile()},exports.render=function(e,t,r){t=t||{},r=r||{};var n;return 2==arguments.length&&cpOptsInData(t,r),n=handleCache(r,e),n.call(r.context,t)},exports.renderFile=function(){var e,t=Array.prototype.slice.call(arguments),r=t.shift(),n=t.pop(),i=t.shift()||{},s=t.pop()||{};3==arguments.length&&cpOptsInData(i,s),s.filename=r;try{e=handleCache(s)(i)}catch(a){return n(a)}return n(null,e)},exports.clearCache=function(){exports.cache.reset()},Template.modes={EVAL:"eval",ESCAPED:"escaped",RAW:"raw",COMMENT:"comment",LITERAL:"literal"},Template.prototype={createRegex:function(){var e=_REGEX_STRING,t=utils.escapeRegExpChars(this.opts.delimiter);return e=e.replace(/%/g,t),new RegExp(e)},compile:function(){var e,t,r=this.opts,n=r.escapeFunction;if(r.rmWhitespace&&(this.templateText=this.templateText.replace(/\r/g,"").replace(/^\s+|\s+$/gm,"")),!this.source){this.generateSource();var i="  var __output = [];\n";r._with!==!1&&(i+="  with ("+exports.localsName+" || {}) {\n"),this.source=i+this.source,r._with!==!1&&(this.source+="  }\n"),this.source+='  return __output.join("");\n'}e=r.compileDebug?"var __line = 1\n  , __lines = "+JSON.stringify(this.templateText)+"\n  , __filename = "+(r.filename?JSON.stringify(r.filename):"undefined")+";\ntry {\n"+this.source+"} catch (e) {\n  rethrow(e, __lines, __filename, __line);\n}\n":this.source,r.debug&&console.log(e),r.client&&(e="escape = escape || "+n.toString()+";\n"+e,r.compileDebug&&(e="rethrow = rethrow || "+rethrow.toString()+";\n"+e));try{t=new Function(exports.localsName+", escape, include, rethrow",e)}catch(s){throw s instanceof SyntaxError&&(r.filename&&(s.message+=" in "+r.filename),s.message+=" while compiling ejs"),s}return r.client?t:function(e){var i=function(t,n){var i=utils.shallowCopy({},e);return n&&(i=utils.shallowCopy(i,n)),includeFile(t,r)(i)};return t(e||{},n,i,rethrow)}},generateSource:function(){var e=this,t=this.parseTemplateText(),r=this.opts.delimiter;t&&t.length&&t.forEach(function(n,i){var s,a,o,c;if(0===n.indexOf("<"+r)&&0!==n.indexOf("<"+r+r)&&(s=t[i+2],s!=r+">"&&s!="-"+r+">"))throw new Error('Could not find matching close tag for "'+n+'".');(a=n.match(/^\s*include\s+(\S+)/))?(o=utils.shallowCopy({},e.opts),c=includeSource(a[1],o),c="    ; (function(){\n"+c+"    ; })()\n",e.source+=c):e.scanLine(n)})},parseTemplateText:function(){for(var e,t,r=this.templateText,n=this.regex,i=n.exec(r),s=[];i;)e=i.index,t=n.lastIndex,0!==e&&(s.push(r.substring(0,e)),r=r.slice(e)),s.push(i[0]),r=r.slice(i[0].length),i=n.exec(r);return r&&s.push(r),s},scanLine:function(e){function t(){r.truncate?(e=e.replace("\n",""),r.truncate=!1):r.opts.rmWhitespace&&(e=e.replace(/^\n/,"")),e&&(e=e.replace(/\\/g,"\\\\"),e=e.replace(/\n/g,"\\n"),e=e.replace(/\r/g,"\\r"),e=e.replace(/"/g,'\\"'),r.source+='    ; __output.push("'+e+'")\n')}var r=this,n=this.opts.delimiter,i=0;switch(i=e.split("\n").length-1,e){case"<"+n:this.mode=Template.modes.EVAL;break;case"<"+n+"=":this.mode=Template.modes.ESCAPED;break;case"<"+n+"-":this.mode=Template.modes.RAW;break;case"<"+n+"#":this.mode=Template.modes.COMMENT;break;case"<"+n+n:this.mode=Template.modes.LITERAL,this.source+='    ; __output.push("'+e.replace("<"+n+n,"<"+n)+'")\n';break;case n+">":case"-"+n+">":this.mode==Template.modes.LITERAL&&t(),this.mode=null,this.truncate=0===e.indexOf("-");break;default:if(this.mode){switch(this.mode){case Template.modes.EVAL:case Template.modes.ESCAPED:case Template.modes.RAW:e.lastIndexOf("//")>e.lastIndexOf("\n")&&(e+="\n")}switch(this.mode){case Template.modes.EVAL:this.source+="    ; "+e+"\n";break;case Template.modes.ESCAPED:this.source+="    ; __output.push(escape("+e.replace(_TRAILING_SEMCOL,"").trim()+"))\n";break;case Template.modes.RAW:this.source+="    ; __output.push("+e.replace(_TRAILING_SEMCOL,"").trim()+")\n";break;case Template.modes.COMMENT:break;case Template.modes.LITERAL:t()}}else t()}r.opts.compileDebug&&i&&(this.currentLine+=i,this.source+="    ; __line = "+this.currentLine+"\n")}},exports.__express=exports.renderFile,require.extensions&&(require.extensions[".ejs"]=function(e,t){t=t||e.filename;var r={filename:t,client:!0},n=fs.readFileSync(t).toString(),i=exports.compile(n,r);e._compile("module.exports = "+i.toString()+";",t)}),exports.VERSION=_VERSION_STRING,"undefined"!=typeof window&&(window.ejs=exports);

},{"../package.json":"/home/vadzim/v/work/nerojs/node_modules/ejs/package.json","./utils":"/home/vadzim/v/work/nerojs/node_modules/ejs/lib/utils.js","fs":false,"path":false}],"/home/vadzim/v/work/nerojs/node_modules/ejs/lib/utils.js":[function(require,module,exports){
"use strict";var regExpChars=/[|\\{}()[\]^$+*?.]/g;exports.escapeRegExpChars=function(t){return t?String(t).replace(regExpChars,"\\$&"):""};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>\'"]/g,escapeFuncStr='var _ENCODE_HTML_RULES = {\n      "&": "&amp;"\n    , "<": "&lt;"\n    , ">": "&gt;"\n    , \'"\': "&#34;"\n    , "\'": "&#39;"\n    }\n  , _MATCH_HTML = /[&<>\'"]/g;\n';exports.escapeXML=function(t){return void 0==t?"":String(t).replace(_MATCH_HTML,function(t){return _ENCODE_HTML_RULES[t]||t})},exports.escapeXML.toString=function(){return Function.prototype.toString.call(this)+";\n"+escapeFuncStr},exports.shallowCopy=function(t,n){n=n||{};for(var r in n)t[r]=n[r];return t},exports.cache={_data:{},set:function(t,n){this._data[t]=n},get:function(t){return this._data[t]},reset:function(){this._data={}}};

},{}],"/home/vadzim/v/work/nerojs/node_modules/ejs/package.json":[function(require,module,exports){
module.exports={
  "name": "ejs",
  "description": "Embedded JavaScript templates",
  "keywords": [
    "template",
    "engine",
    "ejs"
  ],
  "version": "2.3.1",
  "author": {
    "name": "Matthew Eernisse",
    "email": "mde@fleegix.org",
    "url": "http://fleegix.org"
  },
  "contributors": [
    {
      "name": "Timothy Gu",
      "email": "timothygu99@gmail.com",
      "url": "https://timothygu.github.io"
    }
  ],
  "license": "Apache-2.0",
  "main": "./lib/ejs.js",
  "repository": {
    "type": "git",
    "url": "git://github.com/mde/ejs.git"
  },
  "bugs": {
    "url": "https://github.com/mde/ejs/issues"
  },
  "homepage": "https://github.com/mde/ejs",
  "dependencies": {},
  "devDependencies": {
    "browserify": "^8.0.3",
    "istanbul": "~0.3.5",
    "jake": "^8.0.0",
    "jsdoc": "^3.3.0-beta1",
    "lru-cache": "^2.5.0",
    "mocha": "^2.1.0",
    "rimraf": "^2.2.8",
    "uglify-js": "^2.4.16"
  },
  "engines": {
    "node": ">=0.10.0"
  },
  "scripts": {
    "test": "mocha",
    "coverage": "istanbul cover node_modules/mocha/bin/_mocha",
    "doc": "rimraf out && jsdoc -c jsdoc.json lib/* docs/jsdoc/*",
    "devdoc": "rimraf out && jsdoc -p -c jsdoc.json lib/* docs/jsdoc/*"
  },
  "readme": "# EJS\n\nEmbedded JavaScript templates\n\n[![Build Status](https://img.shields.io/travis/mde/ejs/master.svg?style=flat)](https://travis-ci.org/mde/ejs)\n[![Developing Dependencies](https://img.shields.io/david/dev/mde/ejs.svg?style=flat)](https://david-dm.org/mde/ejs#info=devDependencies)\n\n## Installation\n\n```bash\n$ npm install ejs\n```\n\n## Features\n\n  * Control flow with `<% %>`\n  * Escaped output with `<%= %>`\n  * Unescaped raw output with `<%- %>`\n  * Trim-mode ('newline slurping') with `-%>` ending tag\n  * Custom delimiters (e.g., use '<? ?>' instead of '<% %>')\n  * Includes\n  * Client-side support\n  * Static caching of intermediate JavaScript\n  * Static caching of templates\n  * Complies with the [Express](http://expressjs.com) view system\n\n## Example\n\n```html\n<% if (user) { %>\n  <h2><%= user.name %></h2>\n<% } %>\n```\n\n## Usage\n\n```javascript\nvar template = ejs.compile(str, options);\ntemplate(data);\n// => Rendered HTML string\n\nejs.render(str, data, options);\n// => Rendered HTML string\n```\n\nYou can also use the shortcut `ejs.render(dataAndOptions);` where you pass\neverything in a single object. In that case, you'll end up with local variables\nfor all the passed options.\n\n## Options\n\n  - `cache`           Compiled functions are cached, requires `filename`\n  - `filename`        Used by `cache` to key caches, and for includes\n  - `context`         Function execution context\n  - `compileDebug`    When `false` no debug instrumentation is compiled\n  - `client`          Returns standalone compiled function\n  - `delimiter`       Character to use with angle brackets for open/close\n  - `debug`           Output generated function body\n  - `_with`           Whether or not to use `with() {}` constructs. If `false` then the locals will be stored in the `locals` object.\n  - `rmWhitespace`    Remove all safe-to-remove whitespace, including leading\n    and trailing whitespace. It also enables a safer version of `-%>` line\n    slurping for all scriptlet tags (it does not strip new lines of tags in\n    the middle of a line).\n\n## Tags\n\n  - `<%`              'Scriptlet' tag, for control-flow, no output\n  - `<%=`             Outputs the value into the template (HTML escaped)\n  - `<%-`             Outputs the unescaped value into the template\n  - `<%#`             Comment tag, no execution, no output\n  - `<%%`             Outputs a literal '<%'\n  - `%>`              Plain ending tag\n  - `-%>`             Trim-mode ('newline slurp') tag, trims following newline\n\n## Includes\n\nIncludes are relative to the template with the `include` call. (This\nrequires the 'filename' option.) For example if you have \"./views/users.ejs\" and\n\"./views/user/show.ejs\" you would use `<%- include('user/show'); %>`.\n\nYou'll likely want to use the raw output tag (`<%-`) with your include to avoid\ndouble-escaping the HTML output.\n\n```html\n<ul>\n  <% users.forEach(function(user){ %>\n    <%- include('user/show', {user: user}); %>\n  <% }); %>\n</ul>\n```\n\nIncludes are inserted at runtime, so you can use variables for the path in the\n`include` call (for example `<%- include(somePath); %>`). Variables in your\ntop-level data object are available to all your includes, but local variables\nneed to be passed down.\n\nNOTE: Include preprocessor directives (`<% include user/show  %>`) are\nstill supported.\n\n## Custom delimiters\n\nCustom delimiters can be applied on a per-template basis, or globally:\n\n```javascript\nvar ejs = require('ejs'),\n    users = ['geddy', 'neil', 'alex'];\n\n// Just one template\nejs.render('<?= users.join(\" | \"); ?>', {users: users}, {delimiter: '?'});\n// => 'geddy | neil | alex'\n\n// Or globally\nejs.delimiter = '$';\nejs.render('<$= users.join(\" | \"); $>', {users: users});\n// => 'geddy | neil | alex'\n```\n\n## Caching\n\nEJS ships with a basic in-process cache for caching the intermediate JavaScript\nfunctions used to render templates. It's easy to plug in LRU caching using\nNode's `lru-cache` library:\n\n```javascript\nvar ejs = require('ejs')\n  , LRU = require('lru-cache');\nejs.cache = LRU(100); // LRU cache with 100-item limit\n```\n\nIf you want to clear the EJS cache, call `ejs.clearCache`. If you're using the\nLRU cache and need a different limit, simple reset `ejs.cache` to a new instance\nof the LRU.\n\n## Layouts\n\nEJS does not specifically support blocks, but layouts can be implemented by\nincluding headers and footers, like so:\n\n\n```html\n<%- include('header'); -%>\n<h1>\n  Title\n</h1>\n<p>\n  My page\n</p>\n<%- include('footer'); -%>\n```\n\n## Client-side support\n\nGo to the [Latest Release](https://github.com/mde/ejs/releases/latest), download\n`./ejs.js` or `./ejs.min.js`.\n\nInclude one of these on your page, and `ejs.render(str)`.\n\n## Related projects\n\nThere are a number of implementations of EJS:\n\n * TJ's implementation, the v1 of this library: https://github.com/tj/ejs\n * Jupiter Consulting's EJS: http://www.embeddedjs.com/\n * EJS Embedded JavaScript Framework on Google Code: https://code.google.com/p/embeddedjavascript/\n * Sam Stephenson's Ruby implementation: https://rubygems.org/gems/ejs\n * Erubis, an ERB implementation which also runs JavaScript: http://www.kuwata-lab.com/erubis/users-guide.04.html#lang-javascript\n\n## License\n\nLicensed under the Apache License, Version 2.0\n(<http://www.apache.org/licenses/LICENSE-2.0>)\n\n- - -\nEJS Embedded JavaScript templates copyright 2112\nmde@fleegix.org.\n\n\n",
  "readmeFilename": "README.md",
  "_id": "ejs@2.3.1",
  "dist": {
    "shasum": "a650b7bad9b16feb04c8b3bce38cb8f774131410"
  },
  "_from": "ejs@",
  "_resolved": "https://registry.npmjs.org/ejs/-/ejs-2.3.1.tgz"
}

},{}],"/home/vadzim/v/work/nerojs/node_modules/glob/common.js":[function(require,module,exports){
function ownProp(e,r){return Object.prototype.hasOwnProperty.call(e,r)}function absWin(e){if(absUnix(e))return!0;var r=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,t=r.exec(e),n=t[1]||"",o=n&&":"!==n.charAt(1),a=!!t[2]||o;return a}function absUnix(e){return"/"===e.charAt(0)||""===e}function alphasorti(e,r){return e.toLowerCase().localeCompare(r.toLowerCase())}function alphasort(e,r){return e.localeCompare(r)}function setupIgnores(e,r){e.ignore=r.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]),e.ignore.length&&(e.ignore=e.ignore.map(ignoreMap))}function ignoreMap(e){var r=null;if("/**"===e.slice(-3)){var t=e.replace(/(\/\*\*)+$/,"");r=new Minimatch(t,{nonegate:!0})}return{matcher:new Minimatch(e,{nonegate:!0}),gmatcher:r}}function setopts(e,r,t){if(t||(t={}),t.matchBase&&-1===r.indexOf("/")){if(t.noglobstar)throw new Error("base matching requires globstar");r="**/"+r}e.pattern=r,e.strict=t.strict!==!1,e.realpath=!!t.realpath,e.realpathCache=t.realpathCache||Object.create(null),e.follow=!!t.follow,e.dot=!!t.dot,e.mark=!!t.mark,e.nodir=!!t.nodir,e.nodir&&(e.mark=!0),e.sync=!!t.sync,e.nounique=!!t.nounique,e.nonull=!!t.nonull,e.nosort=!!t.nosort,e.nocase=!!t.nocase,e.stat=!!t.stat,e.noprocess=!!t.noprocess,e.maxLength=t.maxLength||1/0,e.cache=t.cache||Object.create(null),e.statCache=t.statCache||Object.create(null),e.symlinks=t.symlinks||Object.create(null),setupIgnores(e,t),e.changedCwd=!1;var n=process.cwd();ownProp(t,"cwd")?(e.cwd=t.cwd,e.changedCwd=path.resolve(t.cwd)!==n):e.cwd=n,e.root=t.root||path.resolve(e.cwd,"/"),e.root=path.resolve(e.root),"win32"===process.platform&&(e.root=e.root.replace(/\\/g,"/")),e.nomount=!!t.nomount,e.minimatch=new Minimatch(r,t),e.options=e.minimatch.options}function finish(e){for(var r=e.nounique,t=r?[]:Object.create(null),n=0,o=e.matches.length;o>n;n++){var a=e.matches[n];if(a&&0!==Object.keys(a).length){var i=Object.keys(a);r?t.push.apply(t,i):i.forEach(function(e){t[e]=!0})}else if(e.nonull){var s=e.minimatch.globSet[n];r?t.push(s):t[s]=!0}}if(r||(t=Object.keys(t)),e.nosort||(t=t.sort(e.nocase?alphasorti:alphasort)),e.mark){for(var n=0;n<t.length;n++)t[n]=e._mark(t[n]);e.nodir&&(t=t.filter(function(e){return!/\/$/.test(e)}))}e.ignore.length&&(t=t.filter(function(r){return!isIgnored(e,r)})),e.found=t}function mark(e,r){var t=makeAbs(e,r),n=e.cache[t],o=r;if(n){var a="DIR"===n||Array.isArray(n),i="/"===r.slice(-1);if(a&&!i?o+="/":!a&&i&&(o=o.slice(0,-1)),o!==r){var s=makeAbs(e,o);e.statCache[s]=e.statCache[t],e.cache[s]=e.cache[t]}}return o}function makeAbs(e,r){var t=r;return"/"===r.charAt(0)?t=path.join(e.root,r):exports.isAbsolute(r)?t=r:e.changedCwd?t=path.resolve(e.cwd,r):e.realpath&&(t=path.resolve(r)),t}function isIgnored(e,r){return e.ignore.length?e.ignore.some(function(e){return e.matcher.match(r)||!(!e.gmatcher||!e.gmatcher.match(r))}):!1}function childrenIgnored(e,r){return e.ignore.length?e.ignore.some(function(e){return!(!e.gmatcher||!e.gmatcher.match(r))}):!1}exports.alphasort=alphasort,exports.alphasorti=alphasorti,exports.isAbsolute="win32"===process.platform?absWin:absUnix,exports.setopts=setopts,exports.ownProp=ownProp,exports.makeAbs=makeAbs,exports.finish=finish,exports.mark=mark,exports.isIgnored=isIgnored,exports.childrenIgnored=childrenIgnored;var path=require("path"),minimatch=require("minimatch"),Minimatch=minimatch.Minimatch;

},{"minimatch":"/home/vadzim/v/work/nerojs/node_modules/glob/node_modules/minimatch/minimatch.js","path":false}],"/home/vadzim/v/work/nerojs/node_modules/glob/glob.js":[function(require,module,exports){
function glob(t,i,r){if("function"==typeof i&&(r=i,i={}),i||(i={}),i.sync){if(r)throw new TypeError("callback provided to sync glob");return globSync(t,i)}return new Glob(t,i,r)}function Glob(t,i,r){function e(){--o._processing,o._processing<=0&&o._finish()}if("function"==typeof i&&(r=i,i=null),i&&i.sync){if(r)throw new TypeError("callback provided to sync glob");return new GlobSync(t,i)}if(!(this instanceof Glob))return new Glob(t,i,r);setopts(this,t,i),this._didRealPath=!1;var s=this.minimatch.set.length;this.matches=new Array(s),"function"==typeof r&&(r=once(r),this.on("error",r),this.on("end",function(t){r(null,t)}));var o=this,s=this.minimatch.set.length;if(this._processing=0,this.matches=new Array(s),this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===s)return e();for(var n=0;s>n;n++)this._process(this.minimatch.set[n],n,!1,e)}function readdirCb(t,i,r){return function(e,s){e?t._readdirError(i,e,r):t._readdirEntries(i,s,r)}}module.exports=glob;var fs=require("fs"),minimatch=require("minimatch"),Minimatch=minimatch.Minimatch,inherits=require("inherits"),EE=require("events").EventEmitter,path=require("path"),assert=require("assert"),globSync=require("./sync.js"),common=require("./common.js"),alphasort=common.alphasort,alphasorti=common.alphasorti,isAbsolute=common.isAbsolute,setopts=common.setopts,ownProp=common.ownProp,inflight=require("inflight"),util=require("util"),childrenIgnored=common.childrenIgnored,once=require("once");glob.sync=globSync;var GlobSync=glob.GlobSync=globSync.GlobSync;glob.glob=glob,glob.hasMagic=function(t,i){var r=util._extend({},i);r.noprocess=!0;var e=new Glob(t,r),s=e.minimatch.set;if(s.length>1)return!0;for(var o=0;o<s[0].length;o++)if("string"!=typeof s[0][o])return!0;return!1},glob.Glob=Glob,inherits(Glob,EE),Glob.prototype._finish=function(){if(assert(this instanceof Glob),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();common.finish(this),this.emit("end",this.found)}},Glob.prototype._realpath=function(){function t(){0===--i&&r._finish()}if(!this._didRealpath){this._didRealpath=!0;var i=this.matches.length;if(0===i)return this._finish();for(var r=this,e=0;e<this.matches.length;e++)this._realpathSet(e,t)}},Glob.prototype._realpathSet=function(t,i){var r=this.matches[t];if(!r)return i();var e=Object.keys(r),s=this,o=e.length;if(0===o)return i();var n=this.matches[t]=Object.create(null);e.forEach(function(r,e){r=s._makeAbs(r),fs.realpath(r,s.realpathCache,function(e,a){e?"stat"===e.syscall?n[r]=!0:s.emit("error",e):n[a]=!0,0===--o&&(s.matches[t]=n,i())})})},Glob.prototype._mark=function(t){return common.mark(this,t)},Glob.prototype._makeAbs=function(t){return common.makeAbs(this,t)},Glob.prototype.abort=function(){this.aborted=!0,this.emit("abort")},Glob.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},Glob.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var t=this._emitQueue.slice(0);this._emitQueue.length=0;for(var i=0;i<t.length;i++){var r=t[i];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var e=this._processQueue.slice(0);this._processQueue.length=0;for(var i=0;i<e.length;i++){var s=e[i];this._processing--,this._process(s[0],s[1],s[2],s[3])}}}},Glob.prototype._process=function(t,i,r,e){if(assert(this instanceof Glob),assert("function"==typeof e),!this.aborted){if(this._processing++,this.paused)return void this._processQueue.push([t,i,r,e]);for(var s=0;"string"==typeof t[s];)s++;var o;switch(s){case t.length:return void this._processSimple(t.join("/"),i,e);case 0:o=null;break;default:o=t.slice(0,s).join("/")}var n,a=t.slice(s);null===o?n=".":isAbsolute(o)||isAbsolute(t.join("/"))?(o&&isAbsolute(o)||(o="/"+o),n=o):n=o;var h=this._makeAbs(n);if(childrenIgnored(this,n))return e();var c=a[0]===minimatch.GLOBSTAR;c?this._processGlobStar(o,n,h,a,i,r,e):this._processReaddir(o,n,h,a,i,r,e)}},Glob.prototype._processReaddir=function(t,i,r,e,s,o,n){var a=this;this._readdir(r,o,function(h,c){return a._processReaddir2(t,i,r,e,s,o,c,n)})},Glob.prototype._processReaddir2=function(t,i,r,e,s,o,n,a){if(!n)return a();for(var h=e[0],c=!!this.minimatch.negate,l=h._glob,u=this.dot||"."===l.charAt(0),f=[],p=0;p<n.length;p++){var m=n[p];if("."!==m.charAt(0)||u){var b;b=c&&!t?!m.match(h):m.match(h),b&&f.push(m)}}var d=f.length;if(0===d)return a();if(1===e.length&&!this.mark&&!this.stat){this.matches[s]||(this.matches[s]=Object.create(null));for(var p=0;d>p;p++){var m=f[p];t&&(m="/"!==t?t+"/"+m:t+m),"/"!==m.charAt(0)||this.nomount||(m=path.join(this.root,m)),this._emitMatch(s,m)}return a()}e.shift();for(var p=0;d>p;p++){var m=f[p];t&&(m="/"!==t?t+"/"+m:t+m),this._process([m].concat(e),s,o,a)}a()},Glob.prototype._emitMatch=function(t,i){if(!this.aborted&&!this.matches[t][i]){if(this.paused)return void this._emitQueue.push([t,i]);var r=this._makeAbs(i);if(this.nodir){var e=this.cache[r];if("DIR"===e||Array.isArray(e))return}this.mark&&(i=this._mark(i)),this.matches[t][i]=!0;var s=this.statCache[r];s&&this.emit("stat",i,s),this.emit("match",i)}},Glob.prototype._readdirInGlobStar=function(t,i){function r(r,e){if(r)return i();var o=e.isSymbolicLink();s.symlinks[t]=o,o||e.isDirectory()?s._readdir(t,!1,i):(s.cache[t]="FILE",i())}if(!this.aborted){if(this.follow)return this._readdir(t,!1,i);var e="lstat\x00"+t,s=this,o=inflight(e,r);o&&fs.lstat(t,o)}},Glob.prototype._readdir=function(t,i,r){if(!this.aborted&&(r=inflight("readdir\x00"+t+"\x00"+i,r))){if(i&&!ownProp(this.symlinks,t))return this._readdirInGlobStar(t,r);if(ownProp(this.cache,t)){var e=this.cache[t];if(!e||"FILE"===e)return r();if(Array.isArray(e))return r(null,e)}fs.readdir(t,readdirCb(this,t,r))}},Glob.prototype._readdirEntries=function(t,i,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var e=0;e<i.length;e++){var s=i[e];s="/"===t?t+s:t+"/"+s,this.cache[s]=!0}return this.cache[t]=i,r(null,i)}},Glob.prototype._readdirError=function(t,i,r){if(!this.aborted){switch(i.code){case"ENOTDIR":this.cache[this._makeAbs(t)]="FILE";break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:if(this.cache[this._makeAbs(t)]=!1,this.strict)return this.emit("error",i);this.silent||console.error("glob error",i)}return r()}},Glob.prototype._processGlobStar=function(t,i,r,e,s,o,n){var a=this;this._readdir(r,o,function(h,c){a._processGlobStar2(t,i,r,e,s,o,c,n)})},Glob.prototype._processGlobStar2=function(t,i,r,e,s,o,n,a){if(!n)return a();var h=e.slice(1),c=t?[t]:[],l=c.concat(h);this._process(l,s,!1,a);var u=this.symlinks[r],f=n.length;if(u&&o)return a();for(var p=0;f>p;p++){var m=n[p];if("."!==m.charAt(0)||this.dot){var b=c.concat(n[p],h);this._process(b,s,!0,a);var d=c.concat(n[p],e);this._process(d,s,!0,a)}}a()},Glob.prototype._processSimple=function(t,i,r){var e=this;this._stat(t,function(s,o){e._processSimple2(t,i,s,o,r)})},Glob.prototype._processSimple2=function(t,i,r,e,s){if(this.matches[i]||(this.matches[i]=Object.create(null)),!e)return s();if(t&&isAbsolute(t)&&!this.nomount){var o=/[\/\\]$/.test(t);"/"===t.charAt(0)?t=path.join(this.root,t):(t=path.resolve(this.root,t),o&&(t+="/"))}"win32"===process.platform&&(t=t.replace(/\\/g,"/")),this._emitMatch(i,t),s()},Glob.prototype._stat=function(t,i){function r(r,s){return s&&s.isSymbolicLink()?fs.stat(e,function(r,o){r?h._stat2(t,e,null,s,i):h._stat2(t,e,r,o,i)}):void h._stat2(t,e,r,s,i)}var e=this._makeAbs(t),s="/"===t.slice(-1);if(t.length>this.maxLength)return i();if(!this.stat&&ownProp(this.cache,e)){var o=this.cache[e];if(Array.isArray(o)&&(o="DIR"),!s||"DIR"===o)return i(null,o);if(s&&"FILE"===o)return i()}var n=this.statCache[e];if(void 0!==n){if(n===!1)return i(null,n);var a=n.isDirectory()?"DIR":"FILE";return s&&"FILE"===a?i():i(null,a,n)}var h=this,c=inflight("stat\x00"+e,r);c&&fs.lstat(e,c)},Glob.prototype._stat2=function(t,i,r,e,s){if(r)return this.statCache[i]=!1,s();var o="/"===t.slice(-1);if(this.statCache[i]=e,"/"===i.slice(-1)&&!e.isDirectory())return s(null,!1,e);var n=e.isDirectory()?"DIR":"FILE";return this.cache[i]=this.cache[i]||n,o&&"DIR"!==n?s():s(null,n,e)};

},{"./common.js":"/home/vadzim/v/work/nerojs/node_modules/glob/common.js","./sync.js":"/home/vadzim/v/work/nerojs/node_modules/glob/sync.js","assert":false,"events":false,"fs":false,"inflight":"/home/vadzim/v/work/nerojs/node_modules/glob/node_modules/inflight/inflight.js","inherits":"/home/vadzim/v/work/nerojs/node_modules/glob/node_modules/inherits/inherits_browser.js","minimatch":"/home/vadzim/v/work/nerojs/node_modules/glob/node_modules/minimatch/minimatch.js","once":"/home/vadzim/v/work/nerojs/node_modules/glob/node_modules/once/once.js","path":false,"util":false}],"/home/vadzim/v/work/nerojs/node_modules/glob/node_modules/inflight/inflight.js":[function(require,module,exports){
function inflight(e,r){return reqs[e]?(reqs[e].push(r),null):(reqs[e]=[r],makeres(e))}function makeres(e){return once(function r(){for(var n=reqs[e],l=n.length,t=slice(arguments),u=0;l>u;u++)n[u].apply(null,t);n.length>l?(n.splice(0,l),process.nextTick(function(){r.apply(null,t)})):delete reqs[e]})}function slice(e){for(var r=e.length,n=[],l=0;r>l;l++)n[l]=e[l];return n}var wrappy=require("wrappy"),reqs=Object.create(null),once=require("once");module.exports=wrappy(inflight);

},{"once":"/home/vadzim/v/work/nerojs/node_modules/glob/node_modules/once/once.js","wrappy":"/home/vadzim/v/work/nerojs/node_modules/glob/node_modules/inflight/node_modules/wrappy/wrappy.js"}],"/home/vadzim/v/work/nerojs/node_modules/glob/node_modules/inflight/node_modules/wrappy/wrappy.js":[function(require,module,exports){
function wrappy(n,r){function e(){for(var r=new Array(arguments.length),e=0;e<r.length;e++)r[e]=arguments[e];var t=n.apply(this,r),o=r[r.length-1];return"function"==typeof t&&t!==o&&Object.keys(o).forEach(function(n){t[n]=o[n]}),t}if(n&&r)return wrappy(n)(r);if("function"!=typeof n)throw new TypeError("need wrapper function");return Object.keys(n).forEach(function(r){e[r]=n[r]}),e}module.exports=wrappy;

},{}],"/home/vadzim/v/work/nerojs/node_modules/glob/node_modules/inherits/inherits_browser.js":[function(require,module,exports){
"function"==typeof Object.create?module.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function(t,e){t.super_=e;var o=function(){};o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t};

},{}],"/home/vadzim/v/work/nerojs/node_modules/glob/node_modules/minimatch/minimatch.js":[function(require,module,exports){
function charSet(t){return t.split("").reduce(function(t,e){return t[e]=!0,t},{})}function filter(t,e){return e=e||{},function(i,n,r){return minimatch(i,t,e)}}function ext(t,e){t=t||{},e=e||{};var i={};return Object.keys(e).forEach(function(t){i[t]=e[t]}),Object.keys(t).forEach(function(e){i[e]=t[e]}),i}function minimatch(t,e,i){if("string"!=typeof e)throw new TypeError("glob pattern string required");return i||(i={}),i.nocomment||"#"!==e.charAt(0)?""===e.trim()?""===t:new Minimatch(e,i).match(t):!1}function Minimatch(t,e){if(!(this instanceof Minimatch))return new Minimatch(t,e);if("string"!=typeof t)throw new TypeError("glob pattern string required");e||(e={}),t=t.trim(),isWindows&&(t=t.split("\\").join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function make(){if(!this._made){var t=this.pattern,e=this.options;if(!e.nocomment&&"#"===t.charAt(0))return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate();var i=this.globSet=this.braceExpand();e.debug&&(this.debug=console.error),this.debug(this.pattern,i),i=this.globParts=i.map(function(t){return t.split(slashSplit)}),this.debug(this.pattern,i),i=i.map(function(t,e,i){return t.map(this.parse,this)},this),this.debug(this.pattern,i),i=i.filter(function(t){return-1===t.indexOf(!1)}),this.debug(this.pattern,i),this.set=i}}function parseNegate(){var t=this.pattern,e=!1,i=this.options,n=0;if(!i.nonegate){for(var r=0,a=t.length;a>r&&"!"===t.charAt(r);r++)e=!e,n++;n&&(this.pattern=t.substr(n)),this.negate=e}}function braceExpand(t,e){if(e||(e=this instanceof Minimatch?this.options:{}),t="undefined"==typeof t?this.pattern:t,"undefined"==typeof t)throw new Error("undefined pattern");return e.nobrace||!t.match(/\{.*\}/)?[t]:expand(t)}function parse(t,e){function i(){if(a){switch(a){case"*":c+=star,h=!0;break;case"?":c+=qmark,h=!0;break;default:c+="\\"+a}l.debug("clearStateChar %j %j",a,c),a=!1}}var n=this.options;if(!n.noglobstar&&"**"===t)return GLOBSTAR;if(""===t)return"";for(var r,a,s,c="",h=!!n.nocase,o=!1,u=[],p=!1,f=-1,m=-1,g="."===t.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",l=this,d=0,b=t.length;b>d&&(s=t.charAt(d));d++)if(this.debug("%s	%s %s %j",t,d,c,s),o&&reSpecials[s])c+="\\"+s,o=!1;else switch(s){case"/":return!1;case"\\":i(),o=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",t,d,c,s),p){this.debug("  in class"),"!"===s&&d===m+1&&(s="^"),c+=s;continue}l.debug("call clearStateChar %j",a),i(),a=s,n.noext&&i();continue;case"(":if(p){c+="(";continue}if(!a){c+="\\(";continue}r=a,u.push({type:r,start:d-1,reStart:c.length}),c+="!"===a?"(?:(?!":"(?:",this.debug("plType %j %j",a,c),a=!1;continue;case")":if(p||!u.length){c+="\\)";continue}switch(i(),h=!0,c+=")",r=u.pop().type){case"!":c+="[^/]*?)";break;case"?":case"+":case"*":c+=r;case"@":}continue;case"|":if(p||!u.length||o){c+="\\|",o=!1;continue}i(),c+="|";continue;case"[":if(i(),p){c+="\\"+s;continue}p=!0,m=d,f=c.length,c+=s;continue;case"]":if(d===m+1||!p){c+="\\"+s,o=!1;continue}if(p){var v=t.substring(m+1,d);try{new RegExp("["+v+"]")}catch(w){var S=this.parse(v,SUBPARSE);c=c.substr(0,f)+"\\["+S[0]+"\\]",h=h||S[1],p=!1;continue}}h=!0,p=!1,c+=s;continue;default:i(),o?o=!1:!reSpecials[s]||"^"===s&&p||(c+="\\"),c+=s}if(p){var v=t.substr(m+1),S=this.parse(v,SUBPARSE);c=c.substr(0,f)+"\\["+S[0],h=h||S[1]}for(var y;y=u.pop();){var x=c.slice(y.reStart+3);x=x.replace(/((?:\\{2})*)(\\?)\|/g,function(t,e,i){return i||(i="\\"),e+e+i+"|"}),this.debug("tail=%j\n   %s",x,x);var E="*"===y.type?star:"?"===y.type?qmark:"\\"+y.type;h=!0,c=c.slice(0,y.reStart)+E+"\\("+x}i(),o&&(c+="\\\\");var M=!1;switch(c.charAt(0)){case".":case"[":case"(":M=!0}if(""!==c&&h&&(c="(?=.)"+c),M&&(c=g+c),e===SUBPARSE)return[c,h];if(!h)return globUnescape(t);var k=n.nocase?"i":"",A=new RegExp("^"+c+"$",k);return A._glob=t,A._src=c,A}function makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1;var e=this.options,i=e.noglobstar?star:e.dot?twoStarDot:twoStarNoDot,n=e.nocase?"i":"",r=t.map(function(t){return t.map(function(t){return t===GLOBSTAR?i:"string"==typeof t?regExpEscape(t):t._src}).join("\\/")}).join("|");r="^(?:"+r+")$",this.negate&&(r="^(?!"+r+").*$");try{return this.regexp=new RegExp(r,n)}catch(a){return this.regexp=!1}}function match(t,e){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;var i=this.options;isWindows&&(t=t.split("\\").join("/")),t=t.split(slashSplit),this.debug(this.pattern,"split",t);var n=this.set;this.debug(this.pattern,"set",n);for(var r,a=t.length-1;a>=0&&!(r=t[a]);a--);for(var a=0,s=n.length;s>a;a++){var c=n[a],h=t;i.matchBase&&1===c.length&&(h=[r]);var o=this.matchOne(h,c,e);if(o)return i.flipNegate?!0:!this.negate}return i.flipNegate?!1:this.negate}function globUnescape(t){return t.replace(/\\(.)/g,"$1")}function regExpEscape(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}module.exports=minimatch,minimatch.Minimatch=Minimatch;var isWindows=!1;"undefined"!=typeof process&&"win32"===process.platform&&(isWindows=!0);var GLOBSTAR=minimatch.GLOBSTAR=Minimatch.GLOBSTAR={},expand=require("brace-expansion"),qmark="[^/]",star=qmark+"*?",twoStarDot="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",twoStarNoDot="(?:(?!(?:\\/|^)\\.).)*?",reSpecials=charSet("().*{}+?[]^$\\!"),slashSplit=/\/+/;minimatch.filter=filter,minimatch.defaults=function(t){if(!t||!Object.keys(t).length)return minimatch;var e=minimatch,i=function(i,n,r){return e.minimatch(i,n,ext(t,r))};return i.Minimatch=function(i,n){return new e.Minimatch(i,ext(t,n))},i},Minimatch.defaults=function(t){return t&&Object.keys(t).length?minimatch.defaults(t).Minimatch:Minimatch},Minimatch.prototype.debug=function(){},Minimatch.prototype.make=make,Minimatch.prototype.parseNegate=parseNegate,minimatch.braceExpand=function(t,e){return braceExpand(t,e)},Minimatch.prototype.braceExpand=braceExpand,Minimatch.prototype.parse=parse;var SUBPARSE={};minimatch.makeRe=function(t,e){return new Minimatch(t,e||{}).makeRe()},Minimatch.prototype.makeRe=makeRe,minimatch.match=function(t,e,i){i=i||{};var n=new Minimatch(e,i);return t=t.filter(function(t){return n.match(t)}),n.options.nonull&&!t.length&&t.push(e),t},Minimatch.prototype.match=match,Minimatch.prototype.matchOne=function(t,e,i){var n=this.options;this.debug("matchOne",{"this":this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var r=0,a=0,s=t.length,c=e.length;s>r&&c>a;r++,a++){this.debug("matchOne loop");var h=e[a],o=t[r];if(this.debug(e,h,o),h===!1)return!1;if(h===GLOBSTAR){this.debug("GLOBSTAR",[e,h,o]);var u=r,p=a+1;if(p===c){for(this.debug("** at the end");s>r;r++)if("."===t[r]||".."===t[r]||!n.dot&&"."===t[r].charAt(0))return!1;return!0}t:for(;s>u;){var f=t[u];if(this.debug("\nglobstar while",t,u,e,p,f),this.matchOne(t.slice(u),e.slice(p),i))return this.debug("globstar found match!",u,s,f),!0;if("."===f||".."===f||!n.dot&&"."===f.charAt(0)){this.debug("dot detected!",t,u,e,p);break t}this.debug("globstar swallow a segment, and continue"),u++}return i&&(this.debug("\n>>> no match, partial?",t,u,e,p),u===s)?!0:!1}var m;if("string"==typeof h?(m=n.nocase?o.toLowerCase()===h.toLowerCase():o===h,this.debug("string match",h,o,m)):(m=o.match(h),this.debug("pattern match",h,o,m)),!m)return!1}if(r===s&&a===c)return!0;if(r===s)return i;if(a===c){var g=r===s-1&&""===t[r];return g}throw new Error("wtf?")};

},{"brace-expansion":"/home/vadzim/v/work/nerojs/node_modules/glob/node_modules/minimatch/node_modules/brace-expansion/index.js"}],"/home/vadzim/v/work/nerojs/node_modules/glob/node_modules/minimatch/node_modules/brace-expansion/index.js":[function(require,module,exports){
function numeric(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function escapeBraces(e){return e.split("\\\\").join(escSlash).split("\\{").join(escOpen).split("\\}").join(escClose).split("\\,").join(escComma).split("\\.").join(escPeriod)}function unescapeBraces(e){return e.split(escSlash).join("\\").split(escOpen).join("{").split(escClose).join("}").split(escComma).join(",").split(escPeriod).join(".")}function parseCommaParts(e){if(!e)return[""];var n=[],t=balanced("{","}",e);if(!t)return e.split(",");var r=t.pre,a=t.body,s=t.post,o=r.split(",");o[o.length-1]+="{"+a+"}";var i=parseCommaParts(s);return s.length&&(o[o.length-1]+=i.shift(),o.push.apply(o,i)),n.push.apply(n,o),n}function expandTop(e){return e?expand(escapeBraces(e),!0).map(unescapeBraces):[]}function identity(e){return e}function embrace(e){return"{"+e+"}"}function isPadded(e){return/^-?0\d/.test(e)}function lte(e,n){return n>=e}function gte(e,n){return e>=n}function expand(e,n){var t=[],r=balanced("{","}",e);if(!r||/\$$/.test(r.pre))return[e];var a=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(r.body),s=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(r.body),o=a||s,i=/^(.*,)+(.+)?$/.test(r.body);if(!o&&!i)return r.post.match(/,.*}/)?(e=r.pre+"{"+r.body+escClose+r.post,expand(e)):[e];var p;if(o)p=r.body.split(/\.\./);else if(p=parseCommaParts(r.body),1===p.length&&(p=expand(p[0],!1).map(embrace),1===p.length)){var c=r.post.length?expand(r.post,!1):[""];return c.map(function(e){return r.pre+p[0]+e})}var l,u=r.pre,c=r.post.length?expand(r.post,!1):[""];if(o){var d=numeric(p[0]),m=numeric(p[1]),h=Math.max(p[0].length,p[1].length),f=3==p.length?Math.abs(numeric(p[2])):1,x=lte,v=d>m;v&&(f*=-1,x=gte);var g=p.some(isPadded);l=[];for(var C=d;x(C,m);C+=f){var b;if(s)b=String.fromCharCode(C),"\\"===b&&(b="");else if(b=String(C),g){var j=h-b.length;if(j>0){var y=new Array(j+1).join("0");b=0>C?"-"+y+b.slice(1):y+b}}l.push(b)}}else l=concatMap(p,function(e){return expand(e,!1)});for(var M=0;M<l.length;M++)for(var P=0;P<c.length;P++){var S=u+l[M]+c[P];(!n||o||S)&&t.push(S)}return t}var concatMap=require("concat-map"),balanced=require("balanced-match");module.exports=expandTop;var escSlash="\x00SLASH"+Math.random()+"\x00",escOpen="\x00OPEN"+Math.random()+"\x00",escClose="\x00CLOSE"+Math.random()+"\x00",escComma="\x00COMMA"+Math.random()+"\x00",escPeriod="\x00PERIOD"+Math.random()+"\x00";

},{"balanced-match":"/home/vadzim/v/work/nerojs/node_modules/glob/node_modules/minimatch/node_modules/brace-expansion/node_modules/balanced-match/index.js","concat-map":"/home/vadzim/v/work/nerojs/node_modules/glob/node_modules/minimatch/node_modules/brace-expansion/node_modules/concat-map/index.js"}],"/home/vadzim/v/work/nerojs/node_modules/glob/node_modules/minimatch/node_modules/brace-expansion/node_modules/balanced-match/index.js":[function(require,module,exports){
function balanced(t,e,r){for(var s=0,n={},a=!1,l=0;l<r.length;l++)if(t==r.substr(l,t.length))"start"in n||(n.start=l),s++;else if(e==r.substr(l,e.length)&&"start"in n&&(a=!0,s--,!s))return n.end=l,n.pre=r.substr(0,n.start),n.body=n.end-n.start>1?r.substring(n.start+t.length,n.end):"",n.post=r.slice(n.end+e.length),n;if(s&&a){var d=n.start+t.length;return n=balanced(t,e,r.substr(d)),n&&(n.start+=d,n.end+=d,n.pre=r.slice(0,d)+n.pre),n}}module.exports=balanced;

},{}],"/home/vadzim/v/work/nerojs/node_modules/glob/node_modules/minimatch/node_modules/brace-expansion/node_modules/concat-map/index.js":[function(require,module,exports){
module.exports=function(r,t){for(var a=[],o=0;o<r.length;o++){var e=t(r[o],o);isArray(e)?a.push.apply(a,e):a.push(e)}return a};var isArray=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)};

},{}],"/home/vadzim/v/work/nerojs/node_modules/glob/node_modules/once/node_modules/wrappy/wrappy.js":[function(require,module,exports){
function wrappy(n,r){function e(){for(var r=new Array(arguments.length),e=0;e<r.length;e++)r[e]=arguments[e];var t=n.apply(this,r),o=r[r.length-1];return"function"==typeof t&&t!==o&&Object.keys(o).forEach(function(n){t[n]=o[n]}),t}if(n&&r)return wrappy(n)(r);if("function"!=typeof n)throw new TypeError("need wrapper function");return Object.keys(n).forEach(function(r){e[r]=n[r]}),e}module.exports=wrappy;

},{}],"/home/vadzim/v/work/nerojs/node_modules/glob/node_modules/once/once.js":[function(require,module,exports){
function once(e){var n=function(){return n.called?n.value:(n.called=!0,n.value=e.apply(this,arguments))};return n.called=!1,n}var wrappy=require("wrappy");module.exports=wrappy(once),once.proto=once(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return once(this)},configurable:!0})});

},{"wrappy":"/home/vadzim/v/work/nerojs/node_modules/glob/node_modules/once/node_modules/wrappy/wrappy.js"}],"/home/vadzim/v/work/nerojs/node_modules/glob/sync.js":[function(require,module,exports){
function globSync(t,r){if("function"==typeof r||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new GlobSync(t,r).found}function GlobSync(t,r){if(!t)throw new Error("must provide pattern");if("function"==typeof r||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof GlobSync))return new GlobSync(t,r);if(setopts(this,t,r),this.noprocess)return this;var s=this.minimatch.set.length;this.matches=new Array(s);for(var i=0;s>i;i++)this._process(this.minimatch.set[i],i,!1);this._finish()}module.exports=globSync,globSync.GlobSync=GlobSync;var fs=require("fs"),minimatch=require("minimatch"),Minimatch=minimatch.Minimatch,Glob=require("./glob.js").Glob,util=require("util"),path=require("path"),assert=require("assert"),common=require("./common.js"),alphasort=common.alphasort,alphasorti=common.alphasorti,isAbsolute=common.isAbsolute,setopts=common.setopts,ownProp=common.ownProp,childrenIgnored=common.childrenIgnored;GlobSync.prototype._finish=function(){if(assert(this instanceof GlobSync),this.realpath){var t=this;this.matches.forEach(function(r,s){var i=t.matches[s]=Object.create(null);for(var e in r)try{e=t._makeAbs(e);var o=fs.realpathSync(e,this.realpathCache);i[o]=!0}catch(a){if("stat"!==a.syscall)throw a;i[t._makeAbs(e)]=!0}})}common.finish(this)},GlobSync.prototype._process=function(t,r,s){assert(this instanceof GlobSync);for(var i=0;"string"==typeof t[i];)i++;var e;switch(i){case t.length:return void this._processSimple(t.join("/"),r);case 0:e=null;break;default:e=t.slice(0,i).join("/")}var o,a=t.slice(i);null===e?o=".":isAbsolute(e)||isAbsolute(t.join("/"))?(e&&isAbsolute(e)||(e="/"+e),o=e):o=e;var c=this._makeAbs(o);if(!childrenIgnored(this,o)){var n=a[0]===minimatch.GLOBSTAR;n?this._processGlobStar(e,o,c,a,r,s):this._processReaddir(e,o,c,a,r,s)}},GlobSync.prototype._processReaddir=function(t,r,s,i,e,o){var a=this._readdir(s,o);if(a){for(var c=i[0],n=!!this.minimatch.negate,h=c._glob,l=this.dot||"."===h.charAt(0),m=[],f=0;f<a.length;f++){var p=a[f];if("."!==p.charAt(0)||l){var u;u=n&&!t?!p.match(c):p.match(c),u&&m.push(p)}}var y=m.length;if(0!==y)if(1!==i.length||this.mark||this.stat){i.shift();for(var f=0;y>f;f++){var b,p=m[f];b=t?[t,p]:[p],this._process(b.concat(i),e,o)}}else{this.matches[e]||(this.matches[e]=Object.create(null));for(var f=0;y>f;f++){var p=m[f];t&&(p="/"!==t.slice(-1)?t+"/"+p:t+p),"/"!==p.charAt(0)||this.nomount||(p=path.join(this.root,p)),this.matches[e][p]=!0}}}},GlobSync.prototype._emitMatch=function(t,r){this._makeAbs(r);if(this.mark&&(r=this._mark(r)),!this.matches[t][r]){if(this.nodir){var s=this.cache[this._makeAbs(r)];if("DIR"===s||Array.isArray(s))return}this.matches[t][r]=!0,this.stat&&this._stat(r)}},GlobSync.prototype._readdirInGlobStar=function(t){if(this.follow)return this._readdir(t,!1);var r,s;try{s=fs.lstatSync(t)}catch(i){return null}var e=s.isSymbolicLink();return this.symlinks[t]=e,e||s.isDirectory()?r=this._readdir(t,!1):this.cache[t]="FILE",r},GlobSync.prototype._readdir=function(t,r){if(r&&!ownProp(this.symlinks,t))return this._readdirInGlobStar(t);if(ownProp(this.cache,t)){var s=this.cache[t];if(!s||"FILE"===s)return null;if(Array.isArray(s))return s}try{return this._readdirEntries(t,fs.readdirSync(t))}catch(i){return this._readdirError(t,i),null}},GlobSync.prototype._readdirEntries=function(t,r){if(!this.mark&&!this.stat)for(var s=0;s<r.length;s++){var i=r[s];i="/"===t?t+i:t+"/"+i,this.cache[i]=!0}return this.cache[t]=r,r},GlobSync.prototype._readdirError=function(t,r){switch(r.code){case"ENOTDIR":this.cache[this._makeAbs(t)]="FILE";break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:if(this.cache[this._makeAbs(t)]=!1,this.strict)throw r;this.silent||console.error("glob error",r)}},GlobSync.prototype._processGlobStar=function(t,r,s,i,e,o){var a=this._readdir(s,o);if(a){var c=i.slice(1),n=t?[t]:[],h=n.concat(c);this._process(h,e,!1);var l=a.length,m=this.symlinks[s];if(!m||!o)for(var f=0;l>f;f++){var p=a[f];if("."!==p.charAt(0)||this.dot){var u=n.concat(a[f],c);this._process(u,e,!0);var y=n.concat(a[f],i);this._process(y,e,!0)}}}},GlobSync.prototype._processSimple=function(t,r){var s=this._stat(t);if(this.matches[r]||(this.matches[r]=Object.create(null)),s){if(t&&isAbsolute(t)&&!this.nomount){var i=/[\/\\]$/.test(t);"/"===t.charAt(0)?t=path.join(this.root,t):(t=path.resolve(this.root,t),i&&(t+="/"))}"win32"===process.platform&&(t=t.replace(/\\/g,"/")),this.matches[r][t]=!0}},GlobSync.prototype._stat=function(t){var r=this._makeAbs(t),s="/"===t.slice(-1);if(t.length>this.maxLength)return!1;if(!this.stat&&ownProp(this.cache,r)){var i=this.cache[r];if(Array.isArray(i)&&(i="DIR"),!s||"DIR"===i)return i;if(s&&"FILE"===i)return!1}var e=this.statCache[r];if(!e){var o;try{o=fs.lstatSync(r)}catch(a){return!1}if(o.isSymbolicLink())try{e=fs.statSync(r)}catch(a){e=o}else e=o}this.statCache[r]=e;var i=e.isDirectory()?"DIR":"FILE";return this.cache[r]=this.cache[r]||i,s&&"DIR"!==i?!1:i},GlobSync.prototype._mark=function(t){return common.mark(this,t)},GlobSync.prototype._makeAbs=function(t){return common.makeAbs(this,t)};

},{"./common.js":"/home/vadzim/v/work/nerojs/node_modules/glob/common.js","./glob.js":"/home/vadzim/v/work/nerojs/node_modules/glob/glob.js","assert":false,"fs":false,"minimatch":"/home/vadzim/v/work/nerojs/node_modules/glob/node_modules/minimatch/minimatch.js","path":false,"util":false}],"/home/vadzim/v/work/nerojs/node_modules/http-status/lib/index.js":[function(require,module,exports){
module.exports={100:"Continue",101:"Switching Protocols",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range not Satisfiable",417:"Expectation Failed",422:"Unprocessable Entity",429:"Too Many Requests",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version not Supported",CONTINUE:100,SWITCHING_PROTOCOLS:101,OK:200,CREATED:201,ACCEPTED:202,NON_AUTHORITATIVE_INFORMATION:203,NO_CONTENT:204,RESET_CONTENT:205,PARTIAL_CONTENT:206,MULTIPLE_CHOICES:300,MOVED_PERMANENTLY:301,FOUND:302,SEE_OTHER:303,NOT_MODIFIED:304,USE_PROXY:305,TEMPORARY_REDIRECT:307,BAD_REQUEST:400,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,NOT_ACCEPTABLE:406,PROXY_AUTHENTICATION_REQUIRED:407,REQUEST_TIMEOUT:408,CONFLICT:409,GONE:410,LENGTH_REQUIRED:411,PRECONDITION_FAILED:412,REQUEST_ENTITY_TOO_LARGE:413,REQUEST_URI_TOO_LONG:414,UNSUPPORTED_MEDIA_TYPE:415,REQUESTED_RANGE_NOT_SATISFIABLE:416,EXPECTATION_FAILED:417,UNPROCESSABLE_ENTITY:422,TOO_MANY_REQUESTS:429,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,HTTP_VERSION_NOT_SUPPORTED:505};

},{}],"/home/vadzim/v/work/nerojs/node_modules/immutable/dist/immutable.js":[function(require,module,exports){
function universalModule(){function t(t,e,r,n){var i;if(n){var u=n.prototype;i=Rt.create(u)}else i=t.prototype;return Rt.keys(e).forEach(function(t){i[t]=e[t]}),Rt.keys(r).forEach(function(e){t[e]=r[e]}),i.constructor=t,t.prototype=i,t}function e(t,e,r,n){return Rt.getPrototypeOf(e)[r].apply(t,n)}function r(t,r,n){e(t,r,"constructor",n)}function n(t,e){return t===e?0!==t||0!==e||1/t===1/e:t!==t?e!==e:t&&"function"==typeof t.equals?t.equals(e):!1}function i(t){return t.value=!1,t}function u(t){t&&(t.value=!0)}function a(){}function s(t,e){e=e||0;for(var r=Math.max(0,t.length-e),n=new Array(r),i=0;r>i;i++)n[i]=t[i+e];return n}function o(t,e){if(!t)throw new Error(e)}function h(t){if(!t)return 0;if(t===!0)return 1;var e=typeof t;if("number"===e){if((0|t)===t)return t&Nt;t=""+t,e="string"}return"string"===e?t.length>Gt?c(t):f(t):t.hashCode?h("function"==typeof t.hashCode?t.hashCode():t.hashCode):_(t)}function c(t){var e=Xt[t];return null==e&&(e=f(t),Qt===Ht&&(Qt=0,Xt={}),Qt++,Xt[t]=e),e}function f(t){for(var e=0,r=0;r<t.length;r++)e=31*e+t.charCodeAt(r)&Nt;return e}function _(t){var e=Lt&&Lt.get(t);if(e)return e;if(e=t[Ft])return e;if(!Vt){if(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Ft])return e;if(e=l(t))return e}if(Object.isExtensible&&!Object.isExtensible(t))throw new Error("Non-extensible objects are not allowed as keys.");if(e=++Tt&Nt,Lt)Lt.set(t,e);else if(Vt)Object.defineProperty(t,Ft,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Ft]=e;else{if(!t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[Ft]=e}return e}function l(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function v(t,e,r,n){var i=0===t?e:1===t?r:[e,r];return n?n.value=i:n={value:i,done:!1},n}function g(){return{value:void 0,done:!0}}function p(t){return!!d(t)}function m(t){return t&&"function"==typeof t.next}function y(t){var e=d(t);return e&&e.call(t)}function d(t){var e=t&&(ee&&t[ee]||t[te]);return"function"==typeof e?e:void 0}function w(t){return null==t.length&&t.cacheResult(),o(t.length<1/0,"Cannot reverse infinite range."),t.length}function S(t,e,r){return(0===t||null!=r&&-r>=t)&&(null==e||null!=r&&e>=r)}function I(t,e){return b(t,e,0)}function q(t,e){return b(t,e,e)}function b(t,e,r){return null==t?r:0>t?Math.max(0,e+t):null==e?t:Math.min(e,t)}function k(t){return t}function x(t,e){return[e,t]}function M(){return!0}function D(t){return function(){return!t.apply(this,arguments)}}function O(t){return"string"==typeof t?JSON.stringify(t):t}function C(t,e){return t>e?1:e>t?-1:0}function A(t,e){return 0>e?(null==t.length&&t.cacheResult(),t.length+e):e}function E(t){o(t!==1/0,"Cannot perform this action with an infinite sequence.")}function R(t,e,r,n){var i=t._cache;if(i){for(var u=i.length-1,a=0;u>=a;a++){var s=i[r?u-a:a];if(e(s[1],n?s[0]:a,t)===!1)return a+1}return a}return t.__iterateUncached(e,r)}function j(t,e,r,n){var i=t._cache;if(i){var u=i.length-1,a=0;return new ne(function(){var t=i[r?u-a:a];return a++>u?g():v(e,n?t[0]:a-1,t[1])})}return t.__iteratorUncached(e,r)}function U(t){var e=t.__makeSequence();return e.length=t.length,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.contains(e)},e.contains=function(e){return t.has(e)},e.__iterateUncached=function(e,r){var n=this;return t.__iterate(function(t,r){return e(r,t,n)!==!1},r)},e.__iteratorUncached=function(e,r){if(e===$t){var n=t.__iterator(e,r);return new ne(function(){var t=n.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t})}return t.__iterator(e===Zt?Yt:Zt,r)},e}function W(t,e,r){var n=t.__makeSequence();return n.length=t.length,n.has=function(e){return t.has(e)},n.get=function(n,i){var u=t.get(n,Jt);return u===Jt?i:e.call(r,u,n,t)},n.__iterateUncached=function(n,i){var u=this;return t.__iterate(function(t,i,a){return n(e.call(r,t,i,a),i,u)!==!1},i)},n.__iteratorUncached=function(n,i){var u=t.__iterator($t,i);return new ne(function(){var i=u.next();if(i.done)return i;var a=i.value,s=a[0];return v(n,s,e.call(r,a[1],s,t),i)})},n}function P(t,e){var r=t.__makeSequence();return r.length=t.length,r.reverse=function(){return t},r.flip=function(){var e=t.flip.apply(this);return e.reverse=function(){return t.flip()},e},r.get=function(r,n){return t.get(e?r:-1-r,n)},r.has=function(r){return t.has(e?r:-1-r)},r.contains=function(e){return t.contains(e)},r.cacheResult=function(){return t.cacheResult(),this.length=t.length,this},r.__iterate=function(e,r){var n=this;return t.__iterate(function(t,r){return e(t,r,n)},!r)},r.__iterator=function(e,r){return t.__iterator(e,!r)},r}function K(t,e,r,n){var i=t.__makeSequence();return n&&(i.has=function(n){var i=t.get(n,Jt);return i!==Jt&&!!e.call(r,i,n,t)},i.get=function(n,i){var u=t.get(n,Jt);return u!==Jt&&e.call(r,u,n,t)?u:i}),i.__iterateUncached=function(i,u){var a=this,s=0;return t.__iterate(function(t,u,o){return e.call(r,t,u,o)?(s++,i(t,n?u:s-1,a)):void 0},u),s},i.__iteratorUncached=function(i,u){var a=t.__iterator($t,u),s=0;return new ne(function(){for(;;){var u=a.next();if(u.done)return u;var o=u.value,h=o[0],c=o[1];if(e.call(r,c,h,t))return v(i,n?h:s++,c,u)}})},i}function J(t,e,r,n){var i={},u=[];return t.__iterate(function(a,s){var o=e.call(r,a,s,t),c=h(o),f=n?[s,a]:a;i.hasOwnProperty(c)?u[i[c]][1].push(f):(i[c]=u.length,u.push([o,[f]]))}),ue(u).fromEntrySeq().map(n?function(t){return ue(t).fromEntrySeq()}:function(t){return ue(t)})}function z(t,e){if(e>t.length)return t;0>e&&(e=0);var r=t.__makeSequence();return r.length=t.length&&Math.min(t.length,e),r.__iterateUncached=function(r,n){var i=this;if(0===e)return 0;if(n)return this.cacheResult().__iterate(r,n);var u=0;return t.__iterate(function(t,n){return++u&&r(t,n,i)!==!1&&e>u}),u},r.__iteratorUncached=function(r,n){if(n)return this.cacheResult().__iterator(r,n);var i=e&&t.__iterator(r,n),u=0;return new ne(function(){return u++>e?g():i.next()})},r}function B(t,e,r){var n=t.__makeSequence();return n.__iterateUncached=function(n,i){var u=this;if(i)return this.cacheResult().__iterate(n,i);var a=0;return t.__iterate(function(t,i,s){return e.call(r,t,i,s)&&++a&&n(t,i,u)}),a},n.__iteratorUncached=function(n,i){var u=this;if(i)return this.cacheResult().__iterator(n,i);var a=t.__iterator($t,i),s=!0;return new ne(function(){if(!s)return g();var t=a.next();if(t.done)return t;var i=t.value,o=i[0],h=i[1];return e.call(r,h,o,u)?n===$t?t:v(n,o,h,t):(s=!1,g())})},n}function V(t,e,r){if(0>=e)return t;var n=t.__makeSequence();return n.length=t.length&&Math.max(0,t.length-e),n.__iterateUncached=function(n,i){var u=this;if(i)return this.cacheResult().__iterate(n,i);var a=0,s=!0,o=0;return t.__iterate(function(t,i){return s&&(s=a++<e)?void 0:(o++,n(t,r?i:o-1,u))}),o},n.__iteratorUncached=function(n,i){if(i)return this.cacheResult().__iterator(n,i);var u=e&&t.__iterator(n,i),a=0,s=0;return new ne(function(){for(;e>a;)a++,u.next();var t=u.next();return r||n===Zt?t:n===Yt?v(n,s++,null,t):v(n,s++,t.value[1],t)})},n}function L(t,e,r,n){var i=t.__makeSequence();return i.__iterateUncached=function(i,u){var a=this;if(u)return this.cacheResult().__iterate(i,u);var s=!0,o=0;return t.__iterate(function(t,u,h){return s&&(s=e.call(r,t,u,h))?void 0:(o++,i(t,n?u:o-1,a))}),o},i.__iteratorUncached=function(i,u){var a=this;if(u)return this.cacheResult().__iterator(i,u);var s=t.__iterator($t,u),o=!0,h=0;return new ne(function(){var t,u,c;do{if(t=s.next(),t.done)return n||i===Zt?t:i===Yt?v(i,h++,null,t):v(i,h++,t.value[1],t);var f=t.value;u=f[0],c=f[1],o&&(o=e.call(r,c,u,a))}while(o);return i===$t?t:v(i,u,c,t)})},i}function N(t,e,r){var n=[t].concat(e),i=ue(n);return r&&(i=i.toKeyedSeq()),i=i.flatMap(k),i.length=n.reduce(function(t,e){if(void 0!==t){var r=ue(e).length;if(null!=r)return t+r}},0),i}function T(t,e,r){var n=t.__makeSequence();return n.__iterateUncached=function(n,i){function u(t,o){var h=this;t.__iterate(function(t,i){return(!e||e>o)&&F(t)?u(t,o+1):n(t,r?i:a++,h)===!1&&(s=!0),!s},i)}var a=0,s=!1;return u(t,0),a},n.__iteratorUncached=function(n,i){var u=t.__iterator(n,i),a=[],s=0;return new ne(function(){for(;u;){var t=u.next();if(t.done===!1){var o=t.value;if(n===$t&&(o=o[1]),e&&!(a.length<e)||!F(o))return r?t:v(n,s++,o,t);a.push(u),u=o.__iterator(n,i)}else u=a.pop()}return g()})},n}function F(t){return t&&"function"==typeof t.flatten&&"function"==typeof t.__iterate&&"function"==typeof t.__iterator}function G(t,e){var r=t.__makeSequence();return r.length=t.length&&2*t.length-1,r.__iterateUncached=function(r,n){var i=this,u=0;return t.__iterate(function(t,n){return(!u||r(e,u++,i)!==!1)&&r(t,u++,i)!==!1},n),u},r.__iteratorUncached=function(r,n){var i,u=t.__iterator(Zt,n),a=0;return new ne(function(){return(!i||a%2)&&(i=u.next(),i.done)?i:a%2?v(r,a++,e):v(r,a++,i.value,i)})},r}function H(t,e){return v(t,e[0],e[1])}function Q(t,e){return{node:t,index:0,__prev:e}}function X(t,e,r,n){var i=Object.create(we);return i.length=t,i._root=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function Y(t,e,r){var n=i(zt),u=i(Bt),a=Z(t._root,t.__ownerID,0,h(e),e,r,n,u);if(!u.value)return t;var s=t.length+(n.value?r===Jt?-1:1:0);return t.__ownerID?(t.length=s,t._root=a,t.__hash=void 0,t.__altered=!0,t):a?X(s,a):ye.empty()}function Z(t,e,r,n,i,a,s,o){return t?t.update(e,r,n,i,a,s,o):a===Jt?t:(u(o),u(s),new Me(e,n,[i,a]))}function $(t){return t.constructor===Me||t.constructor===ke}function tt(t,e,r,n,i){if(t.hash===n)return new ke(e,n,[t.entry,i]);var u,a=(0===r?t.hash:t.hash>>>r)&Kt,s=(0===r?n:n>>>r)&Kt,o=a===s?[tt(t,e,r+Wt,n,i)]:(u=new Me(e,n,i),s>a?[t,u]:[u,t]);return new Se(e,1<<a|1<<s,o)}function et(t,e,r,n){for(var i=0,u=0,a=new Array(r),s=0,o=1,h=e.length;h>s;s++,o<<=1){var c=e[s];null!=c&&s!==n&&(i|=o,a[u++]=c)}return new Se(t,i,a)}function rt(t,e,r,n,i){for(var u=0,a=new Array(Pt),s=0;0!==r;s++,r>>>=1)a[s]=1&r?e[u++]:null;return a[n]=i,new qe(t,u+1,a)}function nt(t,e,r){for(var n=[],i=0;i<r.length;i++){var u=r[i];u instanceof ue||(u=ue(u),u instanceof oe&&(u=u.fromEntrySeq())),u&&n.push(u)}return ut(t,e,n)}function it(t){return function(e,r){return e&&e.mergeDeepWith?e.mergeDeepWith(t,r):t?t(e,r):r}}function ut(t,e,r){return 0===r.length?t:t.withMutations(function(t){for(var n=e?function(r,n){var i=t.get(n,Jt);t.set(n,i===Jt?r:e(i,r))}:function(e,r){t.set(r,e)},i=0;i<r.length;i++)r[i].forEach(n)})}function at(t,e,r,n,i){o(!t||t.set,"updateIn with invalid keyPath");var u=e[i],a=t?t.get(u,Jt):Jt,s=a===Jt?void 0:a,h=i===e.length-1?n(a===Jt?r:a):at(s,e,r,n,i+1);return h===s?t:h===Jt?t&&t.remove(u):(t||ye.empty()).set(u,h)}function st(t){return t-=t>>1&1431655765,t=(858993459&t)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,127&t}function ot(t,e,r,n){var i=n?t:s(t);return i[e]=r,i}function ht(t,e,r,n){var i=t.length+1;if(n&&e+1===i)return t[e]=r,t;for(var u=new Array(i),a=0,s=0;i>s;s++)s===e?(u[s]=r,a=-1):u[s]=t[s+a];return u}function ct(t,e,r){var n=t.length-1;if(r&&e===n)return t.pop(),t;for(var i=new Array(n),u=0,a=0;n>a;a++)a===e&&(u=1),i[a]=t[a+u];return i}function ft(t,e,r,n,i,u){var a,s=t&&t.array;if(0===e){var o=0>r?-r:0,h=n-r;for(h>Pt&&(h=Pt),a=o;h>a;a++)if(i(s&&s[u?o+h-1-a:a])===!1)return!1}else{var c=1<<e,f=e-Wt;for(a=0;Kt>=a;a++){var _=u?Kt-a:a,l=r+(_<<e);if(n>l&&l+c>0){var v=s&&s[_];if(!ft(v,f,l,n,i,u))return!1}}}return!0}function _t(t,e,r,n,i){return{array:t,level:e,offset:r,max:n,rawMax:n-r>>e,index:0,__prev:i}}function lt(t,e,r,n,i,u,a){var s=Object.create(Ue);return s.length=e-t,s._origin=t,s._size=e,s._level=r,s._root=n,s._tail=i,s.__ownerID=u,s.__hash=a,s.__altered=!1,s}function vt(t,e,r){if(e=A(t,e),e>=t.length||0>e)return r===Jt?t:t.withMutations(function(t){0>e?yt(t,e).set(0,r):yt(t,0,e+1).set(e,r)});e+=t._origin;var n=t._tail,u=t._root,a=i(Bt);return e>=wt(t._size)?n=gt(n,t.__ownerID,0,e,r,a):u=gt(u,t.__ownerID,t._level,e,r,a),a.value?t.__ownerID?(t._root=u,t._tail=n,t.__hash=void 0,t.__altered=!0,t):lt(t._origin,t._size,t._level,u,n):t}function gt(t,e,r,n,i,a){var s,o=i===Jt,h=n>>>r&Kt,c=t&&h<t.array.length;if(o&&!c)return t;if(r>0){var f=t&&t.array[h],_=gt(f,e,r-Wt,n,i,a);return _===f?t:(s=pt(t,e),s.array[h]=_,s)}return!o&&c&&t.array[h]===i?t:(u(a),s=pt(t,e),o&&h===s.array.length-1?s.array.pop():s.array[h]=o?void 0:i,s)}function pt(t,e){return e&&t&&e===t.ownerID?t:new We(t?t.array.slice():[],e)}function mt(t,e){if(e>=wt(t._size))return t._tail;if(e<1<<t._level+Wt){for(var r=t._root,n=t._level;r&&n>0;)r=r.array[e>>>n&Kt],n-=Wt;return r}}function yt(t,e,r){var n=t.__ownerID||new a,i=t._origin,u=t._size,s=i+e,o=null==r?u:0>r?u+r:i+r;if(s===i&&o===u)return t;if(s>=o)return t.clear();for(var h=t._level,c=t._root,f=0;0>s+f;)c=new We(c&&c.array.length?[null,c]:[],n),h+=Wt,f+=1<<h;f&&(s+=f,i+=f,o+=f,u+=f);for(var _=wt(u),l=wt(o);l>=1<<h+Wt;)c=new We(c&&c.array.length?[c]:[],n),h+=Wt;var v=t._tail,g=_>l?mt(t,o-1):l>_?new We([],n):v;if(v&&l>_&&u>s&&v.array.length){c=pt(c,n);for(var p=c,m=h;m>Wt;m-=Wt){var y=_>>>m&Kt;p=p.array[y]=pt(p.array[y],n)}p.array[_>>>Wt&Kt]=v}if(u>o&&(g=g&&g.removeAfter(n,0,o)),s>=l)s-=l,o-=l,h=Wt,c=null,g=g&&g.removeBefore(n,0,s);else if(s>i||_>l){for(f=0;c;){var d=s>>>h&Kt;if(d!==l>>>h&Kt)break;d&&(f+=(1<<h)*d),h-=Wt,c=c.array[d]}c&&s>i&&(c=c.removeBefore(n,h,s-f)),c&&_>l&&(c=c.removeAfter(n,h,l-f)),f&&(s-=f,o-=f)}return t.__ownerID?(t.length=o-s,t._origin=s,t._size=o,t._level=h,t._root=c,t._tail=g,t.__hash=void 0,t.__altered=!0,t):lt(s,o,h,c,g)}function dt(t,e,r){for(var n=[],i=0;i<r.length;i++){var u=r[i];u&&n.push(ue(u))}var a=Math.max.apply(null,n.map(function(t){return t.length||0}));return a>t.length&&(t=t.setLength(a)),ut(t,e,n)}function wt(t){return Pt>t?0:t-1>>>Wt<<Wt}function St(t,e,r,n){var i=Object.create(Ve);return i.length=t,i._head=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function It(t,e){var r=Object.create(Fe);return r.length=t?t.length:0,r._map=t,r.__ownerID=e,r}function qt(t,e,r,n){var i=Object.create(He.prototype);return i.length=t?t.length:0,i._map=t,i._vector=e,i.__ownerID=r,i.__hash=n,i}function bt(t,e,r){var n=t._map,i=t._vector,u=n.get(e),a=void 0!==u,s=r===Jt;if(!a&&s||a&&r===i.get(u)[1])return t;a||(u=i.length);var o=s?n.remove(e):a?n:n.set(e,u),h=s?i.remove(u):i.set(u,[e,r]);return t.__ownerID?(t.length=o.length,t._map=o,t._vector=h,t.__hash=void 0,t):qt(o,h)}function kt(t,e,r){var n=Object.create(Object.getPrototypeOf(t));return n._map=e,n.__ownerID=r,n}function xt(t,e){return e?Mt(e,t,"",{"":t}):Dt(t)}function Mt(t,e,r,n){return e&&(Array.isArray(e)||e.constructor===Object)?t.call(n,r,ue(e).map(function(r,n){return Mt(t,r,n,e)})):e}function Dt(t){if(t){if(Array.isArray(t))return ue(t).map(Dt).toVector();if(t.constructor===Object)return ue(t).map(Dt).toMap()}return t}function Ot(t,e,r,n){arguments.length<4&&(n=t.getIn(e));var i=n instanceof ue?n.length:null,u=n instanceof oe?hr:sr;return new u(t,e,r,i)}function Ct(t,e,r){return r instanceof ue?At(t,e,r):r}function At(t,e,r){return Ot(t._rootData,t._keyPath.concat(e),t._onChange,r)}function Et(t,e,r){var n=t._rootData.updateIn(t._keyPath,r?ye.empty():void 0,e),i=t._keyPath||[];return t._onChange&&t._onChange.call(void 0,n,t._rootData,r?i.concat(r):i),Ot(n,t._keyPath,t._onChange)}var Rt=Object,jt={};jt.createClass=t,jt.superCall=e,jt.defaultSuperCall=r;var Ut="delete",Wt=5,Pt=1<<Wt,Kt=Pt-1,Jt={},zt={value:!1},Bt={value:!1},Vt=function(){try{return Object.defineProperty({},"x",{}),!0}catch(t){return!1}}(),Lt="function"==typeof WeakMap&&new WeakMap,Nt=2147483647,Tt=0,Ft="__immutablehash__";"function"==typeof Symbol&&(Ft=Symbol(Ft));var Gt=16,Ht=255,Qt=0,Xt={},Yt=0,Zt=1,$t=2,te="@@iterator",ee="function"==typeof Symbol&&Symbol.iterator,re=ee||te,ne=function(t){this.next=t};jt.createClass(ne,{toString:function(){return"[Iterator]"}},{});var ie=ne.prototype;ie.inspect=ie.toSource=function(){return this.toString()},ie[re]=function(){return this};var ue=function(t){return ae.from(1===arguments.length?t:Array.prototype.slice.call(arguments))},ae=ue;jt.createClass(ue,{toArray:function(){E(this.length);var t=new Array(this.length||0);return this.valueSeq().__iterate(function(e,r){t[r]=e}),t},toJS:function(){return this.map(function(t){return t&&"function"==typeof t.toJS?t.toJS():t}).__toJS()},toMap:function(){return E(this.length),ye.from(this)},toObject:function(){E(this.length);var t={};return this.__iterate(function(e,r){t[r]=e}),t},toOrderedMap:function(){return E(this.length),He.from(this)},toSet:function(){return E(this.length),Ne.from(this)},toStack:function(){return E(this.length),ze.from(this)},toVector:function(){return E(this.length),Re.from(this)},toString:function(){return this.__toString("Seq {","}")},__toString:function(t,e){return 0===this.length?t+e:t+" "+this.map(this.__toStringMapper).join(", ")+" "+e},__toStringMapper:function(t,e){return e+": "+O(t)},concat:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return N(this,t,!0)},contains:function(t){return this.find(function(e){return n(e,t)},null,Jt)!==Jt},entries:function(){return this.__iterator($t)},every:function(t,e){var r=!0;return this.__iterate(function(n,i,u){return t.call(e,n,i,u)?void 0:(r=!1,!1)}),r},filter:function(t,e){return K(this,t,e,!0)},find:function(t,e,r){var n=r;return this.__iterate(function(r,i,u){return t.call(e,r,i,u)?(n=r,!1):void 0}),n},forEach:function(t,e){return this.__iterate(e?t.bind(e):t)},join:function(t){t=void 0!==t?""+t:",";var e="",r=!0;return this.__iterate(function(n){r?r=!1:e+=t,e+=null!=n?n:""}),e},keys:function(){return this.__iterator(Yt)},map:function(t,e){return W(this,t,e)},reduce:function(t,e,r){var n,i;return arguments.length<2?i=!0:n=e,this.__iterate(function(e,u,a){i?(i=!1,n=e):n=t.call(r,n,e,u,a)}),n},reduceRight:function(t,e,r){var n=this.toKeyedSeq().reverse();return n.reduce.apply(n,arguments)},reverse:function(){return P(this,!0)},slice:function(t,e){if(S(t,e,this.length))return this;var r=I(t,this.length),n=q(e,this.length);if(r!==r||n!==n)return this.cacheResult().slice(t,e);var i=0===r?this:this.skip(r);return null==n||n===this.length?i:i.take(n-r)},some:function(t,e){return!this.every(D(t),e)},sort:function(t){return this.sortBy(k,t)},values:function(){return this.__iterator(Zt)},butLast:function(){return this.slice(0,-1)},count:function(t,e){return t?this.filter(t,e).count():(null==this.length&&(this.length=this.__iterate(M)),this.length)},countBy:function(t,e){var r=this,n={},i=[];return this.__iterate(function(u,a){var s=t.call(e,u,a,r),o=h(s);n.hasOwnProperty(o)?i[n[o]][1]++:(n[o]=i.length,i.push([s,1]))}),ae(i).fromEntrySeq()},equals:function(t){if(this===t)return!0;if(!t||"function"!=typeof t.equals)return!1;if(null!=this.length&&null!=t.length){if(this.length!==t.length)return!1;if(0===this.length&&0===t.length)return!0}return null!=this.__hash&&null!=t.__hash&&this.__hash!==t.__hash?!1:this.__deepEquals(t)},__deepEquals:function(t){var e=this.entries();return"function"==typeof t.every&&t.every(function(t,r){var i=e.next().value;return i&&n(i[0],r)&&n(i[1],t)})&&e.next().done},entrySeq:function(){var t=this;if(t._cache)return ae(t._cache);var e=t.toKeyedSeq().map(x).valueSeq();return e.fromEntrySeq=function(){return t},e},filterNot:function(t,e){return this.filter(D(t),e)},findKey:function(t,e){var r;return this.__iterate(function(n,i,u){return t.call(e,n,i,u)?(r=i,!1):void 0}),r},findLast:function(t,e,r){return this.toKeyedSeq().reverse().find(t,e,r)},findLastKey:function(t,e){return this.toKeyedSeq().reverse().findKey(t,e)},first:function(){return this.find(M)},flatMap:function(t,e){return this.map(function(r,n,i){return ae(t.call(e,r,n,i))}).flatten(!0)},flatten:function(t){return T(this,t,!0)},flip:function(){return U(this)},get:function(t,e){return this.find(function(e,r){return n(r,t)},null,e)},getIn:function(t,e){var r=this;if(t)for(var n=0;n<t.length;n++)if(r=r&&r.get?r.get(t[n],Jt):Jt,r===Jt)return e;return r},groupBy:function(t,e){return J(this,t,e,!0)},has:function(t){return this.get(t,Jt)!==Jt},keySeq:function(){return this.flip().valueSeq()},last:function(){return this.reverse().first()},mapEntries:function(t,e){var r=this;return this.entrySeq().map(function(n,i){return t.call(e,n,i,r)}).fromEntrySeq()},mapKeys:function(t,e){var r=this;return this.flip().map(function(n,i){return t.call(e,n,i,r)}).flip()},max:function(t){return this.maxBy(k,t)},maxBy:function(t,e){e=e||C;var r=this,n=r.entrySeq().reduce(function(n,i){return e(t(i[1],i[0],r),t(n[1],n[0],r))>0?i:n});return n&&n[1]},min:function(t){return this.minBy(k,t)},minBy:function(t,e){e=e||C;var r=this,n=r.entrySeq().reduce(function(n,i){return e(t(i[1],i[0],r),t(n[1],n[0],r))<0?i:n});return n&&n[1]},rest:function(){return this.slice(1)},skip:function(t){return V(this,t,!0)},skipLast:function(t){return this.reverse().skip(t).reverse()},skipWhile:function(t,e){return L(this,t,e,!0)},skipUntil:function(t,e){return this.skipWhile(D(t),e)},sortBy:function(t,e){e=e||C;var r=this;return ae(r.entrySeq().entrySeq().toArray().sort(function(n,i){return e(t(n[1][1],n[1][0],r),t(i[1][1],i[1][0],r))||n[0]-i[0]})).fromEntrySeq().valueSeq().fromEntrySeq()},take:function(t){return z(this,t)},takeLast:function(t){return this.reverse().take(t).reverse()},takeWhile:function(t,e){return B(this,t,e)},takeUntil:function(t,e){return this.takeWhile(D(t),e)},toKeyedSeq:function(){return this},valueSeq:function(){return new ge(this)},cacheResult:function(){return!this._cache&&this.__iterateUncached&&(E(this.length),this._cache=this.entrySeq().toArray(),null==this.length&&(this.length=this._cache.length)),this},hashCode:function(){return this.__hash||(this.__hash=this.length===1/0?0:this.reduce(function(t,e,r){return t+(h(e)^(e===r?0:h(r)))&Nt},0))},__makeSequence:function(){return Object.create(se)},__iterate:function(t,e){return R(this,t,e,!0)},__iterator:function(t,e){return j(this,t,e,!0)}},{from:function(t){if(t instanceof ae)return t;if(!Array.isArray(t)){if(m(t))return new fe(t);if(p(t))return new _e(t);if(t&&t.constructor===Object)return new le(t);t=[t]}return new ve(t)}});var se=ue.prototype;se[re]=se.entries,se.toJSON=se.toJS,se.__toJS=se.toObject,se.inspect=se.toSource=function(){return this.toString()},se.chain=se.flatMap;var oe=function(){jt.defaultSuperCall(this,he.prototype,arguments)},he=oe;jt.createClass(oe,{toString:function(){return this.__toString("Seq [","]")},concat:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return N(this,t,!1)},filter:function(t,e){return K(this,t,e,!1)},findIndex:function(t,e){var r=this.findKey(t,e);return null==r?-1:r},indexOf:function(t){return this.findIndex(function(e){return n(e,t)})},lastIndexOf:function(t){return this.toKeyedSeq().reverse().indexOf(t)},reverse:function(){return P(this,!1)},splice:function(t,e){var r=arguments.length;if(e=Math.max(0|e,0),0===r||2===r&&!e)return this;t=I(t,this.length);var n=this.slice(0,t);return 1===r?n:n.concat(s(arguments,2),this.slice(t+e))},findLastIndex:function(t,e){return this.toKeyedSeq().reverse().findIndex(t,e)},first:function(){return this.get(0)},flatten:function(t){return T(this,t,!1)},flip:function(){return U(this.toKeyedSeq())},fromEntrySeq:function(){return new me(this)},get:function(t,e){return t=A(this,t),0>t||this.length===1/0||null!=this.length&&t>this.length?e:this.find(function(e,r){return r===t},null,e)},groupBy:function(t,e){return J(this,t,e,!1)},has:function(t){return t=A(this,t),t>=0&&(null!=this.length?this.length===1/0||t<this.length:-1!==this.indexOf(t))},interpose:function(t){return G(this,t)},last:function(){return this.get(-1)},skip:function(t){var e=this,r=V(e,t,!1);return r!==e&&(r.get=function(r,n){return r=A(this,r),r>=0?e.get(r+t,n):n}),r},skipWhile:function(t,e){return L(this,t,e,!1)},sortBy:function(t,e){e=e||C;var r=this;return ue(this.entrySeq().toArray().sort(function(n,i){return e(t(n[1],n[0],r),t(i[1],i[0],r))||n[0]-i[0]})).fromEntrySeq().valueSeq()},take:function(t){var e=this,r=z(e,t);return r!==e&&(r.get=function(r,n){return r=A(this,r),r>=0&&t>r?e.get(r,n):n}),r},toKeyedSeq:function(){return new pe(this)},valueSeq:function(){return this},__makeSequence:function(){return Object.create(ce)},__iterate:function(t,e){return R(this,t,e,!1)},__iterator:function(t,e){return j(this,t,e,!1)}},{},ue);var ce=oe.prototype;ce[re]=ce.values,ce.__toJS=ce.toArray,ce.__toStringMapper=O;var fe=function(t){this._iterator=t,this._iteratorCache=[]};jt.createClass(fe,{__iterateUncached:function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var r=this._iterator,n=this._iteratorCache,i=0;i<n.length;)if(t(n[i],i++,this)===!1)return i;for(var u;!(u=r.next()).done;){var a=u.value;if(n[i]=a,t(a,i++,this)===!1)break}return i},__iteratorUncached:function(t,e){if(e)return this.cacheResult().__iterator(t,e);var r=this._iterator,n=this._iteratorCache,i=0;return new ne(function(){if(i>=n.length){var e=r.next();if(e.done)return e;n[i]=e.value}return v(t,i,n[i++])})}},{},oe);var _e=function(t){this._iterable=t,this.length=t.length||t.size};jt.createClass(_e,{__iterateUncached:function(t,e){if(e)return this.cacheResult().__iterate(t,e);var r=this._iterable,n=y(r),i=0;if(m(n))for(var u;!(u=n.next()).done&&t(u.value,i++,this)!==!1;);return i},__iteratorUncached:function(t,e){if(e)return this.cacheResult().__iterator(t,e);var r=this._iterable,n=y(r);if(!m(n))return new ne(function(){return g()});var i=0;return new ne(function(){var e=n.next();return e.done?e:v(t,i++,e.value)})}},{},oe);var le=function(t){var e=Object.keys(t);this._object=t,this._keys=e,this.length=e.length};jt.createClass(le,{get:function(t,e){return void 0===e||this.has(t)?this._object[t]:e},has:function(t){return this._object.hasOwnProperty(t)},__iterate:function(t,e){for(var r=this._object,n=this._keys,i=n.length-1,u=0;i>=u;u++){var a=n[e?i-u:u];if(t(r[a],a,this)===!1)return u+1}return u},__iterator:function(t,e){var r=this._object,n=this._keys,i=n.length-1,u=0;return new ne(function(){var a=n[e?i-u:u];return u++>i?g():v(t,a,r[a])})}},{},ue);var ve=function(t){this._array=t,this.length=t.length};jt.createClass(ve,{get:function(t,e){return this.has(t)?this._array[A(this,t)]:e},__iterate:function(t,e){for(var r=this._array,n=r.length-1,i=0;n>=i;i++)if(t(r[e?n-i:i],i,this)===!1)return i+1;return i},__iterator:function(t,e){var r=this._array,n=r.length-1,i=0;return new ne(function(){return i>n?g():v(t,i,r[e?n-i++:i++])})}},{},oe);var ge=function(t){this._seq=t,this.length=t.length};jt.createClass(ge,{contains:function(t){return this._seq.contains(t)},cacheResult:function(){return this._seq.cacheResult(),this.length=this._seq.length,this},__iterate:function(t,e){var r=this,n=0;return this._seq.__iterate(function(e){return t(e,n++,r)},e)},__iterator:function(t,e){var r=this._seq.__iterator(Zt,e),n=0;return new ne(function(){var e=r.next();return e.done?e:v(t,n++,e.value,e)})}},{},oe);var pe=function(t){this._seq=t,this.length=t.length};jt.createClass(pe,{get:function(t,e){return this._seq.get(t,e)},has:function(t){return this._seq.has(t)},valueSeq:function(){return this._seq},reverse:function(){var t=this,e=P(this,!0);return e.valueSeq=function(){return t._seq.reverse()},e},map:function(t,e){var r=this,n=W(this,t,e);return n.valueSeq=function(){return r._seq.map(t,e)},n},cacheResult:function(){return this._seq.cacheResult(),this.length=this._seq.length,this},__iterate:function(t,e){var r=this,n=e?w(this):0;return this._seq.__iterate(function(i){return t(i,e?--n:n++,r)},e)},__iterator:function(t,e){var r=this._seq.__iterator(Zt,e),n=e?w(this):0;return new ne(function(){var i=r.next();return i.done?i:v(t,e?--n:n++,i.value,i)})}},{},ue);var me=function(t){this._seq=t,this.length=t.length};jt.createClass(me,{entrySeq:function(){return this._seq},cacheResult:function(){return this._seq.cacheResult(),this.length=this._seq.length,this},__iterate:function(t,e){var r=this;return this._seq.__iterate(function(e){return e&&t(e[1],e[0],r)},e)},__iterator:function(t,e){var r=this._seq.__iterator(Zt,e);return new ne(function(){for(;;){var e=r.next();if(e.done)return e;var n=e.value;if(n)return t===$t?e:v(t,n[0],n[1],e)}})}},{},ue);var ye=function(t){var e=de.empty();return t?t.constructor===de?t:e.merge(t):e},de=ye;jt.createClass(ye,{toString:function(){return this.__toString("Map {","}")},get:function(t,e){return this._root?this._root.get(0,h(t),t,e):e},set:function(t,e){return Y(this,t,e)},setIn:function(t,e){return o(t.length>0,"Requires non-empty key path."),this.updateIn(t,function(){return e})},remove:function(t){return Y(this,t,Jt)},removeIn:function(t){return o(t.length>0,"Requires non-empty key path."),this.updateIn(t,function(){return Jt})},update:function(t,e,r){return 1===arguments.length?t(this):this.updateIn([t],e,r)},updateIn:function(t,e,r){return r||(r=e,e=void 0),0===t.length?r(this):at(this,t,e,r,0)},clear:function(){return 0===this.length?this:this.__ownerID?(this.length=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):de.empty()},merge:function(){return nt(this,null,arguments)},mergeWith:function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return nt(this,t,e)},mergeDeep:function(){return nt(this,it(null),arguments)},mergeDeepWith:function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return nt(this,it(t),e)},cursor:function(t,e){var r=0===arguments.length||"function"==typeof t&&(e=t)?[]:Array.isArray(t)?t:[t];return Ot(this,r,e)},withMutations:function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},asMutable:function(){return this.__ownerID?this:this.__ensureOwner(new a)},asImmutable:function(){return this.__ensureOwner()},wasAltered:function(){return this.__altered},__iterator:function(t,e){return new Oe(this,t,e)},__iterate:function(t,e){var r=this,n=0;return this._root&&this._root.iterate(function(e){return n++,t(e[1],e[0],r)},e),n},__ensureOwner:function(t){return t===this.__ownerID?this:t?X(this.length,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)}},{empty:function(){return Ce||(Ce=X(0))}},ue);var we=ye.prototype;we[Ut]=we.remove,ye.from=ye;var Se=function(t,e,r){this.ownerID=t,this.bitmap=e,this.nodes=r},Ie=Se;jt.createClass(Se,{get:function(t,e,r,n){var i=1<<((0===t?e:e>>>t)&Kt),u=this.bitmap;return 0===(u&i)?n:this.nodes[st(u&i-1)].get(t+Wt,e,r,n)},update:function(t,e,r,n,i,u,a){var s=(0===e?r:r>>>e)&Kt,o=1<<s,h=this.bitmap,c=0!==(h&o);if(!c&&i===Jt)return this;var f=st(h&o-1),_=this.nodes,l=c?_[f]:null,v=Z(l,t,e+Wt,r,n,i,u,a);if(v===l)return this;if(!c&&v&&_.length>=Ae)return rt(t,_,h,s,v);if(c&&!v&&2===_.length&&$(_[1^f]))return _[1^f];if(c&&v&&1===_.length&&$(v))return v;var g=t&&t===this.ownerID,p=c?v?h:h^o:h|o,m=c?v?ot(_,f,v,g):ct(_,f,g):ht(_,f,v,g);return g?(this.bitmap=p,this.nodes=m,this):new Ie(t,p,m)},iterate:function(t,e){for(var r=this.nodes,n=0,i=r.length-1;i>=n;n++)if(r[e?i-n:n].iterate(t,e)===!1)return!1}},{});var qe=function(t,e,r){this.ownerID=t,this.count=e,this.nodes=r},be=qe;jt.createClass(qe,{get:function(t,e,r,n){var i=(0===t?e:e>>>t)&Kt,u=this.nodes[i];return u?u.get(t+Wt,e,r,n):n},update:function(t,e,r,n,i,u,a){var s=(0===e?r:r>>>e)&Kt,o=i===Jt,h=this.nodes,c=h[s];if(o&&!c)return this;var f=Z(c,t,e+Wt,r,n,i,u,a);if(f===c)return this;var _=this.count;if(c){if(!f&&(_--,Ee>_))return et(t,h,_,s)}else _++;var l=t&&t===this.ownerID,v=ot(h,s,f,l);return l?(this.count=_,this.nodes=v,this):new be(t,_,v)},iterate:function(t,e){for(var r=this.nodes,n=0,i=r.length-1;i>=n;n++){var u=r[e?i-n:n];if(u&&u.iterate(t,e)===!1)return!1}}},{});var ke=function(t,e,r){this.ownerID=t,this.hash=e,this.entries=r},xe=ke;jt.createClass(ke,{get:function(t,e,r,i){for(var u=this.entries,a=0,s=u.length;s>a;a++)if(n(r,u[a][0]))return u[a][1];return i},update:function(t,e,r,i,a,o,h){var c=a===Jt;if(r!==this.hash)return c?this:(u(h),
u(o),tt(this,t,e,r,[i,a]));for(var f=this.entries,_=0,l=f.length;l>_&&!n(i,f[_][0]);_++);var v=l>_;if(c&&!v)return this;if(u(h),(c||!v)&&u(o),c&&2===l)return new Me(t,this.hash,f[1^_]);var g=t&&t===this.ownerID,p=g?f:s(f);return v?c?_===l-1?p.pop():p[_]=p.pop():p[_]=[i,a]:p.push([i,a]),g?(this.entries=p,this):new xe(t,this.hash,p)},iterate:function(t,e){for(var r=this.entries,n=0,i=r.length-1;i>=n;n++)if(t(r[e?i-n:n])===!1)return!1}},{});var Me=function(t,e,r){this.ownerID=t,this.hash=e,this.entry=r},De=Me;jt.createClass(Me,{get:function(t,e,r,i){return n(r,this.entry[0])?this.entry[1]:i},update:function(t,e,r,i,a,s,o){var h=a===Jt,c=n(i,this.entry[0]);return(c?a===this.entry[1]:h)?this:(u(o),h?(u(s),null):c?t&&t===this.ownerID?(this.entry[1]=a,this):new De(t,r,[i,a]):(u(s),tt(this,t,e,r,[i,a])))},iterate:function(t){return t(this.entry)}},{});var Oe=function(t,e,r){this._type=e,this._reverse=r,this._stack=t._root&&Q(t._root)};jt.createClass(Oe,{next:function(){for(var t=this._type,e=this._stack;e;){var r,n=e.node,i=e.index++;if(n.entry){if(0===i)return H(t,n.entry)}else if(n.entries){if(r=n.entries.length-1,r>=i)return H(t,n.entries[this._reverse?r-i:i])}else if(r=n.nodes.length-1,r>=i){var u=n.nodes[this._reverse?r-i:i];if(u){if(u.entry)return H(t,u.entry);e=this._stack=Q(u,e)}continue}e=this._stack=this._stack.__prev}return g()}},{},ne);var Ce,Ae=Pt/2,Ee=Pt/4,Re=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return je.from(t)},je=Re;jt.createClass(Re,{toString:function(){return this.__toString("Vector [","]")},get:function(t,e){if(t=A(this,t),0>t||t>=this.length)return e;t+=this._origin;var r=mt(this,t);return r&&r.array[t&Kt]},set:function(t,e){return vt(this,t,e)},remove:function(t){return vt(this,t,Jt)},clear:function(){return 0===this.length?this:this.__ownerID?(this.length=this._origin=this._size=0,this._level=Wt,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):je.empty()},push:function(){var t=arguments,e=this.length;return this.withMutations(function(r){yt(r,0,e+t.length);for(var n=0;n<t.length;n++)r.set(e+n,t[n])})},pop:function(){return yt(this,0,-1)},unshift:function(){var t=arguments;return this.withMutations(function(e){yt(e,-t.length);for(var r=0;r<t.length;r++)e.set(r,t[r])})},shift:function(){return yt(this,1)},merge:function(){return dt(this,null,arguments)},mergeWith:function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return dt(this,t,e)},mergeDeep:function(){return dt(this,it(null),arguments)},mergeDeepWith:function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return dt(this,it(t),e)},setLength:function(t){return yt(this,0,t)},slice:function(t,e){var r=jt.superCall(this,je.prototype,"slice",[t,e]);if(r!==this){var n=this,i=n.length;r.toVector=function(){return yt(n,0>t?Math.max(0,i+t):i?Math.min(i,t):t,null==e?i:0>e?Math.max(0,i+e):i?Math.min(i,e):e)}}return r},__iterator:function(t,e){return new Ke(this,t,e)},__iterate:function(t,e){var r=this,n=0,i=function(e){return t(e,n++,r)},u=wt(this._size);return e?ft(this._tail,0,u-this._origin,this._size-this._origin,i,e)&&ft(this._root,this._level,-this._origin,u-this._origin,i,e):ft(this._root,this._level,-this._origin,u-this._origin,i,e)&&ft(this._tail,0,u-this._origin,this._size-this._origin,i,e),n},__ensureOwner:function(t){return t===this.__ownerID?this:t?lt(this._origin,this._size,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)}},{empty:function(){return Je||(Je=lt(0,0,Wt))},from:function(t){if(!t||0===t.length)return je.empty();if(t.constructor===je)return t;var e=Array.isArray(t);return t.length>0&&t.length<Pt?lt(0,t.length,Wt,null,new We(e?s(t):ue(t).toArray())):(e||(t=ue(t).valueSeq()),je.empty().merge(t))}},oe);var Ue=Re.prototype;Ue[Ut]=Ue.remove,Ue.setIn=we.setIn,Ue.removeIn=we.removeIn,Ue.update=we.update,Ue.updateIn=we.updateIn,Ue.cursor=we.cursor,Ue.withMutations=we.withMutations,Ue.asMutable=we.asMutable,Ue.asImmutable=we.asImmutable,Ue.wasAltered=we.wasAltered;var We=function(t,e){this.array=t,this.ownerID=e},Pe=We;jt.createClass(We,{removeBefore:function(t,e,r){if(r===e?1<<e:0||0===this.array.length)return this;var n=r>>>e&Kt;if(n>=this.array.length)return new Pe([],t);var i,u=0===n;if(e>0){var a=this.array[n];if(i=a&&a.removeBefore(t,e-Wt,r),i===a&&u)return this}if(u&&!i)return this;var s=pt(this,t);if(!u)for(var o=0;n>o;o++)s.array[o]=void 0;return i&&(s.array[n]=i),s},removeAfter:function(t,e,r){if(r===e?1<<e:0||0===this.array.length)return this;var n=r-1>>>e&Kt;if(n>=this.array.length)return this;var i,u=n===this.array.length-1;if(e>0){var a=this.array[n];if(i=a&&a.removeAfter(t,e-Wt,r),i===a&&u)return this}if(u&&!i)return this;var s=pt(this,t);return u||s.array.pop(),i&&(s.array[n]=i),s}},{});var Ke=function(t,e,r){this._type=e,this._reverse=!!r,this._maxIndex=t.length-1;var n=wt(t._size),i=_t(t._root&&t._root.array,t._level,-t._origin,n-t._origin-1),u=_t(t._tail&&t._tail.array,0,n-t._origin,t._size-t._origin-1);this._stack=r?u:i,this._stack.__prev=r?i:u};jt.createClass(Ke,{next:function(){for(var t=this._stack;t;){var e=t.array,r=t.index++;if(this._reverse&&(r=Kt-r,r>t.rawMax&&(r=t.rawMax,t.index=Pt-r)),r>=0&&Pt>r&&r<=t.rawMax){var n=e&&e[r];if(0===t.level){var i,u=this._type;return 1!==u&&(i=t.offset+(r<<t.level),this._reverse&&(i=this._maxIndex-i)),v(u,i,n)}this._stack=t=_t(n&&n.array,t.level-Wt,t.offset+(r<<t.level),t.max,t)}else t=this._stack=this._stack.__prev}return g()}},{},ne);var Je,ze=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Be.from(t)},Be=ze;jt.createClass(ze,{toString:function(){return this.__toString("Stack [","]")},get:function(t,e){for(var r=this._head;r&&t--;)r=r.next;return r?r.value:e},peek:function(){return this._head&&this._head.value},push:function(){if(0===arguments.length)return this;for(var t=this.length+arguments.length,e=this._head,r=arguments.length-1;r>=0;r--)e={value:arguments[r],next:e};return this.__ownerID?(this.length=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):St(t,e)},pushAll:function(t){if(t=ue(t),0===t.length)return this;var e=this.length,r=this._head;return t.reverse().forEach(function(t){e++,r={value:t,next:r}}),this.__ownerID?(this.length=e,this._head=r,this.__hash=void 0,this.__altered=!0,this):St(e,r)},pop:function(){return this.slice(1)},unshift:function(){return this.push.apply(this,arguments)},unshiftAll:function(t){return this.pushAll(t)},shift:function(){return this.pop.apply(this,arguments)},clear:function(){return 0===this.length?this:this.__ownerID?(this.length=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Be.empty()},slice:function(t,e){if(S(t,e,this.length))return this;var r=I(t,this.length),n=q(e,this.length);if(n!==this.length)return jt.superCall(this,Be.prototype,"slice",[t,e]);for(var i=this.length-r,u=this._head;r--;)u=u.next;return this.__ownerID?(this.length=i,this._head=u,this.__hash=void 0,this.__altered=!0,this):St(i,u)},__ensureOwner:function(t){return t===this.__ownerID?this:t?St(this.length,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},__iterateUncached:function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var r=0,n=this._head;n&&t(n.value,r++,this)!==!1;)n=n.next;return r},__iteratorUncached:function(t,e){if(e)return this.cacheResult().__iterator(t,e);var r=0,n=this._head;return new ne(function(){if(n){var e=n.value;return n=n.next,v(t,r++,e)}return g()})}},{empty:function(){return Le||(Le=St(0))},from:function(t){var e=Be.empty();return t?t.constructor===Be?t:e.unshiftAll(t):e}},oe);var Ve=ze.prototype;Ve.withMutations=we.withMutations,Ve.asMutable=we.asMutable,Ve.asImmutable=we.asImmutable,Ve.wasAltered=we.wasAltered;var Le,Ne=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Te.from(t)},Te=Ne;jt.createClass(Ne,{toString:function(){return this.__toString("Set {","}")},get:function(t,e){return this._map.has(t)?t:e},contains:function(t){return this._map.has(t)},add:function(t){var e=this._map.set(t,null);return this.__ownerID?(this.length=e.length,this._map=e,this):e===this._map?this:It(e)},remove:function(t){var e=this._map.remove(t);return this.__ownerID?(this.length=e.length,this._map=e,this):e===this._map?this:0===e.length?Te.empty():It(e)},clear:function(){return 0===this.length?this:this.__ownerID?(this.length=0,this._map.clear(),this):Te.empty()},union:function(){var t=arguments;return 0===t.length?this:this.withMutations(function(e){for(var r=0;r<t.length;r++)ue(t[r]).forEach(function(t){return e.add(t)})})},intersect:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0===t.length)return this;t=t.map(function(t){return ue(t)});var r=this;return this.withMutations(function(e){r.forEach(function(r){t.every(function(t){return t.contains(r)})||e.remove(r)})})},subtract:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0===t.length)return this;t=t.map(function(t){return ue(t)});var r=this;return this.withMutations(function(e){r.forEach(function(r){t.some(function(t){return t.contains(r)})&&e.remove(r)})})},isSubset:function(t){return t=ue(t),this.every(function(e){return t.contains(e)})},isSuperset:function(t){var e=this;return t=ue(t),t.every(function(t){return e.contains(t)})},merge:function(){return this.union.apply(this,arguments)},mergeWith:function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return this.union.apply(this,e)},wasAltered:function(){return this._map.wasAltered()},__iterate:function(t,e){var r=this;return this._map.__iterate(function(e,n){return t(n,n,r)},e)},__iterator:function(t,e){return this._map.map(function(t,e){return e}).__iterator(t,e)},__ensureOwner:function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?It(e,t):(this.__ownerID=t,this._map=e,this)}},{empty:function(){return Ge||(Ge=It(ye.empty()))},from:function(t){var e=Te.empty();return t?t.constructor===Te?t:e.union(t):e},fromKeys:function(t){return Te.from(ue(t).flip())}},ue);var Fe=Ne.prototype;Fe[Ut]=Fe.remove,Fe[re]=Fe.values,Fe.mergeDeep=Fe.merge,Fe.mergeDeepWith=Fe.mergeWith,Fe.withMutations=we.withMutations,Fe.asMutable=we.asMutable,Fe.asImmutable=we.asImmutable,Fe.__toJS=ce.__toJS,Fe.__toStringMapper=ce.__toStringMapper;var Ge,He=function(t){var e=Qe.empty();return t?t.constructor===Qe?t:e.merge(t):e},Qe=He;jt.createClass(He,{toString:function(){return this.__toString("OrderedMap {","}")},get:function(t,e){var r=this._map.get(t);return null!=r?this._vector.get(r)[1]:e},clear:function(){return 0===this.length?this:this.__ownerID?(this.length=0,this._map.clear(),this._vector.clear(),this):Qe.empty()},set:function(t,e){return bt(this,t,e)},remove:function(t){return bt(this,t,Jt)},wasAltered:function(){return this._map.wasAltered()||this._vector.wasAltered()},__iterate:function(t,e){var r=this;return this._vector.__iterate(function(e){return e&&t(e[1],e[0],r)},e)},__iterator:function(t,e){return this._vector.fromEntrySeq().__iterator(t,e)},__ensureOwner:function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),r=this._vector.__ensureOwner(t);return t?qt(e,r,t,this.__hash):(this.__ownerID=t,this._map=e,this._vector=r,this)}},{empty:function(){return Xe||(Xe=qt(ye.empty(),Re.empty()))}},ye),He.from=He,He.prototype[Ut]=He.prototype.remove;var Xe,Ye=function(t,e){var r=function(t){return this instanceof r?void(this._map=ye(t)):new r(t)},n=Object.keys(t),i=r.prototype=Object.create(Ze);i.constructor=r,e&&(i._name=e),i._defaultValues=t,i._keys=n,i.length=n.length;try{ue(t).forEach(function(t,e){Object.defineProperty(r.prototype,e,{get:function(){return this.get(e)},set:function(t){o(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})})}catch(u){}return r};jt.createClass(Ye,{toString:function(){return this.__toString(this._name+" {","}")},has:function(t){return this._defaultValues.hasOwnProperty(t)},get:function(t,e){return void 0===e||this.has(t)?this._map.get(t,this._defaultValues[t]):e},clear:function(){if(this.__ownerID)return this._map.clear(),this;var t=Object.getPrototypeOf(this).constructor;return t._empty||(t._empty=kt(this,ye.empty()))},set:function(t,e){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+this._name);var r=this._map.set(t,e);return this.__ownerID||r===this._map?this:kt(this,r)},remove:function(t){if(null==t||!this.has(t))return this;var e=this._map.remove(t);return this.__ownerID||e===this._map?this:kt(this,e)},keys:function(){return this._map.keys()},values:function(){return this._map.values()},entries:function(){return this._map.entries()},wasAltered:function(){return this._map.wasAltered()},__iterator:function(t,e){return this._map.__iterator(t,e)},__iterate:function(t,e){var r=this;return ue(this._defaultValues).map(function(t,e){return r.get(e)}).__iterate(t,e)},__ensureOwner:function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?kt(this,e,t):(this.__ownerID=t,this._map=e,this)}},{},ue);var Ze=Ye.prototype;Ze._name="Record",Ze[Ut]=Ze.remove,Ze.merge=we.merge,Ze.mergeWith=we.mergeWith,Ze.mergeDeep=we.mergeDeep,Ze.mergeDeepWith=we.mergeDeepWith,Ze.update=we.update,Ze.updateIn=we.updateIn,Ze.cursor=we.cursor,Ze.withMutations=we.withMutations,Ze.asMutable=we.asMutable,Ze.asImmutable=we.asImmutable;var $e=function(t,e,r){return this instanceof tr?(o(0!==r,"Cannot step a Range by 0"),t=t||0,null==e&&(e=1/0),t===e&&rr?rr:(r=null==r?1:Math.abs(r),t>e&&(r=-r),this._start=t,this._end=e,this._step=r,void(this.length=Math.max(0,Math.ceil((e-t)/r-1)+1)))):new tr(t,e,r)},tr=$e;jt.createClass($e,{toString:function(){return 0===this.length?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},get:function(t,e){return this.has(t)?this._start+A(this,t)*this._step:e},contains:function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.length&&e===Math.floor(e)},slice:function(t,e){return S(t,e,this.length)?this:(t=I(t,this.length),e=q(e,this.length),t>=e?rr:new tr(this.get(t,this._end),this.get(e,this._end),this._step))},indexOf:function(t){var e=t-this._start;if(e%this._step===0){var r=e/this._step;if(r>=0&&r<this.length)return r}return-1},lastIndexOf:function(t){return this.indexOf(t)},take:function(t){return this.slice(0,Math.max(0,t))},skip:function(t){return this.slice(Math.max(0,t))},__iterate:function(t,e){for(var r=this.length-1,n=this._step,i=e?this._start+r*n:this._start,u=0;r>=u;u++){if(t(i,u,this)===!1)return u+1;i+=e?-n:n}return u},__iterator:function(t,e){var r=this.length-1,n=this._step,i=e?this._start+r*n:this._start,u=0;return new ne(function(){var a=i;return i+=e?-n:n,u>r?g():v(t,u++,a)})},__deepEquals:function(t){return t instanceof tr?this._start===t._start&&this._end===t._end&&this._step===t._step:jt.superCall(this,tr.prototype,"__deepEquals",[t])}},{},oe);var er=$e.prototype;er.__toJS=er.toArray,er.first=Ue.first,er.last=Ue.last;var rr=$e(0,0),nr=function(t,e){return 0===e&&ar?ar:this instanceof ir?(this._value=t,void(this.length=null==e?1/0:Math.max(0,e))):new ir(t,e)},ir=nr;jt.createClass(nr,{toString:function(){return 0===this.length?"Repeat []":"Repeat [ "+this._value+" "+this.length+" times ]"},get:function(t,e){return this.has(t)?this._value:e},contains:function(t){return n(this._value,t)},slice:function(t,e){var r=this.length;return t=0>t?Math.max(0,r+t):Math.min(r,t),e=null==e?r:e>0?Math.min(r,e):Math.max(0,r+e),e>t?new ir(this._value,e-t):ar},reverse:function(){return this},indexOf:function(t){return n(this._value,t)?0:-1},lastIndexOf:function(t){return n(this._value,t)?this.length:-1},__iterate:function(t,e){for(var r=0;r<this.length;r++)if(t(this._value,r,this)===!1)return r+1;return r},__iterator:function(t,e){var r=this,n=0;return new ne(function(){return n<r.length?v(t,n++,r._value):g()})},__deepEquals:function(t){return t instanceof ir?n(this._value,t._value):jt.superCall(this,ir.prototype,"__deepEquals",[t])}},{},oe);var ur=nr.prototype;ur.last=ur.first,ur.has=er.has,ur.take=er.take,ur.skip=er.skip,ur.__toJS=er.__toJS;var ar=new nr(void 0,0),sr=function(t,e,r,n){this.length=n,this._rootData=t,this._keyPath=e,this._onChange=r};jt.createClass(sr,{equals:function(t){return n(this.deref(),t&&("function"==typeof t.deref?t.deref():t))},deref:function(t){return this._rootData.getIn(this._keyPath,t)},get:function(t,e){if(Array.isArray(t)&&0===t.length)return this;var r=this._rootData.getIn(this._keyPath.concat(t),Jt);return r===Jt?e:Ct(this,t,r)},set:function(t,e){return Et(this,function(r){return r.set(t,e)},t)},remove:function(t){return Et(this,function(e){return e.remove(t)},t)},clear:function(){return Et(this,function(t){return t.clear()})},update:function(t,e,r){return 1===arguments.length?Et(this,t):Et(this,function(n){return n.update(t,e,r)},t)},withMutations:function(t){return Et(this,function(e){return(e||ye.empty()).withMutations(t)})},cursor:function(t){return Array.isArray(t)&&0===t.length?this:At(this,t)},__iterate:function(t,e){var r=this,n=this.deref();return n&&n.__iterate?n.__iterate(function(e,n){return t(Ct(r,n,e),n,r)},e):0},__iterator:function(t,e){var r=this,n=this.deref(),i=n&&n.__iterator&&n.__iterator($t,e);return new ne(function(){if(!i)return g();var e=i.next();if(e.done)return e;var n=e.value,u=n[0],a=n[1];return v(t,u,Ct(r,u,a),e)})}},{},ue);var or=sr.prototype;or[Ut]=or.remove,or.getIn=or.get;var hr=function(t,e,r,n){this.length=n,this._rootData=t,this._keyPath=e,this._onChange=r};jt.createClass(hr,{},{},oe);var cr=hr.prototype;cr.equals=or.equals,cr.deref=or.deref,cr.get=or.get,cr.getIn=or.getIn,cr.set=or.set,cr[Ut]=cr.remove=or.remove,cr.clear=or.clear,cr.update=or.update,cr.withMutations=or.withMutations,cr.cursor=or.cursor,cr.__iterate=or.__iterate,cr.__iterator=or.__iterator;var fr={Sequence:ue,Map:ye,Vector:Re,Stack:ze,Set:Ne,OrderedMap:He,Record:Ye,Range:$e,Repeat:nr,is:n,fromJS:xt};return fr}"object"==typeof exports?module.exports=universalModule():"function"==typeof define&&define.amd?define(universalModule):Immutable=universalModule();

},{}],"/home/vadzim/v/work/nerojs/node_modules/lodash/dist/lodash.js":[function(require,module,exports){
(function(){function n(n,r,t){for(var e=(t||0)-1,u=n?n.length:0;++e<u;)if(n[e]===r)return e;return-1}function r(r,t){var e=typeof t;if(r=r.cache,"boolean"==e||null==t)return r[t]?0:-1;"number"!=e&&"string"!=e&&(e="object");var u="number"==e?t:m+t;return r=(r=r[e])&&r[u],"object"==e?r&&n(r,t)>-1?0:-1:r?0:-1}function t(n){var r=this.cache,t=typeof n;if("boolean"==t||null==n)r[n]=!0;else{"number"!=t&&"string"!=t&&(t="object");var e="number"==t?n:m+n,u=r[t]||(r[t]={});"object"==t?(u[e]||(u[e]=[])).push(n):u[e]=!0}}function e(n){return n.charCodeAt(0)}function u(n,r){for(var t=n.criteria,e=r.criteria,u=-1,o=t.length;++u<o;){var a=t[u],i=e[u];if(a!==i){if(a>i||"undefined"==typeof a)return 1;if(i>a||"undefined"==typeof i)return-1}}return n.index-r.index}function o(n){var r=-1,e=n.length,u=n[0],o=n[e/2|0],a=n[e-1];if(u&&"object"==typeof u&&o&&"object"==typeof o&&a&&"object"==typeof a)return!1;var i=f();i["false"]=i["null"]=i["true"]=i.undefined=!1;var l=f();for(l.array=n,l.cache=i,l.push=t;++r<e;)l.push(n[r]);return l}function a(n){return"\\"+G[n]}function i(){return h.pop()||[]}function f(){return g.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function l(n){n.length=0,h.length<d&&h.push(n)}function c(n){var r=n.cache;r&&c(r),n.array=n.cache=n.criteria=n.object=n.number=n.string=n.value=null,g.length<d&&g.push(n)}function p(n,r,t){r||(r=0),"undefined"==typeof t&&(t=n?n.length:0);for(var e=-1,u=t-r||0,o=Array(0>u?0:u);++e<u;)o[e]=n[r+e];return o}function s(t){function h(n){return n&&"object"==typeof n&&!Yt(n)&&Tt.call(n,"__wrapped__")?n:new g(n)}function g(n,r){this.__chain__=!!r,this.__wrapped__=n}function d(n){function r(){if(e){var n=p(e);$t.apply(n,arguments)}if(this instanceof r){var o=J(t.prototype),a=t.apply(o,n||arguments);return Sn(a)?a:o}return t.apply(u,n||arguments)}var t=n[0],e=n[2],u=n[4];return Xt(r,n),r}function G(n,r,t,e,u){if(t){var o=t(n);if("undefined"!=typeof o)return o}var a=Sn(n);if(!a)return n;var f=Nt.call(n);if(!K[f])return n;var c=Jt[f];switch(f){case F:case B:return new c(+n);case q:case P:return new c(n);case L:return o=c(n.source,C.exec(n)),o.lastIndex=n.lastIndex,o}var s=Yt(n);if(r){var v=!e;e||(e=i()),u||(u=i());for(var h=e.length;h--;)if(e[h]==n)return u[h];o=s?c(n.length):{}}else o=s?p(n):oe({},n);return s&&(Tt.call(n,"index")&&(o.index=n.index),Tt.call(n,"input")&&(o.input=n.input)),r?(e.push(n),u.push(o),(s?Xn:fe)(n,function(n,a){o[a]=G(n,r,t,e,u)}),v&&(l(e),l(u)),o):o}function J(n,r){return Sn(n)?zt(n):{}}function Q(n,r,t){if("function"!=typeof n)return Yr;if("undefined"==typeof r||!("prototype"in n))return n;var e=n.__bindData__;if("undefined"==typeof e&&(Qt.funcNames&&(e=!n.name),e=e||!Qt.funcDecomp,!e)){var u=At.call(n);Qt.funcNames||(e=!O.test(u)),e||(e=I.test(u),Xt(n,e))}if(e===!1||e!==!0&&1&e[1])return n;switch(t){case 1:return function(t){return n.call(r,t)};case 2:return function(t,e){return n.call(r,t,e)};case 3:return function(t,e,u){return n.call(r,t,e,u)};case 4:return function(t,e,u,o){return n.call(r,t,e,u,o)}}return $r(n,r)}function X(n){function r(){var n=f?a:this;if(u){var h=p(u);$t.apply(h,arguments)}if((o||c)&&(h||(h=p(arguments)),o&&$t.apply(h,o),c&&h.length<i))return e|=16,X([t,s?e:-4&e,h,null,a,i]);if(h||(h=arguments),l&&(t=n[v]),this instanceof r){n=J(t.prototype);var g=t.apply(n,h);return Sn(g)?g:n}return t.apply(n,h)}var t=n[0],e=n[1],u=n[2],o=n[3],a=n[4],i=n[5],f=1&e,l=2&e,c=4&e,s=8&e,v=t;return Xt(r,n),r}function Y(t,e){var u=-1,a=ln(),i=t?t.length:0,f=i>=b&&a===n,l=[];if(f){var p=o(e);p?(a=r,e=p):f=!1}for(;++u<i;){var s=t[u];a(e,s)<0&&l.push(s)}return f&&c(e),l}function nn(n,r,t,e){for(var u=(e||0)-1,o=n?n.length:0,a=[];++u<o;){var i=n[u];if(i&&"object"==typeof i&&"number"==typeof i.length&&(Yt(i)||vn(i))){r||(i=nn(i,r,t));var f=-1,l=i.length,c=a.length;for(a.length+=l;++f<l;)a[c++]=i[f]}else t||a.push(i)}return a}function rn(n,r,t,e,u,o){if(t){var a=t(n,r);if("undefined"!=typeof a)return!!a}if(n===r)return 0!==n||1/n==1/r;var f=typeof n,c=typeof r;if(!(n!==n||n&&V[f]||r&&V[c]))return!1;if(null==n||null==r)return n===r;var p=Nt.call(n),s=Nt.call(r);if(p==T&&(p=z),s==T&&(s=z),p!=s)return!1;switch(p){case F:case B:return+n==+r;case q:return n!=+n?r!=+r:0==n?1/n==1/r:n==+r;case L:case P:return n==jt(r)}var v=p==$;if(!v){var h=Tt.call(n,"__wrapped__"),g=Tt.call(r,"__wrapped__");if(h||g)return rn(h?n.__wrapped__:n,g?r.__wrapped__:r,t,e,u,o);if(p!=z)return!1;var y=n.constructor,m=r.constructor;if(y!=m&&!(In(y)&&y instanceof y&&In(m)&&m instanceof m)&&"constructor"in n&&"constructor"in r)return!1}var b=!u;u||(u=i()),o||(o=i());for(var d=u.length;d--;)if(u[d]==n)return o[d]==r;var _=0;if(a=!0,u.push(n),o.push(r),v){if(d=n.length,_=r.length,a=_==d,a||e)for(;_--;){var w=d,j=r[_];if(e)for(;w--&&!(a=rn(n[w],j,t,e,u,o)););else if(!(a=rn(n[_],j,t,e,u,o)))break}}else ie(r,function(r,i,f){return Tt.call(f,i)?(_++,a=Tt.call(n,i)&&rn(n[i],r,t,e,u,o)):void 0}),a&&!e&&ie(n,function(n,r,t){return Tt.call(t,r)?a=--_>-1:void 0});return u.pop(),o.pop(),b&&(l(u),l(o)),a}function tn(n,r,t,e,u){(Yt(r)?Xn:fe)(r,function(r,o){var a,i,f=r,l=n[o];if(r&&((i=Yt(r))||le(r))){for(var c=e.length;c--;)if(a=e[c]==r){l=u[c];break}if(!a){var p;t&&(f=t(l,r),(p="undefined"!=typeof f)&&(l=f)),p||(l=i?Yt(l)?l:[]:le(l)?l:{}),e.push(r),u.push(l),p||tn(l,r,t,e,u)}}else t&&(f=t(l,r),"undefined"==typeof f&&(f=r)),"undefined"!=typeof f&&(l=f);n[o]=l})}function en(n,r){return n+St(Ht()*(r-n+1))}function un(t,e,u){var a=-1,f=ln(),p=t?t.length:0,s=[],v=!e&&p>=b&&f===n,h=u||v?i():s;if(v){var g=o(h);f=r,h=g}for(;++a<p;){var y=t[a],m=u?u(y,a,t):y;(e?!a||h[h.length-1]!==m:f(h,m)<0)&&((u||v)&&h.push(m),s.push(y))}return v?(l(h.array),c(h)):u&&l(h),s}function on(n){return function(r,t,e){var u={};t=h.createCallback(t,e,3);var o=-1,a=r?r.length:0;if("number"==typeof a)for(;++o<a;){var i=r[o];n(u,i,t(i,o,r),r)}else fe(r,function(r,e,o){n(u,r,t(r,e,o),o)});return u}}function an(n,r,t,e,u,o){var a=1&r,i=2&r,f=4&r,l=16&r,c=32&r;if(!i&&!In(n))throw new kt;l&&!t.length&&(r&=-17,l=t=!1),c&&!e.length&&(r&=-33,c=e=!1);var s=n&&n.__bindData__;if(s&&s!==!0)return s=p(s),s[2]&&(s[2]=p(s[2])),s[3]&&(s[3]=p(s[3])),!a||1&s[1]||(s[4]=u),!a&&1&s[1]&&(r|=8),!f||4&s[1]||(s[5]=o),l&&$t.apply(s[2]||(s[2]=[]),t),c&&Wt.apply(s[3]||(s[3]=[]),e),s[1]|=r,an.apply(null,s);var v=1==r||17===r?d:X;return v([n,r,t,e,u,o])}function fn(n){return re[n]}function ln(){var r=(r=h.indexOf)===br?n:r;return r}function cn(n){return"function"==typeof n&&Rt.test(n)}function pn(n){var r,t;return n&&Nt.call(n)==z&&(r=n.constructor,!In(r)||r instanceof r)?(ie(n,function(n,r){t=r}),"undefined"==typeof t||Tt.call(n,t)):!1}function sn(n){return te[n]}function vn(n){return n&&"object"==typeof n&&"number"==typeof n.length&&Nt.call(n)==T||!1}function hn(n,r,t,e){return"boolean"!=typeof r&&null!=r&&(e=t,t=r,r=!1),G(n,r,"function"==typeof t&&Q(t,e,1))}function gn(n,r,t){return G(n,!0,"function"==typeof r&&Q(r,t,1))}function yn(n,r){var t=J(n);return r?oe(t,r):t}function mn(n,r,t){var e;return r=h.createCallback(r,t,3),fe(n,function(n,t,u){return r(n,t,u)?(e=t,!1):void 0}),e}function bn(n,r,t){var e;return r=h.createCallback(r,t,3),_n(n,function(n,t,u){return r(n,t,u)?(e=t,!1):void 0}),e}function dn(n,r,t){var e=[];ie(n,function(n,r){e.push(r,n)});var u=e.length;for(r=Q(r,t,3);u--&&r(e[u--],e[u],n)!==!1;);return n}function _n(n,r,t){var e=ne(n),u=e.length;for(r=Q(r,t,3);u--;){var o=e[u];if(r(n[o],o,n)===!1)break}return n}function wn(n){var r=[];return ie(n,function(n,t){In(n)&&r.push(t)}),r.sort()}function jn(n,r){return n?Tt.call(n,r):!1}function kn(n){for(var r=-1,t=ne(n),e=t.length,u={};++r<e;){var o=t[r];u[n[o]]=o}return u}function xn(n){return n===!0||n===!1||n&&"object"==typeof n&&Nt.call(n)==F||!1}function Cn(n){return n&&"object"==typeof n&&Nt.call(n)==B||!1}function On(n){return n&&1===n.nodeType||!1}function Nn(n){var r=!0;if(!n)return r;var t=Nt.call(n),e=n.length;return t==$||t==P||t==T||t==z&&"number"==typeof e&&In(n.splice)?!e:(fe(n,function(){return r=!1}),r)}function Rn(n,r,t,e){return rn(n,r,"function"==typeof t&&Q(t,e,2))}function En(n){return Pt(n)&&!Kt(parseFloat(n))}function In(n){return"function"==typeof n}function Sn(n){return!(!n||!V[typeof n])}function An(n){return Tn(n)&&n!=+n}function Dn(n){return null===n}function Tn(n){return"number"==typeof n||n&&"object"==typeof n&&Nt.call(n)==q||!1}function $n(n){return n&&"object"==typeof n&&Nt.call(n)==L||!1}function Fn(n){return"string"==typeof n||n&&"object"==typeof n&&Nt.call(n)==P||!1}function Bn(n){return"undefined"==typeof n}function Wn(n,r,t){var e={};return r=h.createCallback(r,t,3),fe(n,function(n,t,u){e[t]=r(n,t,u)}),e}function qn(n){var r=arguments,t=2;if(!Sn(n))return n;if("number"!=typeof r[2]&&(t=r.length),t>3&&"function"==typeof r[t-2])var e=Q(r[--t-1],r[t--],2);else t>2&&"function"==typeof r[t-1]&&(e=r[--t]);for(var u=p(arguments,1,t),o=-1,a=i(),f=i();++o<t;)tn(n,u[o],e,a,f);return l(a),l(f),n}function zn(n,r,t){var e={};if("function"!=typeof r){var u=[];ie(n,function(n,r){u.push(r)}),u=Y(u,nn(arguments,!0,!1,1));for(var o=-1,a=u.length;++o<a;){var i=u[o];e[i]=n[i]}}else r=h.createCallback(r,t,3),ie(n,function(n,t,u){r(n,t,u)||(e[t]=n)});return e}function Ln(n){for(var r=-1,t=ne(n),e=t.length,u=ht(e);++r<e;){var o=t[r];u[r]=[o,n[o]]}return u}function Pn(n,r,t){var e={};if("function"!=typeof r)for(var u=-1,o=nn(arguments,!0,!1,1),a=Sn(n)?o.length:0;++u<a;){var i=o[u];i in n&&(e[i]=n[i])}else r=h.createCallback(r,t,3),ie(n,function(n,t,u){r(n,t,u)&&(e[t]=n)});return e}function Kn(n,r,t,e){var u=Yt(n);if(null==t)if(u)t=[];else{var o=n&&n.constructor,a=o&&o.prototype;t=J(a)}return r&&(r=h.createCallback(r,e,4),(u?Xn:fe)(n,function(n,e,u){return r(t,n,e,u)})),t}function Un(n){for(var r=-1,t=ne(n),e=t.length,u=ht(e);++r<e;)u[r]=n[t[r]];return u}function Mn(n){for(var r=arguments,t=-1,e=nn(r,!0,!1,1),u=r[2]&&r[2][r[1]]===n?1:e.length,o=ht(u);++t<u;)o[t]=n[e[t]];return o}function Vn(n,r,t){var e=-1,u=ln(),o=n?n.length:0,a=!1;return t=(0>t?Mt(0,o+t):t)||0,Yt(n)?a=u(n,r,t)>-1:"number"==typeof o?a=(Fn(n)?n.indexOf(r,t):u(n,r,t))>-1:fe(n,function(n){return++e>=t?!(a=n===r):void 0}),a}function Gn(n,r,t){var e=!0;r=h.createCallback(r,t,3);var u=-1,o=n?n.length:0;if("number"==typeof o)for(;++u<o&&(e=!!r(n[u],u,n)););else fe(n,function(n,t,u){return e=!!r(n,t,u)});return e}function Hn(n,r,t){var e=[];r=h.createCallback(r,t,3);var u=-1,o=n?n.length:0;if("number"==typeof o)for(;++u<o;){var a=n[u];r(a,u,n)&&e.push(a)}else fe(n,function(n,t,u){r(n,t,u)&&e.push(n)});return e}function Jn(n,r,t){r=h.createCallback(r,t,3);var e=-1,u=n?n.length:0;if("number"!=typeof u){var o;return fe(n,function(n,t,e){return r(n,t,e)?(o=n,!1):void 0}),o}for(;++e<u;){var a=n[e];if(r(a,e,n))return a}}function Qn(n,r,t){var e;return r=h.createCallback(r,t,3),Yn(n,function(n,t,u){return r(n,t,u)?(e=n,!1):void 0}),e}function Xn(n,r,t){var e=-1,u=n?n.length:0;if(r=r&&"undefined"==typeof t?r:Q(r,t,3),"number"==typeof u)for(;++e<u&&r(n[e],e,n)!==!1;);else fe(n,r);return n}function Yn(n,r,t){var e=n?n.length:0;if(r=r&&"undefined"==typeof t?r:Q(r,t,3),"number"==typeof e)for(;e--&&r(n[e],e,n)!==!1;);else{var u=ne(n);e=u.length,fe(n,function(n,t,o){return t=u?u[--e]:--e,r(o[t],t,o)})}return n}function Zn(n,r){var t=p(arguments,2),e=-1,u="function"==typeof r,o=n?n.length:0,a=ht("number"==typeof o?o:0);return Xn(n,function(n){a[++e]=(u?r:n[r]).apply(n,t)}),a}function nr(n,r,t){var e=-1,u=n?n.length:0;if(r=h.createCallback(r,t,3),"number"==typeof u)for(var o=ht(u);++e<u;)o[e]=r(n[e],e,n);else o=[],fe(n,function(n,t,u){o[++e]=r(n,t,u)});return o}function rr(n,r,t){var u=-(1/0),o=u;if("function"!=typeof r&&t&&t[r]===n&&(r=null),null==r&&Yt(n))for(var a=-1,i=n.length;++a<i;){var f=n[a];f>o&&(o=f)}else r=null==r&&Fn(n)?e:h.createCallback(r,t,3),Xn(n,function(n,t,e){var a=r(n,t,e);a>u&&(u=a,o=n)});return o}function tr(n,r,t){var u=1/0,o=u;if("function"!=typeof r&&t&&t[r]===n&&(r=null),null==r&&Yt(n))for(var a=-1,i=n.length;++a<i;){var f=n[a];o>f&&(o=f)}else r=null==r&&Fn(n)?e:h.createCallback(r,t,3),Xn(n,function(n,t,e){var a=r(n,t,e);u>a&&(u=a,o=n)});return o}function er(n,r,t,e){if(!n)return t;var u=arguments.length<3;r=h.createCallback(r,e,4);var o=-1,a=n.length;if("number"==typeof a)for(u&&(t=n[++o]);++o<a;)t=r(t,n[o],o,n);else fe(n,function(n,e,o){t=u?(u=!1,n):r(t,n,e,o)});return t}function ur(n,r,t,e){var u=arguments.length<3;return r=h.createCallback(r,e,4),Yn(n,function(n,e,o){t=u?(u=!1,n):r(t,n,e,o)}),t}function or(n,r,t){return r=h.createCallback(r,t,3),Hn(n,function(n,t,e){return!r(n,t,e)})}function ar(n,r,t){if(n&&"number"!=typeof n.length&&(n=Un(n)),null==r||t)return n?n[en(0,n.length-1)]:v;var e=ir(n);return e.length=Vt(Mt(0,r),e.length),e}function ir(n){var r=-1,t=n?n.length:0,e=ht("number"==typeof t?t:0);return Xn(n,function(n){var t=en(0,++r);e[r]=e[t],e[t]=n}),e}function fr(n){var r=n?n.length:0;return"number"==typeof r?r:ne(n).length}function lr(n,r,t){var e;r=h.createCallback(r,t,3);var u=-1,o=n?n.length:0;if("number"==typeof o)for(;++u<o&&!(e=r(n[u],u,n)););else fe(n,function(n,t,u){return!(e=r(n,t,u))});return!!e}function cr(n,r,t){var e=-1,o=Yt(r),a=n?n.length:0,p=ht("number"==typeof a?a:0);for(o||(r=h.createCallback(r,t,3)),Xn(n,function(n,t,u){var a=p[++e]=f();o?a.criteria=nr(r,function(r){return n[r]}):(a.criteria=i())[0]=r(n,t,u),a.index=e,a.value=n}),a=p.length,p.sort(u);a--;){var s=p[a];p[a]=s.value,o||l(s.criteria),c(s)}return p}function pr(n){return n&&"number"==typeof n.length?p(n):Un(n)}function sr(n){for(var r=-1,t=n?n.length:0,e=[];++r<t;){var u=n[r];u&&e.push(u)}return e}function vr(n){return Y(n,nn(arguments,!0,!0,1))}function hr(n,r,t){var e=-1,u=n?n.length:0;for(r=h.createCallback(r,t,3);++e<u;)if(r(n[e],e,n))return e;return-1}function gr(n,r,t){var e=n?n.length:0;for(r=h.createCallback(r,t,3);e--;)if(r(n[e],e,n))return e;return-1}function yr(n,r,t){var e=0,u=n?n.length:0;if("number"!=typeof r&&null!=r){var o=-1;for(r=h.createCallback(r,t,3);++o<u&&r(n[o],o,n);)e++}else if(e=r,null==e||t)return n?n[0]:v;return p(n,0,Vt(Mt(0,e),u))}function mr(n,r,t,e){return"boolean"!=typeof r&&null!=r&&(e=t,t="function"!=typeof r&&e&&e[r]===n?null:r,r=!1),null!=t&&(n=nr(n,t,e)),nn(n,r)}function br(r,t,e){if("number"==typeof e){var u=r?r.length:0;e=0>e?Mt(0,u+e):e||0}else if(e){var o=Nr(r,t);return r[o]===t?o:-1}return n(r,t,e)}function dr(n,r,t){var e=0,u=n?n.length:0;if("number"!=typeof r&&null!=r){var o=u;for(r=h.createCallback(r,t,3);o--&&r(n[o],o,n);)e++}else e=null==r||t?1:r||e;return p(n,0,Vt(Mt(0,u-e),u))}function _r(){for(var t=[],e=-1,u=arguments.length,a=i(),f=ln(),p=f===n,s=i();++e<u;){var v=arguments[e];(Yt(v)||vn(v))&&(t.push(v),a.push(p&&v.length>=b&&o(e?t[e]:s)))}var h=t[0],g=-1,y=h?h.length:0,m=[];n:for(;++g<y;){var d=a[0];if(v=h[g],(d?r(d,v):f(s,v))<0){for(e=u,(d||s).push(v);--e;)if(d=a[e],(d?r(d,v):f(t[e],v))<0)continue n;m.push(v)}}for(;u--;)d=a[u],d&&c(d);return l(a),l(s),m}function wr(n,r,t){var e=0,u=n?n.length:0;if("number"!=typeof r&&null!=r){var o=u;for(r=h.createCallback(r,t,3);o--&&r(n[o],o,n);)e++}else if(e=r,null==e||t)return n?n[u-1]:v;return p(n,Mt(0,u-e))}function jr(n,r,t){var e=n?n.length:0;for("number"==typeof t&&(e=(0>t?Mt(0,e+t):Vt(t,e-1))+1);e--;)if(n[e]===r)return e;return-1}function kr(n){for(var r=arguments,t=0,e=r.length,u=n?n.length:0;++t<e;)for(var o=-1,a=r[t];++o<u;)n[o]===a&&(Bt.call(n,o--,1),u--);return n}function xr(n,r,t){n=+n||0,t="number"==typeof t?t:+t||1,null==r&&(r=n,n=0);for(var e=-1,u=Mt(0,Et((r-n)/(t||1))),o=ht(u);++e<u;)o[e]=n,n+=t;return o}function Cr(n,r,t){var e=-1,u=n?n.length:0,o=[];for(r=h.createCallback(r,t,3);++e<u;){var a=n[e];r(a,e,n)&&(o.push(a),Bt.call(n,e--,1),u--)}return o}function Or(n,r,t){if("number"!=typeof r&&null!=r){var e=0,u=-1,o=n?n.length:0;for(r=h.createCallback(r,t,3);++u<o&&r(n[u],u,n);)e++}else e=null==r||t?1:Mt(0,r);return p(n,e)}function Nr(n,r,t,e){var u=0,o=n?n.length:u;for(t=t?h.createCallback(t,e,1):Yr,r=t(r);o>u;){var a=u+o>>>1;t(n[a])<r?u=a+1:o=a}return u}function Rr(){return un(nn(arguments,!0,!0))}function Er(n,r,t,e){return"boolean"!=typeof r&&null!=r&&(e=t,t="function"!=typeof r&&e&&e[r]===n?null:r,r=!1),null!=t&&(t=h.createCallback(t,e,3)),un(n,r,t)}function Ir(n){return Y(n,p(arguments,1))}function Sr(){for(var n=-1,r=arguments.length;++n<r;){var t=arguments[n];if(Yt(t)||vn(t))var e=e?un(Y(e,t).concat(Y(t,e))):t}return e||[]}function Ar(){for(var n=arguments.length>1?arguments:arguments[0],r=-1,t=n?rr(ve(n,"length")):0,e=ht(0>t?0:t);++r<t;)e[r]=ve(n,r);return e}function Dr(n,r){var t=-1,e=n?n.length:0,u={};for(r||!e||Yt(n[0])||(r=[]);++t<e;){var o=n[t];r?u[o]=r[t]:o&&(u[o[0]]=o[1])}return u}function Tr(n,r){if(!In(r))throw new kt;return function(){return--n<1?r.apply(this,arguments):void 0}}function $r(n,r){return arguments.length>2?an(n,17,p(arguments,2),null,r):an(n,1,null,null,r)}function Fr(n){for(var r=arguments.length>1?nn(arguments,!0,!1,1):wn(n),t=-1,e=r.length;++t<e;){var u=r[t];n[u]=an(n[u],1,null,null,n)}return n}function Br(n,r){return arguments.length>2?an(r,19,p(arguments,2),null,n):an(r,3,null,null,n)}function Wr(){for(var n=arguments,r=n.length;r--;)if(!In(n[r]))throw new kt;return function(){for(var r=arguments,t=n.length;t--;)r=[n[t].apply(this,r)];return r[0]}}function qr(n,r){return r="number"==typeof r?r:+r||n.length,an(n,4,null,null,null,r)}function zr(n,r,t){var e,u,o,a,i,f,l,c=0,p=!1,s=!0;if(!In(n))throw new kt;if(r=Mt(0,r)||0,t===!0){var h=!0;s=!1}else Sn(t)&&(h=t.leading,p="maxWait"in t&&(Mt(r,t.maxWait)||0),s="trailing"in t?t.trailing:s);var g=function(){var t=r-(ge()-a);if(0>=t){u&&It(u);var p=l;u=f=l=v,p&&(c=ge(),o=n.apply(i,e),f||u||(e=i=null))}else f=Ft(g,t)},y=function(){f&&It(f),u=f=l=v,(s||p!==r)&&(c=ge(),o=n.apply(i,e),f||u||(e=i=null))};return function(){if(e=arguments,a=ge(),i=this,l=s&&(f||!h),p===!1)var t=h&&!f;else{u||h||(c=a);var v=p-(a-c),m=0>=v;m?(u&&(u=It(u)),c=a,o=n.apply(i,e)):u||(u=Ft(y,v))}return m&&f?f=It(f):f||r===p||(f=Ft(g,r)),t&&(m=!0,o=n.apply(i,e)),!m||f||u||(e=i=null),o}}function Lr(n){if(!In(n))throw new kt;var r=p(arguments,1);return Ft(function(){n.apply(v,r)},1)}function Pr(n,r){if(!In(n))throw new kt;var t=p(arguments,2);return Ft(function(){n.apply(v,t)},r)}function Kr(n,r){if(!In(n))throw new kt;var t=function(){var e=t.cache,u=r?r.apply(this,arguments):m+arguments[0];return Tt.call(e,u)?e[u]:e[u]=n.apply(this,arguments)};return t.cache={},t}function Ur(n){var r,t;if(!In(n))throw new kt;return function(){return r?t:(r=!0,t=n.apply(this,arguments),n=null,t)}}function Mr(n){return an(n,16,p(arguments,1))}function Vr(n){return an(n,32,null,p(arguments,1))}function Gr(n,r,t){var e=!0,u=!0;if(!In(n))throw new kt;return t===!1?e=!1:Sn(t)&&(e="leading"in t?t.leading:e,u="trailing"in t?t.trailing:u),U.leading=e,U.maxWait=r,U.trailing=u,zr(n,r,U)}function Hr(n,r){return an(r,16,[n])}function Jr(n){return function(){return n}}function Qr(n,r,t){var e=typeof n;if(null==n||"function"==e)return Q(n,r,t);if("object"!=e)return tt(n);var u=ne(n),o=u[0],a=n[o];return 1!=u.length||a!==a||Sn(a)?function(r){for(var t=u.length,e=!1;t--&&(e=rn(r[u[t]],n[u[t]],null,!0)););return e}:function(n){var r=n[o];return a===r&&(0!==a||1/a==1/r)}}function Xr(n){return null==n?"":jt(n).replace(ue,fn)}function Yr(n){return n}function Zr(n,r,t){var e=!0,u=r&&wn(r);r&&(t||u.length)||(null==t&&(t=r),o=g,r=n,n=h,u=wn(r)),t===!1?e=!1:Sn(t)&&"chain"in t&&(e=t.chain);var o=n,a=In(o);Xn(u,function(t){var u=n[t]=r[t];a&&(o.prototype[t]=function(){var r=this.__chain__,t=this.__wrapped__,a=[t];$t.apply(a,arguments);var i=u.apply(n,a);if(e||r){if(t===i&&Sn(i))return this;i=new o(i),i.__chain__=r}return i})})}function nt(){return t._=Ot,this}function rt(){}function tt(n){return function(r){return r[n]}}function et(n,r,t){var e=null==n,u=null==r;if(null==t&&("boolean"==typeof n&&u?(t=n,n=1):u||"boolean"!=typeof r||(t=r,u=!0)),e&&u&&(r=1),n=+n||0,u?(r=n,n=0):r=+r||0,t||n%1||r%1){var o=Ht();return Vt(n+o*(r-n+parseFloat("1e-"+((o+"").length-1))),r)}return en(n,r)}function ut(n,r){if(n){var t=n[r];return In(t)?n[r]():t}}function ot(n,r,t){var e=h.templateSettings;n=jt(n||""),t=ae({},t,e);var u,o=ae({},t.imports,e.imports),i=ne(o),f=Un(o),l=0,c=t.interpolate||E,p="__p += '",s=wt((t.escape||E).source+"|"+c.source+"|"+(c===N?x:E).source+"|"+(t.evaluate||E).source+"|$","g");n.replace(s,function(r,t,e,o,i,f){return e||(e=o),p+=n.slice(l,f).replace(S,a),t&&(p+="' +\n__e("+t+") +\n'"),i&&(u=!0,p+="';\n"+i+";\n__p += '"),e&&(p+="' +\n((__t = ("+e+")) == null ? '' : __t) +\n'"),l=f+r.length,r}),p+="';\n";var g=t.variable,y=g;y||(g="obj",p="with ("+g+") {\n"+p+"\n}\n"),p=(u?p.replace(w,""):p).replace(j,"$1").replace(k,"$1;"),p="function("+g+") {\n"+(y?"":g+" || ("+g+" = {});\n")+"var __t, __p = '', __e = _.escape"+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var m="\n/*\n//# sourceURL="+(t.sourceURL||"/lodash/template/source["+D++ +"]")+"\n*/";try{var b=mt(i,"return "+p+m).apply(v,f)}catch(d){throw d.source=p,d}return r?b(r):(b.source=p,b)}function at(n,r,t){n=(n=+n)>-1?n:0;var e=-1,u=ht(n);for(r=Q(r,t,1);++e<n;)u[e]=r(e);return u}function it(n){return null==n?"":jt(n).replace(ee,sn)}function ft(n){var r=++y;return jt(null==n?"":n)+r}function lt(n){return n=new g(n),n.__chain__=!0,n}function ct(n,r){return r(n),n}function pt(){return this.__chain__=!0,this}function st(){return jt(this.__wrapped__)}function vt(){return this.__wrapped__}t=t?Z.defaults(H.Object(),t,Z.pick(H,A)):H;var ht=t.Array,gt=t.Boolean,yt=t.Date,mt=t.Function,bt=t.Math,dt=t.Number,_t=t.Object,wt=t.RegExp,jt=t.String,kt=t.TypeError,xt=[],Ct=_t.prototype,Ot=t._,Nt=Ct.toString,Rt=wt("^"+jt(Nt).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Et=bt.ceil,It=t.clearTimeout,St=bt.floor,At=mt.prototype.toString,Dt=cn(Dt=_t.getPrototypeOf)&&Dt,Tt=Ct.hasOwnProperty,$t=xt.push,Ft=t.setTimeout,Bt=xt.splice,Wt=xt.unshift,qt=function(){try{var n={},r=cn(r=_t.defineProperty)&&r,t=r(n,n,n)&&r}catch(e){}return t}(),zt=cn(zt=_t.create)&&zt,Lt=cn(Lt=ht.isArray)&&Lt,Pt=t.isFinite,Kt=t.isNaN,Ut=cn(Ut=_t.keys)&&Ut,Mt=bt.max,Vt=bt.min,Gt=t.parseInt,Ht=bt.random,Jt={};Jt[$]=ht,Jt[F]=gt,Jt[B]=yt,Jt[W]=mt,Jt[z]=_t,Jt[q]=dt,Jt[L]=wt,Jt[P]=jt,g.prototype=h.prototype;var Qt=h.support={};Qt.funcDecomp=!cn(t.WinRTError)&&I.test(s),Qt.funcNames="string"==typeof mt.name,h.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:N,variable:"",imports:{_:h}},zt||(J=function(){function n(){}return function(r){if(Sn(r)){n.prototype=r;var e=new n;n.prototype=null}return e||t.Object()}}());var Xt=qt?function(n,r){M.value=r,qt(n,"__bindData__",M)}:rt,Yt=Lt||function(n){return n&&"object"==typeof n&&"number"==typeof n.length&&Nt.call(n)==$||!1},Zt=function(n){var r,t=n,e=[];if(!t)return e;if(!V[typeof n])return e;for(r in t)Tt.call(t,r)&&e.push(r);return e},ne=Ut?function(n){return Sn(n)?Ut(n):[]}:Zt,re={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},te=kn(re),ee=wt("("+ne(te).join("|")+")","g"),ue=wt("["+ne(re).join("")+"]","g"),oe=function(n,r,t){var e,u=n,o=u;if(!u)return o;var a=arguments,i=0,f="number"==typeof t?2:a.length;if(f>3&&"function"==typeof a[f-2])var l=Q(a[--f-1],a[f--],2);else f>2&&"function"==typeof a[f-1]&&(l=a[--f]);for(;++i<f;)if(u=a[i],u&&V[typeof u])for(var c=-1,p=V[typeof u]&&ne(u),s=p?p.length:0;++c<s;)e=p[c],o[e]=l?l(o[e],u[e]):u[e];return o},ae=function(n,r,t){var e,u=n,o=u;if(!u)return o;for(var a=arguments,i=0,f="number"==typeof t?2:a.length;++i<f;)if(u=a[i],u&&V[typeof u])for(var l=-1,c=V[typeof u]&&ne(u),p=c?c.length:0;++l<p;)e=c[l],"undefined"==typeof o[e]&&(o[e]=u[e]);return o},ie=function(n,r,t){var e,u=n,o=u;if(!u)return o;if(!V[typeof u])return o;r=r&&"undefined"==typeof t?r:Q(r,t,3);for(e in u)if(r(u[e],e,n)===!1)return o;return o},fe=function(n,r,t){var e,u=n,o=u;if(!u)return o;if(!V[typeof u])return o;r=r&&"undefined"==typeof t?r:Q(r,t,3);for(var a=-1,i=V[typeof u]&&ne(u),f=i?i.length:0;++a<f;)if(e=i[a],r(u[e],e,n)===!1)return o;return o},le=Dt?function(n){if(!n||Nt.call(n)!=z)return!1;var r=n.valueOf,t=cn(r)&&(t=Dt(r))&&Dt(t);return t?n==t||Dt(n)==t:pn(n)}:pn,ce=on(function(n,r,t){Tt.call(n,t)?n[t]++:n[t]=1}),pe=on(function(n,r,t){(Tt.call(n,t)?n[t]:n[t]=[]).push(r)}),se=on(function(n,r,t){n[t]=r}),ve=nr,he=Hn,ge=cn(ge=yt.now)&&ge||function(){return(new yt).getTime()},ye=8==Gt(_+"08")?Gt:function(n,r){return Gt(Fn(n)?n.replace(R,""):n,r||0)};return h.after=Tr,h.assign=oe,h.at=Mn,h.bind=$r,h.bindAll=Fr,h.bindKey=Br,h.chain=lt,h.compact=sr,h.compose=Wr,h.constant=Jr,h.countBy=ce,h.create=yn,h.createCallback=Qr,h.curry=qr,h.debounce=zr,h.defaults=ae,h.defer=Lr,h.delay=Pr,h.difference=vr,h.filter=Hn,h.flatten=mr,h.forEach=Xn,h.forEachRight=Yn,h.forIn=ie,h.forInRight=dn,h.forOwn=fe,h.forOwnRight=_n,h.functions=wn,h.groupBy=pe,h.indexBy=se,h.initial=dr,h.intersection=_r,h.invert=kn,h.invoke=Zn,h.keys=ne,h.map=nr,h.mapValues=Wn,h.max=rr,h.memoize=Kr,h.merge=qn,h.min=tr,h.omit=zn,h.once=Ur,h.pairs=Ln,h.partial=Mr,h.partialRight=Vr,h.pick=Pn,h.pluck=ve,h.property=tt,h.pull=kr,h.range=xr,h.reject=or,h.remove=Cr,h.rest=Or,h.shuffle=ir,h.sortBy=cr,h.tap=ct,h.throttle=Gr,h.times=at,h.toArray=pr,h.transform=Kn,h.union=Rr,h.uniq=Er,h.values=Un,h.where=he,h.without=Ir,h.wrap=Hr,h.xor=Sr,h.zip=Ar,h.zipObject=Dr,h.collect=nr,h.drop=Or,h.each=Xn,h.eachRight=Yn,h.extend=oe,h.methods=wn,h.object=Dr,h.select=Hn,h.tail=Or,h.unique=Er,h.unzip=Ar,Zr(h),h.clone=hn,h.cloneDeep=gn,h.contains=Vn,h.escape=Xr,h.every=Gn,h.find=Jn,h.findIndex=hr,h.findKey=mn,h.findLast=Qn,h.findLastIndex=gr,h.findLastKey=bn,h.has=jn,h.identity=Yr,h.indexOf=br,h.isArguments=vn,h.isArray=Yt,h.isBoolean=xn,h.isDate=Cn,h.isElement=On,h.isEmpty=Nn,h.isEqual=Rn,h.isFinite=En,h.isFunction=In,h.isNaN=An,h.isNull=Dn,h.isNumber=Tn,h.isObject=Sn,h.isPlainObject=le,h.isRegExp=$n,h.isString=Fn,h.isUndefined=Bn,h.lastIndexOf=jr,h.mixin=Zr,h.noConflict=nt,h.noop=rt,h.now=ge,h.parseInt=ye,h.random=et,h.reduce=er,h.reduceRight=ur,h.result=ut,h.runInContext=s,h.size=fr,h.some=lr,h.sortedIndex=Nr,h.template=ot,h.unescape=it,h.uniqueId=ft,h.all=Gn,h.any=lr,h.detect=Jn,h.findWhere=Jn,h.foldl=er,h.foldr=ur,h.include=Vn,h.inject=er,Zr(function(){var n={};return fe(h,function(r,t){h.prototype[t]||(n[t]=r)}),n}(),!1),h.first=yr,h.last=wr,h.sample=ar,h.take=yr,h.head=yr,fe(h,function(n,r){var t="sample"!==r;h.prototype[r]||(h.prototype[r]=function(r,e){var u=this.__chain__,o=n(this.__wrapped__,r,e);return u||null!=r&&(!e||t&&"function"==typeof r)?new g(o,u):o})}),h.VERSION="2.4.1",h.prototype.chain=pt,h.prototype.toString=st,h.prototype.value=vt,h.prototype.valueOf=vt,Xn(["join","pop","shift"],function(n){var r=xt[n];h.prototype[n]=function(){var n=this.__chain__,t=r.apply(this.__wrapped__,arguments);return n?new g(t,n):t}}),Xn(["push","reverse","sort","unshift"],function(n){var r=xt[n];h.prototype[n]=function(){return r.apply(this.__wrapped__,arguments),this}}),Xn(["concat","slice","splice"],function(n){var r=xt[n];h.prototype[n]=function(){return new g(r.apply(this.__wrapped__,arguments),this.__chain__)}}),h}var v,h=[],g=[],y=0,m=+new Date+"",b=75,d=40,_=" 	\f \ufeff\n\r\u2028\u2029 ᠎             　",w=/\b__p \+= '';/g,j=/\b(__p \+=) '' \+/g,k=/(__e\(.*?\)|\b__t\)) \+\n'';/g,x=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,C=/\w*$/,O=/^\s*function[ \n\r\t]+\w/,N=/<%=([\s\S]+?)%>/g,R=RegExp("^["+_+"]*0+(?=.$)"),E=/($^)/,I=/\bthis\b/,S=/['\n\r\t\u2028\u2029\\]/g,A=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],D=0,T="[object Arguments]",$="[object Array]",F="[object Boolean]",B="[object Date]",W="[object Function]",q="[object Number]",z="[object Object]",L="[object RegExp]",P="[object String]",K={};K[W]=!1,K[T]=K[$]=K[F]=K[B]=K[q]=K[z]=K[L]=K[P]=!0;var U={leading:!1,maxWait:0,trailing:!1},M={configurable:!1,enumerable:!1,value:null,writable:!1},V={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},G={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},H=V[typeof window]&&window||this,J=V[typeof exports]&&exports&&!exports.nodeType&&exports,Q=V[typeof module]&&module&&!module.nodeType&&module,X=Q&&Q.exports===J&&J,Y=V[typeof global]&&global;!Y||Y.global!==Y&&Y.window!==Y||(H=Y);var Z=s();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(H._=Z,define(function(){return Z})):J&&Q?X?(Q.exports=Z)._=Z:J._=Z:H._=Z}).call(this);

},{}],"/home/vadzim/v/work/nerojs/node_modules/morgan/index.js":[function(require,module,exports){
function compile(e){if("function"==typeof e)return e;if("string"!=typeof e)throw new TypeError("argument format must be a function or string");var t=e.replace(/"/g,'\\"'),r='  return "'+t.replace(/:([-\w]{2,})(?:\[([^\]]+)\])?/g,function(e,t,r){return'"\n    + (tokens["'+t+'"](req, res, '+String(JSON.stringify(r))+') || "-") + "'})+'";';return new Function("tokens, req, res",r)}function clfdate(e){var t=e.getUTCDate(),r=e.getUTCHours(),n=e.getUTCMinutes(),o=e.getUTCSeconds(),s=e.getUTCFullYear(),u=clfmonth[e.getUTCMonth()];return pad2(t)+"/"+u+"/"+s+":"+pad2(r)+":"+pad2(n)+":"+pad2(o)+" +0000"}function getip(e){return e.ip||e._remoteAddress||e.connection&&e.connection.remoteAddress||void 0}function pad2(e){var t=String(e);return(1===t.length?"0":"")+t}var auth=require("basic-auth"),debug=require("debug")("morgan"),deprecate=require("depd")("morgan"),onFinished=require("on-finished"),clfmonth=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],defaultBufferDuration=1e3;exports=module.exports=function(e,t){"object"==typeof e&&(t=e,e=t.format||"default",deprecate("morgan(options): use morgan("+("string"==typeof e?JSON.stringify(e):"format")+", options) instead")),void 0===e&&deprecate("undefined format: specify a format"),t=t||{};var r=t.immediate,n=t.skip||function(){return!1},o=compile(exports[e]||e||exports["default"]),s=t.buffer,u=t.stream||process.stdout;if(s){deprecate("buffer option");var i=u,a=[],f=null,d="number"==typeof s?s:defaultBufferDuration,p=function(){f=null,a.length&&(i.write(a.join("")),a.length=0)};u={write:function(e){null===f&&(f=setTimeout(p,d)),a.push(e)}}}return function(e,t,s){function i(){if(n(e,t))return void debug("skip request");var r=o(exports,e,t);return null==r?void debug("skip line"):(debug("log request"),void u.write(r+"\n"))}e._startAt=process.hrtime(),e._startTime=new Date,e._remoteAddress=getip(e),r?i():onFinished(t,i),s()}},exports.token=function(e,t){return exports[e]=t,this},exports.format=function(e,t){return exports[e]=t,this},exports.format("combined",':remote-addr - :remote-user [:date[clf]] ":method :url HTTP/:http-version" :status :res[content-length] ":referrer" ":user-agent"'),exports.format("common",':remote-addr - :remote-user [:date[clf]] ":method :url HTTP/:http-version" :status :res[content-length]'),exports.format("default",':remote-addr - :remote-user [:date] ":method :url HTTP/:http-version" :status :res[content-length] ":referrer" ":user-agent"'),deprecate.property(exports,"default","default format: use combined format"),exports.format("short",":remote-addr :remote-user :method :url HTTP/:http-version :status :res[content-length] - :response-time ms"),exports.format("tiny",":method :url :status :res[content-length] - :response-time ms"),exports.format("dev",function(e,t,r){var n=32,o=r.statusCode;o>=500?n=31:o>=400?n=33:o>=300&&(n=36);var s=compile("[0m:method :url ["+n+"m:status [0m:response-time ms - :res[content-length][0m");return s(e,t,r)}),exports.token("url",function(e){return e.originalUrl||e.url}),exports.token("method",function(e){return e.method}),exports.token("response-time",function(e,t){if(!t._header||!e._startAt)return"";var r=process.hrtime(e._startAt),n=1e3*r[0]+1e-6*r[1];return n.toFixed(3)}),exports.token("date",function(e,t,r){r=r||"web";var n=new Date;switch(r){case"clf":return clfdate(n);case"iso":return n.toISOString();case"web":return n.toUTCString()}}),exports.token("status",function(e,t){return t._header?t.statusCode:null}),exports.token("referrer",function(e){return e.headers.referer||e.headers.referrer}),exports.token("remote-addr",getip),exports.token("remote-user",function(e){var t=auth(e),r=t&&t.name||"-";return r}),exports.token("http-version",function(e){return e.httpVersionMajor+"."+e.httpVersionMinor}),exports.token("user-agent",function(e){return e.headers["user-agent"]}),exports.token("req",function(e,t,r){return e.headers[r.toLowerCase()]}),exports.token("res",function(e,t,r){return(t._headers||{})[r.toLowerCase()]});

},{"basic-auth":"/home/vadzim/v/work/nerojs/node_modules/morgan/node_modules/basic-auth/index.js","debug":"/home/vadzim/v/work/nerojs/node_modules/morgan/node_modules/debug/browser.js","depd":"/home/vadzim/v/work/nerojs/node_modules/morgan/node_modules/depd/index.js","on-finished":"/home/vadzim/v/work/nerojs/node_modules/morgan/node_modules/on-finished/index.js"}],"/home/vadzim/v/work/nerojs/node_modules/morgan/node_modules/basic-auth/index.js":[function(require,module,exports){
module.exports=function(e){e=e.req||e;var a=e.headers.authorization;if(a){var r=a.split(" ");if("basic"==r[0].toLowerCase()&&r[1]&&(a=r[1],a=new Buffer(a,"base64").toString(),a=a.match(/^([^:]*):(.*)$/)))return{name:a[1],pass:a[2]}}};

},{}],"/home/vadzim/v/work/nerojs/node_modules/morgan/node_modules/debug/browser.js":[function(require,module,exports){
function useColors(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function formatArgs(){var o=arguments,e=this.useColors;if(o[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+o[0]+(e?"%c ":" ")+"+"+exports.humanize(this.diff),!e)return o;var r="color: "+this.color;o=[o[0],r,"color: inherit"].concat(Array.prototype.slice.call(o,1));var t=0,n=0;return o[0].replace(/%[a-z%]/g,function(o){"%%"!==o&&(t++,"%c"===o&&(n=t))}),o.splice(n,0,r),o}function log(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function save(o){try{null==o?storage.removeItem("debug"):storage.debug=o}catch(e){}}function load(){var o;try{o=storage.debug}catch(e){}return o}function localstorage(){try{return window.localStorage}catch(o){}}exports=module.exports=require("./debug"),exports.log=log,exports.formatArgs=formatArgs,exports.save=save,exports.load=load,exports.useColors=useColors;var storage;storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:localstorage(),exports.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],exports.formatters.j=function(o){return JSON.stringify(o)},exports.enable(load());

},{"./debug":"/home/vadzim/v/work/nerojs/node_modules/morgan/node_modules/debug/debug.js"}],"/home/vadzim/v/work/nerojs/node_modules/morgan/node_modules/debug/debug.js":[function(require,module,exports){
function selectColor(){return exports.colors[prevColor++%exports.colors.length]}function debug(e){function r(){}function o(){var e=o,r=+new Date,s=r-(prevTime||r);e.diff=s,e.prev=prevTime,e.curr=r,prevTime=r,null==e.useColors&&(e.useColors=exports.useColors()),null==e.color&&e.useColors&&(e.color=selectColor());var t=Array.prototype.slice.call(arguments);t[0]=exports.coerce(t[0]),"string"!=typeof t[0]&&(t=["%o"].concat(t));var n=0;t[0]=t[0].replace(/%([a-z%])/g,function(r,o){if("%%"===r)return r;n++;var s=exports.formatters[o];if("function"==typeof s){var p=t[n];r=s.call(e,p),t.splice(n,1),n--}return r}),"function"==typeof exports.formatArgs&&(t=exports.formatArgs.apply(e,t));var p=o.log||exports.log||console.log.bind(console);p.apply(e,t)}r.enabled=!1,o.enabled=!0;var s=exports.enabled(e)?o:r;return s.namespace=e,s}function enable(e){exports.save(e);for(var r=(e||"").split(/[\s,]+/),o=r.length,s=0;o>s;s++)r[s]&&(e=r[s].replace(/\*/g,".*?"),"-"===e[0]?exports.skips.push(new RegExp("^"+e.substr(1)+"$")):exports.names.push(new RegExp("^"+e+"$")))}function disable(){exports.enable("")}function enabled(e){var r,o;for(r=0,o=exports.skips.length;o>r;r++)if(exports.skips[r].test(e))return!1;for(r=0,o=exports.names.length;o>r;r++)if(exports.names[r].test(e))return!0;return!1}function coerce(e){return e instanceof Error?e.stack||e.message:e}exports=module.exports=debug,exports.coerce=coerce,exports.disable=disable,exports.enable=enable,exports.enabled=enabled,exports.humanize=require("ms"),exports.names=[],exports.skips=[],exports.formatters={};var prevColor=0,prevTime;

},{"ms":"/home/vadzim/v/work/nerojs/node_modules/morgan/node_modules/debug/node_modules/ms/index.js"}],"/home/vadzim/v/work/nerojs/node_modules/morgan/node_modules/debug/node_modules/ms/index.js":[function(require,module,exports){
function parse(e){var a=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(a){var r=parseFloat(a[1]),c=(a[2]||"ms").toLowerCase();switch(c){case"years":case"year":case"yrs":case"yr":case"y":return r*y;case"days":case"day":case"d":return r*d;case"hours":case"hour":case"hrs":case"hr":case"h":return r*h;case"minutes":case"minute":case"mins":case"min":case"m":return r*m;case"seconds":case"second":case"secs":case"sec":case"s":return r*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r}}}function short(e){return e>=d?Math.round(e/d)+"d":e>=h?Math.round(e/h)+"h":e>=m?Math.round(e/m)+"m":e>=s?Math.round(e/s)+"s":e+"ms"}function long(e){return plural(e,d,"day")||plural(e,h,"hour")||plural(e,m,"minute")||plural(e,s,"second")||e+" ms"}function plural(s,e,a){return e>s?void 0:1.5*e>s?Math.floor(s/e)+" "+a:Math.ceil(s/e)+" "+a+"s"}var s=1e3,m=60*s,h=60*m,d=24*h,y=365.25*d;module.exports=function(s,e){return e=e||{},"string"==typeof s?parse(s):e["long"]?long(s):short(s)};

},{}],"/home/vadzim/v/work/nerojs/node_modules/morgan/node_modules/depd/index.js":[function(require,module,exports){
function containsNamespace(e,r){var t=e.split(/[ ,]+/);r=String(r).toLowerCase();for(var n=0;n<t.length;n++)if((e=t[n])&&("*"===e||e.toLowerCase()===r))return!0;return!1}function convertDataDescriptorToAccessor(e,r,t){var n=Object.getOwnPropertyDescriptor(e,r),a=n.value;return n.get=function(){return a},n.writable&&(n.set=function(e){return a=e}),delete n.value,delete n.writable,Object.defineProperty(e,r,n),n}function createArgumentsString(e){for(var r="",t=0;e>t;t++)r+=", arg"+t;return r.substr(2)}function createStackString(e){var r=this.name+": "+this.namespace;this.message&&(r+=" deprecated "+this.message);for(var t=0;t<e.length;t++)r+="\n    at "+callSiteToString(e[t]);return r}function depd(e){function r(e){log.call(r,e)}if(!e)throw new TypeError("argument namespace is required");var t=getStack(),n=callSiteLocation(t[1]),a=n[0];return r._file=a,r._ignored=isignored(e),r._namespace=e,r._traced=istraced(e),r._warned=Object.create(null),r["function"]=wrapfunction,r.property=wrapproperty,r}function isignored(e){if(process.noDeprecation)return!0;var r=process.env.NO_DEPRECATION||"";return containsNamespace(r,e)}function istraced(e){if(process.traceDeprecation)return!0;var r=process.env.TRACE_DEPRECATION||"";return containsNamespace(r,e)}function log(e,r){var t=0!==eventListenerCount(process,"deprecation");if(t||!this._ignored){var n,a,i,o=0,c=!1,s=getStack(),u=this._file;for(r?(i=callSiteLocation(s[1]),i.name=r.name,u=i[0]):(o=2,r=callSiteLocation(s[o]),i=r);o<s.length;o++)if(n=callSiteLocation(s[o]),a=n[0],a===u)c=!0;else if(a===this._file)u=this._file;else if(c)break;var l=n?r.join(":")+"__"+n.join(":"):void 0;if(!(void 0!==l&&l in this._warned)){if(this._warned[l]=!0,e||(e=defaultMessage(i!==r&&i.name?i:r)),t){var f=DeprecationError(this._namespace,e,s.slice(o));return void process.emit("deprecation",f)}var p=process.stderr.isTTY?formatColor:formatPlain,m=p.call(this,e,n,s.slice(o));process.stderr.write(m+"\n","utf8")}}}function callSiteLocation(e){var r=e.getFileName()||"<anonymous>",t=e.getLineNumber(),n=e.getColumnNumber();e.isEval()&&(r=e.getEvalOrigin()+", "+r);var a=[r,t,n];return a.callSite=e,a.name=e.getFunctionName(),a}function defaultMessage(e){var r=e.callSite,t=e.name,n=r.getTypeName();return t||(t="<anonymous@"+formatLocation(e)+">"),"Function"===n&&(n=r.getThis().name||n),r.getMethodName()?n+"."+t:t}function formatPlain(e,r,t){var n=(new Date).toUTCString(),a=n+" "+this._namespace+" deprecated "+e;if(this._traced){for(var i=0;i<t.length;i++)a+="\n    at "+callSiteToString(t[i]);return a}return r&&(a+=" at "+formatLocation(r)),a}function formatColor(e,r,t){var n="[36;1m"+this._namespace+"[22;39m [33;1mdeprecated[22;39m [0m"+e+"[39m";if(this._traced){for(var a=0;a<t.length;a++)n+="\n    [36mat "+callSiteToString(t[a])+"[39m";return n}return r&&(n+=" [36m"+formatLocation(r)+"[39m"),n}function formatLocation(e){return relative(basePath,e[0])+":"+e[1]+":"+e[2]}function getStack(){var e=Error.stackTraceLimit,r={},t=Error.prepareStackTrace;Error.prepareStackTrace=prepareObjectStackTrace,Error.stackTraceLimit=Math.max(10,e),Error.captureStackTrace(r);var n=r.stack.slice(1);return Error.prepareStackTrace=t,Error.stackTraceLimit=e,n}function prepareObjectStackTrace(e,r){return r}function wrapfunction(fn,message){if("function"!=typeof fn)throw new TypeError("argument fn must be a function");var args=createArgumentsString(fn.length),deprecate=this,stack=getStack(),site=callSiteLocation(stack[1]);site.name=fn.name;var deprecatedfn=eval("(function ("+args+') {\n"use strict"\nlog.call(deprecate, message, site)\nreturn fn.apply(this, arguments)\n})');return deprecatedfn}function wrapproperty(e,r,t){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new TypeError("argument obj must be object");var n=Object.getOwnPropertyDescriptor(e,r);if(!n)throw new TypeError("must call property on owner object");if(!n.configurable)throw new TypeError("property must be configurable");var a=this,i=getStack(),o=callSiteLocation(i[1]);o.name=r,"value"in n&&(n=convertDataDescriptorToAccessor(e,r,t));var c=n.get,s=n.set;"function"==typeof c&&(n.get=function(){return log.call(a,t,o),c.apply(this,arguments)}),"function"==typeof s&&(n.set=function(){return log.call(a,t,o),s.apply(this,arguments)}),Object.defineProperty(e,r,n)}function DeprecationError(e,r,t){var n,a=new Error;return Object.defineProperty(a,"constructor",{value:DeprecationError}),Object.defineProperty(a,"message",{configurable:!0,enumerable:!1,value:r,writable:!0}),Object.defineProperty(a,"name",{enumerable:!1,configurable:!0,value:"DeprecationError",writable:!0}),Object.defineProperty(a,"namespace",{configurable:!0,enumerable:!1,value:e,writable:!0}),Object.defineProperty(a,"stack",{configurable:!0,enumerable:!1,get:function(){return void 0!==n?n:n=createStackString.call(this,t)},set:function(e){n=e}}),a}var callSiteToString=require("./lib/compat").callSiteToString,EventEmitter=require("events").EventEmitter,relative=require("path").relative;module.exports=depd;var basePath=process.cwd(),eventListenerCount=EventEmitter.listenerCount||function(e,r){return e.listeners(r).length};

},{"./lib/compat":"/home/vadzim/v/work/nerojs/node_modules/morgan/node_modules/depd/lib/compat/index.js","events":false,"path":false}],"/home/vadzim/v/work/nerojs/node_modules/morgan/node_modules/depd/lib/compat/buffer-concat.js":[function(require,module,exports){
function bufferConcat(e){for(var n=0,r=0,f=e.length;f>r;r++)n+=e[r].length;for(var t=new Buffer(n),o=0,r=0,f=e.length;f>r;r++)e[r].copy(t,o),o+=e[r].length;return t}module.exports=bufferConcat;

},{}],"/home/vadzim/v/work/nerojs/node_modules/morgan/node_modules/depd/lib/compat/callsite-tostring.js":[function(require,module,exports){
function callSiteFileLocation(e){var t,n="";if(e.isNative()?n="native":e.isEval()?(t=e.getScriptNameOrSourceURL(),t||(n=e.getEvalOrigin())):t=e.getFileName(),t){n+=t;var r=e.getLineNumber();if(null!=r){n+=":"+r;var o=e.getColumnNumber();o&&(n+=":"+o)}}return n||"unknown source"}function callSiteToString(e){var t=!0,n=callSiteFileLocation(e),r=e.getFunctionName(),o=e.isConstructor(),i=!(e.isToplevel()||o),a="";if(i){var l=e.getMethodName(),u=getConstructorName(e);r?(u&&0!==r.indexOf(u)&&(a+=u+"."),a+=r,l&&r.lastIndexOf("."+l)!==r.length-l.length-1&&(a+=" [as "+l+"]")):a+=u+"."+(l||"<anonymous>")}else o?a+="new "+(r||"<anonymous>"):r?a+=r:(t=!1,a+=n);return t&&(a+=" ("+n+")"),a}function getConstructorName(e){var t=e.receiver;return t.constructor&&t.constructor.name||null}module.exports=callSiteToString;

},{}],"/home/vadzim/v/work/nerojs/node_modules/morgan/node_modules/depd/lib/compat/index.js":[function(require,module,exports){
function lazyProperty(r,e,t){function a(){var a=t();return Object.defineProperty(r,e,{configurable:!0,enumerable:!0,value:a}),a}Object.defineProperty(r,e,{configurable:!0,enumerable:!0,get:a})}function toString(r){return r.toString()}lazyProperty(module.exports,"bufferConcat",function(){return Buffer.concat||require("./buffer-concat")}),lazyProperty(module.exports,"callSiteToString",function(){function r(r,e){return e}var e=Error.stackTraceLimit,t={},a=Error.prepareStackTrace;Error.prepareStackTrace=r,Error.stackTraceLimit=2,Error.captureStackTrace(t);var c=t.stack.slice();return Error.prepareStackTrace=a,Error.stackTraceLimit=e,c[0].toString?toString:require("./callsite-tostring")});

},{"./buffer-concat":"/home/vadzim/v/work/nerojs/node_modules/morgan/node_modules/depd/lib/compat/buffer-concat.js","./callsite-tostring":"/home/vadzim/v/work/nerojs/node_modules/morgan/node_modules/depd/lib/compat/callsite-tostring.js"}],"/home/vadzim/v/work/nerojs/node_modules/morgan/node_modules/on-finished/index.js":[function(require,module,exports){
function onFinished(e,n){return isFinished(e)!==!1?(defer(n,null,e),e):(attachListener(e,n),e)}function isFinished(e){var n=e.socket;return"boolean"==typeof e.finished?Boolean(e.finished||n&&!n.writable):"boolean"==typeof e.complete?Boolean(!n||e.complete||!n.readable):void 0}function attachFinishedListener(e,n){function i(e){o.cancel(),s.cancel(),r=!0,n(e)}function t(n){e.removeListener("socket",t),r||o===s&&(s=first([[n,"error","close"]],i))}var o,s,r=!1;return o=s=first([[e,"end","finish"]],i),e.socket?void t(e.socket):(e.on("socket",t),void(void 0===e.socket&&patchAssignSocket(e,t)))}function attachListener(e,n){var i=e.__onFinished;i&&i.queue||(i=e.__onFinished=createListener(e),attachFinishedListener(e,i)),i.queue.push(n)}function createListener(e){function n(i){if(e.__onFinished===n&&(e.__onFinished=null),n.queue){var t=n.queue;n.queue=null;for(var o=0;o<t.length;o++)t[o](i,e)}}return n.queue=[],n}function patchAssignSocket(e,n){var i=e.assignSocket;"function"==typeof i&&(e.assignSocket=function(e){i.call(this,e),n(e)})}module.exports=onFinished,module.exports.isFinished=isFinished;var first=require("ee-first"),defer="function"==typeof setImmediate?setImmediate:function(e){process.nextTick(e.bind.apply(e,arguments))};

},{"ee-first":"/home/vadzim/v/work/nerojs/node_modules/morgan/node_modules/on-finished/node_modules/ee-first/index.js"}],"/home/vadzim/v/work/nerojs/node_modules/morgan/node_modules/on-finished/node_modules/ee-first/index.js":[function(require,module,exports){
function listener(r,e){return function(n){for(var t=new Array(arguments.length),a=this,o="error"===r?n:null,u=0;u<t.length;u++)t[u]=arguments[u];e(o,a,r,t)}}module.exports=function(r,e){function n(){t(),e.apply(null,arguments)}function t(){for(var r,e=0;e<o.length;e++)r=o[e],r.ee.removeListener(r.event,r.fn)}function a(r){e=r}if(!Array.isArray(r))throw new TypeError("arg must be an array of [ee, events...] arrays");for(var o=[],u=0;u<r.length;u++){var s=r[u];if(!Array.isArray(s)||s.length<2)throw new TypeError("each array member must be [ee, events...]");for(var f=s[0],l=1;l<s.length;l++){var i=s[l],h=listener(i,n);f.on(i,h),o.push({ee:f,event:i,fn:h})}}return a.cancel=t,a};

},{}],"/home/vadzim/v/work/nerojs/node_modules/websockets/lib/websockets/rfc6455.js":[function(require,module,exports){
function Rfc6455(e,t){var r=this;events.EventEmitter.call(r);var n="string"==typeof e,o=n?Client:Server;r.core=new o(r);var i=r._options=(n?arguments[1]:arguments[3])||{};"string"==typeof i?i=r._options={protocols:[i]}:"array"==typeof i&&(i=r._options={protocols:i});var s=i.bufferSize;(!s||0>=s)&&(i.bufferSize=BUFFER_SIZE),r.on("_data",function(e,t,n){if(0!==n&&(r.opcode=n,r.buffer=[]),r.buffer=r.buffer.concat(e),r.emit("data",new Buffer(e),t,r.opcode),t){var o=new Buffer(r.buffer),i=1===r.opcode?o.toString():o;r.emit("message",i)}})}function _option(e){return this._options[e]}function Server(e){this.parent=e}function Client(e){this.parent=e}function close(e,t){var r=this,n=r.parent;if(n.socket){var o=ERR_CODE[e]||e+"";_ctrl.call(r,OPCODE.close,t,o),n.close=function(){var e=n.socket;e.writable&&e.end(),e.destroy()}}}function ping(e,t){var r=this;r.parent;_ctrl.call(r,OPCODE.ping,t,e)}function _ctrl(e,t,r){var n=this.parent,o=new Buffer(r);125<o.length&&(o=o.slice(0,124));var i=1,s=[0,0,0];n.socket.write(frame(i,s,e,t,o))}function write(e,t){var r,n=this.parent,o=n.socket,i=new Buffer(e),s=i.length,a=[],c=n._options.bufferSize;for(r=0;s>r;r+=c)a.push(i.slice(r,Math.min(i.length,r+c)));var p=0,f=[0,0,0],u=OPCODE[typeof e]||OPCODE.binary,l=t;for(r=0,s=a.length;s-1>r;r++,u=0)o.write(frame(p,f,u,l,a[r]));p=1,o.write(frame(p,f,u,l,a[r]))}function parse(e,t){function r(){var r=e.length;if(2>r)return e;var n=e[s++],o=n>>>7,a=15&n;n=e[s++];var c=n>>>7;if(t!==c)return i.emit("error",1002);var p=127&n;if(r<2+({126:2,127:8}||0)[p]+(t?4:0))return e;127===p?p=((e[s++]<<24)+(e[s++]<<16)+(e[s++]<<8)+e[s++])*Math.pow(2,32)+(e[s++]<<24)+(e[s++]<<16)+(e[s++]<<8)+e[s++]:126===p&&(p=(e[s++]<<8)+e[s++]);var f=t?[e[s++],e[s++],e[s++],e[s++]]:null;return{fin:o,ope:a,length:p,mask:f,payload:[]}}function n(){for(var r=o.buffer,n=e.length,c=r.payload,p=r.mask,f=r.ope,u=r.fin,l=c.length%4;r.length&&n>s;l++,r.length--)c.push(p?e[s++]^p[l%4]:e[s++]);if("function"!=typeof a[f])return i.emit("error",1002);try{0===r.length&&(a[f](c,!!u),delete o.buffer),n>s&&parse.call(o,e.slice(s),t)}catch(h){throw console.error(h),h}}var o=this,i=o.parent,s=0,a={_def:function(e,t,r){i.emit("_data",e,t,r)},0:function(e,t){a._def(e,t,0)},1:function(e,t){a._def(e,t,1)},2:function(e,t){a._def(e,t,2)},8:function(){i.emit("_closing",1e3)},9:function(e){i.pong(e)},10:function(e){i.emit("pong",Buffer(e).toString())}};if(o.buffer instanceof Buffer){var c=Buffer(o.buffer.length+e.length);o.buffer.copy(c),e.copy(c,o.buffer.length),e=c,delete o.buffer}"undefined"==typeof o.buffer&&(o.buffer=r()),o.buffer instanceof Buffer||n()}function _hashAndEncode(e){var t=(e+GUID).trim(),r=crypto.createHash("sha1");return r.update(t),r.digest("base64")}function frame(e,t,r,n,o){var i=[],s=Array.prototype.push;return s.apply(i,_1st(e,t,r)),s.apply(i,_length(n,o)),i=i.concat(_payload(n,o)),new Buffer(i)}function _1st(e,t,r){return[e<<7|t[0]<<6|t[1]<<5|t[2]<<4|r]}function _length(e,t){var r=t.length,n=r,o=[];if(125>=r);else if(65535>=r)n=126,o.push(r>>>8),o.push(255&r);else{n=127;var i="000000000000000000000000000000000000000000000000",s=(i+r.toString(2)).slice(-64);o.push(parseInt(s.substr(0,8),2)),o.push(parseInt(s.substr(8,8),2)),o.push(parseInt(s.substr(16,8),2)),o.push(parseInt(s.substr(24,8),2)),o.push(parseInt(s.substr(32,8),2)),o.push(parseInt(s.substr(40,8),2)),o.push(parseInt(s.substr(48,8),2)),o.push(parseInt(s.substr(56,8),2))}return o.unshift(e<<7|n),o}function _payload(e,t){function r(){var e,t=[];for(e=4;e--;)t.push(~~(256*Math.random()));return t}var n,o,i,s;if(e)for(o=r(),i=o.slice(-4),s=t.length,n=0;s>n;n++)i.push(t[n]^o[n%4]);else i=Array.prototype.slice.call(t);return i}var util=require("util"),events=require("events"),crypto=require("crypto"),URL=require("url"),http=require("http"),https=require("https"),GUID="258EAFA5-E914-47DA-95CA-C5AB0DC85B11",HANDSHAKE_RESPONSE="HTTP/1.1 101 Switching Protocols\r\nUpgrade: websocket\r\nConnection: Upgrade\r\nSec-WebSocket-Accept: ",ERR_400="HTTP/1.1 400 Bad Request\r\n\r\n400 Bad Request",ERR_403="HTTP/1.1 403 Forbidden\r\n\r\n403 Forbidden",ERR_426="HTTP/1.1 426 Upgrade Required\r\n\r\n426 Upgrade Required";module.exports=exports=Rfc6455,util.inherits(Rfc6455,events.EventEmitter),Server.prototype.close=function(e){close.call(this,e,0)},Client.prototype.close=function(e){close.call(this,e,1)},Rfc6455.prototype.close=function(e){this.core.close(e)},Server.prototype.ping=function(e){ping.call(this,e,0)},Client.prototype.ping=function(e){ping.call(this,e,1)},Rfc6455.prototype.ping=function(e){this.core.ping(e)},Server.prototype.write=function(e){write.call(this,e,0)},Client.prototype.write=function(e){write.call(this,e,1)},Rfc6455.prototype.write=function(e){this.core.write(e)},Rfc6455.prototype.pong=Rfc6455.prototype.write,Server.prototype.parse=function(e){parse.call(this,e,1)},Client.prototype.parse=function(e){parse.call(this,e,0)},Rfc6455.prototype.parse=function(e){this.core.parse(e)},Rfc6455.prototype.handShake=function(){var e=this.core;e.handShake.apply(e,arguments)},Server.prototype.handShake=function(e,t,r){function n(){var e=o._options.validateOrigin;return"function"==typeof e?e(i):!0}var o=this.parent,i=e.headers;o.socket=t;var s,a=["host","sec-websocket-key","upgrade"];for(s=a.length;s--;)if(!(a[s]in i))return t.write(ERR_400);if("websocket"!==i.upgrade.toLowerCase())return t.write(ERR_400);if("13"!==i["sec-websocket-version"])return t.write(ERR_426);if(!0!==n())return t.write(ERR_403);i["sec-websocket-protocol"],i.cookie;var c=!0,p=function(){c&&(c=!1,o.emit("close"))},f=_hashAndEncode(i["sec-websocket-key"]);t.write(new Buffer(HANDSHAKE_RESPONSE+f+"\r\n\r\n")),process.nextTick(function(){t.on("close",p),t.on("end",p),t.on("data",function(e){o.parse(e)}),o.emit("connect",t)})},Client.prototype.handShake=function(e){function t(){var e,t=[];for(e=16;e--;)t.push(~~(256*Math.random()));return new Buffer(t).toString("base64")}var r=this.parent,n=URL.parse(e);r.URL=e;var o=r.secure="wss:"===n.protocol,i=n.pathname||"/";i+=(n.search||"").replace(/#/,"%23"),i+=n.hash||"";var s=t(),a={port:n.port||(o?443:80),host:n.hostname,path:i,headers:{Connection:"Upgrade",Upgrade:"websocket","Sec-Websocket-Key":s,"Sec-Websocket-Origin":"node-websockets","Sec-Websocket-Version":13}};o&&(a.key=r._options.key,a.cert=r._options.cert,a.ca=r._options.ca,a.rejectUnauthorized=r._options.rejectUnauthorized);var c,p=o?https:http;p.getAgent&&(c=p.getAgent(a.host,a.port),a.agent=c);var f=p.request(a);f.end(),c=c||f;var u=_hashAndEncode(s);c.on("upgrade",function(e,t,n){r.socket=t,t.on("close",function(e){r.emit("close",e)}),t.on("data",function(e){r.parse(e)});var o=e.statusCode;if(101!==o)return r.emit("_closing",o);var i=e.headers;return"websocket"!==i.upgrade||"Upgrade"!==i.connection?r.emit("error",new Error("Invalid Response Header")):i["sec-websocket-accept"]!==u?r.emit("error",new Error("Invalid Server Response")):void r.emit("connect",t)}),f.on("error",function(e){r.emit("error",e)})};var OPCODE={string:1,binary:2,close:8,ping:9,pong:10},ERR_CODE={1e3:"Normal Closure",1001:"Going Away",1002:"Protocol error",1003:"Unsupported Data",1004:"Frame Too Large",1005:"No Status Rcvd",1006:"Abnormal Closure",1007:"Invalid UTF-8"},BUFFER_SIZE=2e6;

},{"crypto":false,"events":false,"http":false,"https":false,"url":false,"util":false}],"/home/vadzim/v/work/nerojs/node_modules/websockets/lib/websockets/socket.js":[function(require,module,exports){
function WebSocket(){var e=this;events.EventEmitter.call(e),e.readyState=STATE.CONNECTING,e.on("error",function(t){e.close(t&&t.message),"function"==typeof e.onerror&&e.onerror(t)}),e.on("close",function(){e.readyState=STATE.CLOSED,"function"==typeof e.onclose&&e.onclose()}),e.on("open",function(){e.readyState=STATE.OPEN,"function"==typeof e.onopen&&e.onopen()}),e.on("message",function(){"function"==typeof e.onmessage&&e.onmessage()}),e.on("_closing",function(t){e.readyState=STATE.CLOSING,process.nextTick(function(){close.call(e,t)})}),e.on("connect",function(){e.emit("open")});var t=arguments;process.nextTick(function(){handShake.apply(e,t)})}function handShake(){for(var e=this,t=arguments[0],o=arguments[1],n=arguments[2],r=arguments[3],c=_getProtocol.apply(null,arguments),s=e.protocol=new c(t,o,n,r),i=length,a=EVTS;i--;)_bubbling(a[i],s,e);e.on("connect",function(t){e.secure=!!t.encrypted;var o=t.socket||t;o.setTimeout(0),o.setNoDelay(!0),o.setKeepAlive(!0,0)}),s.handShake.apply(s,arguments)}function close(e){var t=this,o=t.protocol;t.send=function(){},o.close(e)}function _bubbling(e,t,o){t.on(e,function(){var t=Array.prototype.slice.call(arguments);t.unshift(e),o.emit.apply(o,t)})}function _getProtocol(e){if("string"==typeof e)return require("./rfc6455");var t=e.headers,o=t["sec-websocket-version"];return require("8"===o?"./draft-10":t["sec-websocket-key1"]&&t["sec-websocket-key2"]?"./draft-00":"./rfc6455")}var util=require("util"),events=require("events"),crypto=require("crypto"),fs=require("fs"),URL=require("url"),path=require("path"),STATE={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3};module.exports=exports=WebSocket;var EVTS=["close","_closing","connect","error","message"],length=EVTS.length;util.inherits(WebSocket,events.EventEmitter),WebSocket.prototype.send=function(){var e=this.protocol;e.write.apply(e,arguments)},WebSocket.prototype.close=function(e){this.emit("_closing")},WebSocket.prototype.addEventListener=WebSocket.prototype.addListener;

},{"./rfc6455":"/home/vadzim/v/work/nerojs/node_modules/websockets/lib/websockets/rfc6455.js","crypto":false,"events":false,"fs":false,"path":false,"url":false,"util":false}],"/home/vadzim/v/work/nerojs/node_modules/yamljs/lib/Dumper.js":[function(require,module,exports){
var Dumper,Inline,Utils;Utils=require("./Utils"),Inline=require("./Inline"),Dumper=function(){function n(){}return n.indentation=4,n.prototype.dump=function(n,t,e,i,l){var u,o,r,s,p,f,m;if(null==t&&(t=0),null==e&&(e=0),null==i&&(i=!1),null==l&&(l=null),o="",r=e?Utils.strRepeat(" ",e):"",0>=t||"object"!=typeof n||n instanceof Date||Utils.isEmpty(n))o+=r+Inline.dump(n,i,l);else if(n instanceof Array)for(f=0,m=n.length;m>f;f++)s=n[f],p=0>=t-1||"object"!=typeof s||Utils.isEmpty(s),o+=r+"-"+(p?" ":"\n")+this.dump(s,t-1,p?0:e+this.indentation,i,l)+(p?"\n":"");else for(u in n)s=n[u],p=0>=t-1||"object"!=typeof s||Utils.isEmpty(s),o+=r+Inline.dump(u,i,l)+":"+(p?" ":"\n")+this.dump(s,t-1,p?0:e+this.indentation,i,l)+(p?"\n":"");return o},n}(),module.exports=Dumper;

},{"./Inline":"/home/vadzim/v/work/nerojs/node_modules/yamljs/lib/Inline.js","./Utils":"/home/vadzim/v/work/nerojs/node_modules/yamljs/lib/Utils.js"}],"/home/vadzim/v/work/nerojs/node_modules/yamljs/lib/Escaper.js":[function(require,module,exports){
var Escaper,Pattern;Pattern=require("./Pattern"),Escaper=function(){function e(){}var E;return e.LIST_ESCAPEES=["\\\\",'\\"','"',"\x00","","","","","","","","\b","	","\n","","\f","\r","","","","","","","","","","","","","","","","","","",(E=String.fromCharCode)(133),E(160),E(8232),E(8233)],e.LIST_ESCAPED=['\\"',"\\\\",'\\"',"\\0","\\x01","\\x02","\\x03","\\x04","\\x05","\\x06","\\a","\\b","\\t","\\n","\\v","\\f","\\r","\\x0e","\\x0f","\\x10","\\x11","\\x12","\\x13","\\x14","\\x15","\\x16","\\x17","\\x18","\\x19","\\x1a","\\e","\\x1c","\\x1d","\\x1e","\\x1f","\\N","\\_","\\L","\\P"],e.MAPPING_ESCAPEES_TO_ESCAPED=function(){var E,t,n,r;for(t={},E=n=0,r=e.LIST_ESCAPEES.length;r>=0?r>n:n>r;E=r>=0?++n:--n)t[e.LIST_ESCAPEES[E]]=e.LIST_ESCAPED[E];return t}(),e.PATTERN_CHARACTERS_TO_ESCAPE=new Pattern("[\\x00-\\x1f]|Â|Â |â¨|â©"),e.PATTERN_MAPPING_ESCAPEES=new Pattern(e.LIST_ESCAPEES.join("|")),e.PATTERN_SINGLE_QUOTING=new Pattern("[\\s'\":{}[\\],&*#?]|^[-?|<>=!%@`]"),e.requiresDoubleQuoting=function(e){return this.PATTERN_CHARACTERS_TO_ESCAPE.test(e)},e.escapeWithDoubleQuotes=function(e){var E;return E=this.PATTERN_MAPPING_ESCAPEES.replace(e,function(e){return function(E){return e.MAPPING_ESCAPEES_TO_ESCAPED[E]}}(this)),'"'+E+'"'},e.requiresSingleQuoting=function(e){return this.PATTERN_SINGLE_QUOTING.test(e)},e.escapeWithSingleQuotes=function(e){return"'"+e.replace(/'/g,"''")+"'"},e}(),module.exports=Escaper;

},{"./Pattern":"/home/vadzim/v/work/nerojs/node_modules/yamljs/lib/Pattern.js"}],"/home/vadzim/v/work/nerojs/node_modules/yamljs/lib/Exception/DumpException.js":[function(require,module,exports){
var DumpException,__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var p in e)__hasProp.call(e,p)&&(t[p]=e[p]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};DumpException=function(t){function e(t,e,n){this.message=t,this.parsedLine=e,this.snippet=n}return __extends(e,t),e.prototype.toString=function(){return null!=this.parsedLine&&null!=this.snippet?"<DumpException> "+this.message+" (line "+this.parsedLine+": '"+this.snippet+"')":"<DumpException> "+this.message},e}(Error),module.exports=DumpException;

},{}],"/home/vadzim/v/work/nerojs/node_modules/yamljs/lib/Exception/ParseException.js":[function(require,module,exports){
var ParseException,__hasProp={}.hasOwnProperty,__extends=function(t,e){function s(){this.constructor=t}for(var n in e)__hasProp.call(e,n)&&(t[n]=e[n]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t};ParseException=function(t){function e(t,e,s){this.message=t,this.parsedLine=e,this.snippet=s}return __extends(e,t),e.prototype.toString=function(){return null!=this.parsedLine&&null!=this.snippet?"<ParseException> "+this.message+" (line "+this.parsedLine+": '"+this.snippet+"')":"<ParseException> "+this.message},e}(Error),module.exports=ParseException;

},{}],"/home/vadzim/v/work/nerojs/node_modules/yamljs/lib/Inline.js":[function(require,module,exports){
var DumpException,Escaper,Inline,ParseException,Pattern,Unescaper,Utils,__indexOf=[].indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(t in this&&this[t]===e)return t;return-1};Pattern=require("./Pattern"),Unescaper=require("./Unescaper"),Escaper=require("./Escaper"),Utils=require("./Utils"),ParseException=require("./Exception/ParseException"),DumpException=require("./Exception/DumpException"),Inline=function(){function e(){}return e.REGEX_QUOTED_STRING="(?:\"(?:[^\"\\\\]*(?:\\\\.[^\"\\\\]*)*)\"|'(?:[^']*(?:''[^']*)*)')",e.PATTERN_TRAILING_COMMENTS=new Pattern("^\\s*#.*$"),e.PATTERN_QUOTED_SCALAR=new Pattern("^"+e.REGEX_QUOTED_STRING),e.PATTERN_THOUSAND_NUMERIC_SCALAR=new Pattern("^(-|\\+)?[0-9,]+(\\.[0-9]+)?$"),e.PATTERN_SCALAR_BY_DELIMITERS={},e.settings={},e.configure=function(e,t){null==e&&(e=null),null==t&&(t=null),this.settings.exceptionOnInvalidType=e,this.settings.objectDecoder=t},e.parse=function(e,t,i){var s,r;if(null==t&&(t=!1),null==i&&(i=null),this.settings.exceptionOnInvalidType=t,this.settings.objectDecoder=i,null==e)return"";if(e=Utils.trim(e),0===e.length)return"";switch(s={exceptionOnInvalidType:t,objectDecoder:i,i:0},e.charAt(0)){case"[":r=this.parseSequence(e,s),++s.i;break;case"{":r=this.parseMapping(e,s),++s.i;break;default:r=this.parseScalar(e,null,['"',"'"],s)}if(""!==this.PATTERN_TRAILING_COMMENTS.replace(e.slice(s.i),""))throw new ParseException('Unexpected characters near "'+e.slice(s.i)+'".');return r},e.dump=function(e,t,i){var s,r,n;return null==t&&(t=!1),null==i&&(i=null),null==e?"null":(r=typeof e,"object"===r?e instanceof Date?e.toISOString():null!=i&&(s=i(e),"string"==typeof s||null!=s)?s:this.dumpObject(e):"boolean"===r?e?"true":"false":Utils.isDigits(e)?"string"===r?"'"+e+"'":String(parseInt(e)):Utils.isNumeric(e)?"string"===r?"'"+e+"'":String(parseFloat(e)):"number"===r?e===1/0?".Inf":e===-(1/0)?"-.Inf":isNaN(e)?".NaN":e:Escaper.requiresDoubleQuoting(e)?Escaper.escapeWithDoubleQuotes(e):Escaper.requiresSingleQuoting(e)?Escaper.escapeWithSingleQuotes(e):""===e?'""':Utils.PATTERN_DATE.test(e)?"'"+e+"'":"null"===(n=e.toLowerCase())||"~"===n||"true"===n||"false"===n?"'"+e+"'":e)},e.dumpObject=function(e,t,i){var s,r,n,a,l;if(null==i&&(i=null),e instanceof Array){for(r=[],a=0,l=e.length;l>a;a++)n=e[a],r.push(this.dump(n));return"["+r.join(", ")+"]"}r=[];for(s in e)n=e[s],r.push(this.dump(s)+": "+this.dump(n));return"{"+r.join(", ")+"}"},e.parseScalar=function(e,t,i,s,r){var n,a,l,c,u,o,p,h,f;if(null==t&&(t=null),null==i&&(i=['"',"'"]),null==s&&(s=null),null==r&&(r=!0),null==s&&(s={exceptionOnInvalidType:this.settings.exceptionOnInvalidType,objectDecoder:this.settings.objectDecoder,i:0}),n=s.i,h=e.charAt(n),__indexOf.call(i,h)>=0){if(c=this.parseQuotedScalar(e,s),n=s.i,null!=t&&(p=Utils.ltrim(e.slice(n)," "),f=p.charAt(0),!(__indexOf.call(t,f)>=0)))throw new ParseException("Unexpected characters ("+e.slice(n)+").")}else{if(t){if(a=t.join("|"),u=this.PATTERN_SCALAR_BY_DELIMITERS[a],null==u&&(u=new Pattern("^(.+?)("+a+")"),this.PATTERN_SCALAR_BY_DELIMITERS[a]=u),!(l=u.exec(e.slice(n))))throw new ParseException("Malformed inline YAML string ("+e+").");c=l[1],n+=c.length}else c=e.slice(n),n+=c.length,o=c.indexOf(" #"),-1!==o&&(c=Utils.rtrim(c.slice(0,o)));r&&(c=this.evaluateScalar(c,s))}return s.i=n,c},e.parseQuotedScalar=function(e,t){var i,s,r;if(i=t.i,!(s=this.PATTERN_QUOTED_SCALAR.exec(e.slice(i))))throw new ParseException("Malformed inline YAML string ("+e.slice(i)+").");return r=s[0].substr(1,s[0].length-2),r='"'===e.charAt(i)?Unescaper.unescapeDoubleQuotedString(r):Unescaper.unescapeSingleQuotedString(r),i+=s[0].length,t.i=i,r},e.parseSequence=function(e,t){var i,s,r,n,a,l,c;for(a=[],n=e.length,s=t.i,s+=1;n>s;){switch(t.i=s,e.charAt(s)){case"[":a.push(this.parseSequence(e,t)),s=t.i;break;case"{":a.push(this.parseMapping(e,t)),s=t.i;break;case"]":return a;case",":case" ":case"\n":break;default:if(r='"'===(c=e.charAt(s))||"'"===c,l=this.parseScalar(e,[",","]"],['"',"'"],t),s=t.i,!r&&"string"==typeof l&&(-1!==l.indexOf(": ")||-1!==l.indexOf(":\n")))try{l=this.parseMapping("{"+l+"}")}catch(u){i=u}a.push(l),--s}++s}throw new ParseException("Malformed inline YAML string "+e)},e.parseMapping=function(e,t){var i,s,r,n,a,l,c,u;for(l={},a=e.length,r=t.i,r+=1,c=!1;a>r;){switch(t.i=r,e.charAt(r)){case" ":case",":case"\n":++r,t.i=r,c=!0;break;case"}":return l}if(c)c=!1;else for(n=this.parseScalar(e,[":"," ","\n"],['"',"'"],t,!1),r=t.i,s=!1;a>r;){switch(t.i=r,e.charAt(r)){case"[":u=this.parseSequence(e,t),r=t.i,void 0===l[n]&&(l[n]=u),s=!0;break;case"{":i=this.parseMapping(e,t),r=t.i,void 0===l[n]&&(l[n]=u),s=!0;break;case":":case" ":case"\n":break;default:u=this.parseScalar(e,[",","}"],['"',"'"],t),r=t.i,void 0===l[n]&&(l[n]=u),s=!0,--r}if(++r,s)break}}throw new ParseException("Malformed inline YAML string "+e)},e.evaluateScalar=function(e,t){var i,s,r,n,a,l,c,u,o,p,h;switch(e=Utils.trim(e),o=e.toLowerCase()){case"null":case"":case"~":return null;case"true":return!0;case"false":return!1;case".inf":return 1/0;case".nan":return NaN;case"-.inf":return 1/0;default:switch(n=o.charAt(0)){case"!":switch(a=e.indexOf(" "),l=-1===a?o:o.slice(0,a)){case"!":return-1!==a?parseInt(this.parseScalar(e.slice(2))):null;case"!str":return Utils.ltrim(e.slice(4));case"!!str":return Utils.ltrim(e.slice(5));case"!!int":return parseInt(this.parseScalar(e.slice(5)));case"!!bool":return Utils.parseBoolean(this.parseScalar(e.slice(6)),!1);case"!!float":return parseFloat(this.parseScalar(e.slice(7)));case"!!timestamp":return Utils.stringToDate(Utils.ltrim(e.slice(11)));default:if(null==t&&(t={exceptionOnInvalidType:this.settings.exceptionOnInvalidType,objectDecoder:this.settings.objectDecoder,i:0}),c=t.objectDecoder,r=t.exceptionOnInvalidType,c)return h=Utils.rtrim(e),a=h.indexOf(" "),-1===a?c(h,null):(p=Utils.ltrim(h.slice(a+1)),p.length>0||(p=null),c(h.slice(0,a),p));if(r)throw new ParseException("Custom object support when parsing a YAML file has been disabled.");return null}break;case"0":return"0x"===e.slice(0,2)?Utils.hexDec(e):Utils.isDigits(e)?Utils.octDec(e):Utils.isNumeric(e)?parseFloat(e):e;case"+":return Utils.isDigits(e)?(u=e,i=parseInt(u),u===String(i)?i:u):Utils.isNumeric(e)?parseFloat(e):this.PATTERN_THOUSAND_NUMERIC_SCALAR.test(e)?parseFloat(e.replace(",","")):e;case"-":return Utils.isDigits(e.slice(1))?"0"===e.charAt(1)?-Utils.octDec(e.slice(1)):(u=e.slice(1),i=parseInt(u),u===String(i)?-i:-u):Utils.isNumeric(e)?parseFloat(e):this.PATTERN_THOUSAND_NUMERIC_SCALAR.test(e)?parseFloat(e.replace(",","")):e;default:return(s=Utils.stringToDate(e))?s:Utils.isNumeric(e)?parseFloat(e):this.PATTERN_THOUSAND_NUMERIC_SCALAR.test(e)?parseFloat(e.replace(",","")):e}}},e}(),module.exports=Inline;

},{"./Escaper":"/home/vadzim/v/work/nerojs/node_modules/yamljs/lib/Escaper.js","./Exception/DumpException":"/home/vadzim/v/work/nerojs/node_modules/yamljs/lib/Exception/DumpException.js","./Exception/ParseException":"/home/vadzim/v/work/nerojs/node_modules/yamljs/lib/Exception/ParseException.js","./Pattern":"/home/vadzim/v/work/nerojs/node_modules/yamljs/lib/Pattern.js","./Unescaper":"/home/vadzim/v/work/nerojs/node_modules/yamljs/lib/Unescaper.js","./Utils":"/home/vadzim/v/work/nerojs/node_modules/yamljs/lib/Utils.js"}],"/home/vadzim/v/work/nerojs/node_modules/yamljs/lib/Parser.js":[function(require,module,exports){
var Inline,ParseException,Parser,Pattern,Utils;Inline=require("./Inline"),Pattern=require("./Pattern"),Utils=require("./Utils"),ParseException=require("./Exception/ParseException"),Parser=function(){function e(e){this.offset=null!=e?e:0,this.lines=[],this.currentLineNb=-1,this.currentLine="",this.refs={}}return e.prototype.PATTERN_FOLDED_SCALAR_ALL=new Pattern("^(?:(?<type>![^\\|>]*)\\s+)?(?<separator>\\||>)(?<modifiers>\\+|\\-|\\d+|\\+\\d+|\\-\\d+|\\d+\\+|\\d+\\-)?(?<comments> +#.*)?$"),e.prototype.PATTERN_FOLDED_SCALAR_END=new Pattern("(?<separator>\\||>)(?<modifiers>\\+|\\-|\\d+|\\+\\d+|\\-\\d+|\\d+\\+|\\d+\\-)?(?<comments> +#.*)?$"),e.prototype.PATTERN_SEQUENCE_ITEM=new Pattern("^\\-((?<leadspaces>\\s+)(?<value>.+?))?\\s*$"),e.prototype.PATTERN_ANCHOR_VALUE=new Pattern("^&(?<ref>[^ ]+) *(?<value>.*)"),e.prototype.PATTERN_COMPACT_NOTATION=new Pattern("^(?<key>"+Inline.REGEX_QUOTED_STRING+"|[^ '\"\\{\\[].*?) *\\:(\\s+(?<value>.+?))?\\s*$"),e.prototype.PATTERN_MAPPING_ITEM=new Pattern("^(?<key>"+Inline.REGEX_QUOTED_STRING+"|[^ '\"\\[\\{].*?) *\\:(\\s+(?<value>.+?))?\\s*$"),e.prototype.PATTERN_DECIMAL=new Pattern("\\d+"),e.prototype.PATTERN_INDENT_SPACES=new Pattern("^ +"),e.prototype.PATTERN_TRAILING_LINES=new Pattern("(\n*)$"),e.prototype.PATTERN_YAML_HEADER=new Pattern("^\\%YAML[: ][\\d\\.]+.*\n"),e.prototype.PATTERN_LEADING_COMMENTS=new Pattern("^(\\#.*?\n)+"),e.prototype.PATTERN_DOCUMENT_MARKER_START=new Pattern("^\\-\\-\\-.*?\n"),e.prototype.PATTERN_DOCUMENT_MARKER_END=new Pattern("^\\.\\.\\.\\s*$"),e.prototype.PATTERN_FOLDED_SCALAR_BY_INDENTATION={},e.prototype.CONTEXT_NONE=0,e.prototype.CONTEXT_SEQUENCE=1,e.prototype.CONTEXT_MAPPING=2,e.prototype.parse=function(t,n,i){var r,s,o,l,u,h,a,c,p,L,N,E,f,T,A,d,C,P,_,R,I,m,v,y,g,x,b,w,O,U,S,D,M,k,B,G;for(null==n&&(n=!1),null==i&&(i=null),this.currentLineNb=-1,this.currentLine="",this.lines=this.cleanup(t).split("\n"),h=null,u=this.CONTEXT_NONE,s=!1;this.moveToNextLine();)if(!this.isCurrentLineEmpty()){if("	"===this.currentLine[0])throw new ParseException("A YAML file cannot contain tabs as indentation.",this.getRealCurrentLineNb()+1,this.currentLine);if(N=C=!1,y=this.PATTERN_SEQUENCE_ITEM.exec(this.currentLine)){if(this.CONTEXT_MAPPING===u)throw new ParseException("You cannot define a sequence item when in a mapping");u=this.CONTEXT_SEQUENCE,null==h&&(h=[]),null!=y.value&&(d=this.PATTERN_ANCHOR_VALUE.exec(y.value))&&(N=d.ref,y.value=d.value),null==y.value||""===Utils.trim(y.value," ")||0===Utils.ltrim(y.value," ").indexOf("#")?this.currentLineNb<this.lines.length-1&&!this.isNextLineUnIndentedCollection()?(l=this.getRealCurrentLineNb()+1,R=new e(l),R.refs=this.refs,h.push(R.parse(this.getNextEmbedBlock(null,!0),n,i))):h.push(null):(null!=(k=y.leadspaces)?k.length:void 0)&&(d=this.PATTERN_COMPACT_NOTATION.exec(y.value))?(l=this.getRealCurrentLineNb(),R=new e(l),R.refs=this.refs,o=y.value,L=this.getCurrentLineIndentation(),this.isNextLineIndented(!1)&&(o+="\n"+this.getNextEmbedBlock(L+y.leadspaces.length+1,!0)),h.push(R.parse(o,n,i))):h.push(this.parseValue(y.value,n,i))}else{if(!(y=this.PATTERN_MAPPING_ITEM.exec(this.currentLine))||-1!==y.key.indexOf(" #")){if(A=this.lines.length,1===A||2===A&&Utils.isEmpty(this.lines[1])){try{t=Inline.parse(this.lines[0],n,i)}catch(Y){throw a=Y,a.parsedLine=this.getRealCurrentLineNb()+1,a.snippet=this.currentLine,a}if("object"==typeof t){if(t instanceof Array)c=t[0];else for(f in t){c=t[f];break}if("string"==typeof c&&0===c.indexOf("*")){for(h=[],w=0,D=t.length;D>w;w++)r=t[w],h.push(this.refs[r.slice(1)]);t=h}}return t}if("["===(G=Utils.ltrim(t).charAt(0))||"{"===G)try{return Inline.parse(t,n,i)}catch(Y){throw a=Y,a.parsedLine=this.getRealCurrentLineNb()+1,a.snippet=this.currentLine,a}throw new ParseException("Unable to parse.",this.getRealCurrentLineNb()+1,this.currentLine)}if(this.CONTEXT_SEQUENCE===u)throw new ParseException("You cannot define a mapping item when in a sequence");u=this.CONTEXT_MAPPING,null==h&&(h={}),Inline.configure(n,i);try{f=Inline.parseScalar(y.key)}catch(Y){throw a=Y,a.parsedLine=this.getRealCurrentLineNb()+1,a.snippet=this.currentLine,a}if("<<"===f)if(C=!0,s=!0,0===(null!=(B=y.value)?B.indexOf("*"):void 0)){if(I=y.value.slice(1),null==this.refs[I])throw new ParseException('Reference "'+I+'" does not exist.',this.getRealCurrentLineNb()+1,this.currentLine);if(m=this.refs[I],"object"!=typeof m)throw new ParseException("YAML merge keys used with a scalar value instead of an object.",this.getRealCurrentLineNb()+1,this.currentLine);if(m instanceof Array)for(p=g=0,O=m.length;O>g;p=++g)t=m[p],null==h[M=String(p)]&&(h[M]=t);else for(f in m)t=m[f],null==h[f]&&(h[f]=t)}else{if(t=null!=y.value&&""!==y.value?y.value:this.getNextEmbedBlock(),l=this.getRealCurrentLineNb()+1,R=new e(l),R.refs=this.refs,P=R.parse(t,n),"object"!=typeof P)throw new ParseException("YAML merge keys used with a scalar value instead of an object.",this.getRealCurrentLineNb()+1,this.currentLine);if(P instanceof Array)for(x=0,U=P.length;U>x;x++){if(_=P[x],"object"!=typeof _)throw new ParseException("Merge items must be objects.",this.getRealCurrentLineNb()+1,_);if(_ instanceof Array)for(p=b=0,S=_.length;S>b;p=++b)t=_[p],E=String(p),h.hasOwnProperty(E)||(h[E]=t);else for(f in _)t=_[f],h.hasOwnProperty(f)||(h[f]=t)}else for(f in P)t=P[f],h.hasOwnProperty(f)||(h[f]=t)}else null!=y.value&&(d=this.PATTERN_ANCHOR_VALUE.exec(y.value))&&(N=d.ref,y.value=d.value);C||(null==y.value||""===Utils.trim(y.value," ")||0===Utils.ltrim(y.value," ").indexOf("#")?this.isNextLineIndented()||this.isNextLineUnIndentedCollection()?(l=this.getRealCurrentLineNb()+1,R=new e(l),R.refs=this.refs,v=R.parse(this.getNextEmbedBlock(),n,i),(s||void 0===h[f])&&(h[f]=v)):(s||void 0===h[f])&&(h[f]=null):(v=this.parseValue(y.value,n,i),(s||void 0===h[f])&&(h[f]=v)))}if(N)if(h instanceof Array)this.refs[N]=h[h.length-1];else{T=null;for(f in h)T=f;this.refs[N]=h[T]}}return Utils.isEmpty(h)?null:h},e.prototype.getRealCurrentLineNb=function(){return this.currentLineNb+this.offset},e.prototype.getCurrentLineIndentation=function(){return this.currentLine.length-Utils.ltrim(this.currentLine," ").length},e.prototype.getNextEmbedBlock=function(e,t){var n,i,r,s,o,l,u;if(null==e&&(e=null),null==t&&(t=!1),this.moveToNextLine(),null==e){if(s=this.getCurrentLineIndentation(),u=this.isStringUnIndentedCollectionItem(this.currentLine),!this.isCurrentLineEmpty()&&0===s&&!u)throw new ParseException("Indentation problem.",this.getRealCurrentLineNb()+1,this.currentLine)}else s=e;for(n=[this.currentLine.slice(s)],t||(r=this.isStringUnIndentedCollectionItem(this.currentLine)),l=this.PATTERN_FOLDED_SCALAR_END,o=!l.test(this.currentLine);this.moveToNextLine();){if(i=this.getCurrentLineIndentation(),i===s&&(o=!l.test(this.currentLine)),r&&!this.isStringUnIndentedCollectionItem(this.currentLine)&&i===s){this.moveToPreviousLine();break}if(this.isCurrentLineBlank())n.push(this.currentLine.slice(s));else if(!o||!this.isCurrentLineComment()||i!==s){if(!(i>=s)){if(0===i){this.moveToPreviousLine();break}throw new ParseException("Indentation problem.",this.getRealCurrentLineNb()+1,this.currentLine)}n.push(this.currentLine.slice(s))}}return n.join("\n")},e.prototype.moveToNextLine=function(){return this.currentLineNb>=this.lines.length-1?!1:(this.currentLine=this.lines[++this.currentLineNb],!0)},e.prototype.moveToPreviousLine=function(){this.currentLine=this.lines[--this.currentLineNb]},e.prototype.parseValue=function(e,t,n){var i,r,s,o,l,u,h,a;if(0===e.indexOf("*")){if(l=e.indexOf("#"),e=-1!==l?e.substr(1,l-2):e.slice(1),void 0===this.refs[e])throw new ParseException('Reference "'+e+'" does not exist.',this.currentLine);return this.refs[e]}if(s=this.PATTERN_FOLDED_SCALAR_ALL.exec(e))return o=null!=(h=s.modifiers)?h:"",r=Math.abs(parseInt(o)),isNaN(r)&&(r=0),u=this.parseFoldedScalar(s.separator,this.PATTERN_DECIMAL.replace(o,""),r),null!=s.type?(Inline.configure(t,n),Inline.parseScalar(s.type+" "+u)):u;try{return Inline.parse(e,t,n)}catch(c){if(i=c,"["!==(a=e.charAt(0))&&"{"!==a||!(i instanceof ParseException)||!this.isNextLineIndented())throw i.parsedLine=this.getRealCurrentLineNb()+1,i.snippet=this.currentLine,i;e+="\n"+this.getNextEmbedBlock();try{return Inline.parse(e,t,n)}catch(c){throw i=c,i.parsedLine=this.getRealCurrentLineNb()+1,i.snippet=this.currentLine,i}}},e.prototype.parseFoldedScalar=function(t,n,i){var r,s,o,l,u,h,a,c,p,L;if(null==n&&(n=""),null==i&&(i=0),u=this.moveToNextLine(),!u)return"";for(r=this.isCurrentLineBlank(),a="";u&&r;)(u=this.moveToNextLine())&&(a+="\n",r=this.isCurrentLineBlank());if(0===i&&(o=this.PATTERN_INDENT_SPACES.exec(this.currentLine))&&(i=o[0].length),i>0)for(h=this.PATTERN_FOLDED_SCALAR_BY_INDENTATION[i],null==h&&(h=new Pattern("^ {"+i+"}(.*)$"),e.prototype.PATTERN_FOLDED_SCALAR_BY_INDENTATION[i]=h);u&&(r||(o=h.exec(this.currentLine)));)a+=r?this.currentLine.slice(i):o[1],(u=this.moveToNextLine())&&(a+="\n",r=this.isCurrentLineBlank());else u&&(a+="\n");if(u&&this.moveToPreviousLine(),">"===t){for(l="",L=a.split("\n"),c=0,p=L.length;p>c;c++)s=L[c],0===s.length||" "===s.charAt(0)?l=Utils.rtrim(l," ")+s+"\n":l+=s+" ";a=l}return"+"!==n&&(a=Utils.rtrim(a)),""===n?a=this.PATTERN_TRAILING_LINES.replace(a,"\n"):"-"===n&&(a=this.PATTERN_TRAILING_LINES.replace(a,"")),a},e.prototype.isNextLineIndented=function(e){var t,n,i;if(null==e&&(e=!0),n=this.getCurrentLineIndentation(),t=!this.moveToNextLine(),e)for(;!t&&this.isCurrentLineEmpty();)t=!this.moveToNextLine();else for(;!t&&this.isCurrentLineBlank();)t=!this.moveToNextLine();return t?!1:(i=!1,this.getCurrentLineIndentation()>n&&(i=!0),this.moveToPreviousLine(),i)},e.prototype.isCurrentLineEmpty=function(){var e;return e=Utils.trim(this.currentLine," "),0===e.length||"#"===e.charAt(0)},e.prototype.isCurrentLineBlank=function(){return""===Utils.trim(this.currentLine," ")},e.prototype.isCurrentLineComment=function(){var e;return e=Utils.ltrim(this.currentLine," "),"#"===e.charAt(0)},e.prototype.cleanup=function(e){var t,n,i,r,s;return-1!==e.indexOf("\r")&&(e=e.split("\r\n").join("\n").split("\r").join("\n")),t=0,i=this.PATTERN_YAML_HEADER.replaceAll(e,""),e=i[0],t=i[1],this.offset+=t,r=this.PATTERN_LEADING_COMMENTS.replaceAll(e,"",1),n=r[0],t=r[1],1===t&&(this.offset+=Utils.subStrCount(e,"\n")-Utils.subStrCount(n,"\n"),e=n),s=this.PATTERN_DOCUMENT_MARKER_START.replaceAll(e,"",1),n=s[0],t=s[1],1===t&&(this.offset+=Utils.subStrCount(e,"\n")-Utils.subStrCount(n,"\n"),e=n,e=this.PATTERN_DOCUMENT_MARKER_END.replace(e,"")),e},e.prototype.isNextLineUnIndentedCollection=function(e){var t,n;for(null==e&&(e=null),null==e&&(e=this.getCurrentLineIndentation()),t=this.moveToNextLine();t&&this.isCurrentLineEmpty();)t=this.moveToNextLine();return!1===t?!1:(n=!1,this.getCurrentLineIndentation()===e&&this.isStringUnIndentedCollectionItem(this.currentLine)&&(n=!0),this.moveToPreviousLine(),n)},e.prototype.isStringUnIndentedCollectionItem=function(){return"-"===this.currentLine||"- "===this.currentLine.slice(0,2)},e}(),module.exports=Parser;

},{"./Exception/ParseException":"/home/vadzim/v/work/nerojs/node_modules/yamljs/lib/Exception/ParseException.js","./Inline":"/home/vadzim/v/work/nerojs/node_modules/yamljs/lib/Inline.js","./Pattern":"/home/vadzim/v/work/nerojs/node_modules/yamljs/lib/Pattern.js","./Utils":"/home/vadzim/v/work/nerojs/node_modules/yamljs/lib/Utils.js"}],"/home/vadzim/v/work/nerojs/node_modules/yamljs/lib/Pattern.js":[function(require,module,exports){
var Pattern;Pattern=function(){function e(e,t){var r,n,l,i,s,p,a,o,g;for(null==t&&(t=""),l="",s=e.length,p=null,r=0,i=0;s>i;){if(n=e.charAt(i),"\\"===n)l+=e.slice(i,+(i+1)+1||9e9),i++;else if("("===n)if(s-2>i)if(o=e.slice(i,+(i+2)+1||9e9),"(?:"===o)i+=2,l+=o;else if("(?<"===o)for(r++,i+=2,a="";s>i+1;){if(g=e.charAt(i+1),">"===g){l+="(",i++,a.length>0&&(null==p&&(p={}),p[a]=r);break}a+=g,i++}else l+=n,r++;else l+=n;else l+=n;i++}this.rawRegex=e,this.cleanedRegex=l,this.regex=new RegExp(this.cleanedRegex,"g"+t.replace("g","")),this.mapping=p}return e.prototype.regex=null,e.prototype.rawRegex=null,e.prototype.cleanedRegex=null,e.prototype.mapping=null,e.prototype.exec=function(e){var t,r,n,l;if(this.regex.lastIndex=0,r=this.regex.exec(e),null==r)return null;if(null!=this.mapping){l=this.mapping;for(n in l)t=l[n],r[n]=r[t]}return r},e.prototype.test=function(e){return this.regex.lastIndex=0,this.regex.test(e)},e.prototype.replace=function(e,t){return this.regex.lastIndex=0,e.replace(this.regex,t)},e.prototype.replaceAll=function(e,t,r){var n;for(null==r&&(r=0),this.regex.lastIndex=0,n=0;this.regex.test(e)&&(0===r||r>n);)this.regex.lastIndex=0,e=e.replace(this.regex,""),n++;return[e,n]},e}(),module.exports=Pattern;

},{}],"/home/vadzim/v/work/nerojs/node_modules/yamljs/lib/Unescaper.js":[function(require,module,exports){
var Pattern,Unescaper,Utils;Utils=require("./Utils"),Pattern=require("./Pattern"),Unescaper=function(){function e(){}return e.PATTERN_ESCAPED_CHARACTER=new Pattern('\\\\([0abt	nvfre "\\/\\\\N_LP]|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|U[0-9a-fA-F]{8})'),e.unescapeSingleQuotedString=function(e){return e.replace("''","'")},e.unescapeDoubleQuotedString=function(e){return null==this._unescapeCallback&&(this._unescapeCallback=function(e){return function(r){return e.unescapeCharacter(r)}}(this)),this.PATTERN_ESCAPED_CHARACTER.replace(e,this._unescapeCallback)},e.unescapeCharacter=function(e){var r;switch(r=String.fromCharCode,e.charAt(1)){case"0":return r(0);case"a":return r(7);case"b":return r(8);case"t":return"	";case"	":return"	";case"n":return"\n";case"v":return r(11);case"f":return r(12);case"r":return r(13);case"e":return r(27);case" ":return" ";case'"':return'"';case"/":return"/";case"\\":return"\\";case"N":return r(133);case"_":return r(160);case"L":return r(8232);case"P":return r(8233);case"x":return Utils.utf8chr(Utils.hexDec(e.substr(2,2)));case"u":return Utils.utf8chr(Utils.hexDec(e.substr(2,4)));case"U":return Utils.utf8chr(Utils.hexDec(e.substr(2,8)));default:return""}},e}(),module.exports=Unescaper;

},{"./Pattern":"/home/vadzim/v/work/nerojs/node_modules/yamljs/lib/Pattern.js","./Utils":"/home/vadzim/v/work/nerojs/node_modules/yamljs/lib/Utils.js"}],"/home/vadzim/v/work/nerojs/node_modules/yamljs/lib/Utils.js":[function(require,module,exports){
var Pattern,Utils;Pattern=require("./Pattern"),Utils=function(){function t(){}return t.REGEX_LEFT_TRIM_BY_CHAR={},t.REGEX_RIGHT_TRIM_BY_CHAR={},t.REGEX_SPACES=/\s+/g,t.REGEX_DIGITS=/^\d+$/,t.REGEX_OCTAL=/[^0-7]/gi,t.REGEX_HEXADECIMAL=/[^a-f0-9]/gi,t.PATTERN_DATE=new Pattern("^(?<year>[0-9][0-9][0-9][0-9])-(?<month>[0-9][0-9]?)-(?<day>[0-9][0-9]?)(?:(?:[Tt]|[ 	]+)(?<hour>[0-9][0-9]?):(?<minute>[0-9][0-9]):(?<second>[0-9][0-9])(?:.(?<fraction>[0-9]*))?(?:[ 	]*(?<tz>Z|(?<tz_sign>[-+])(?<tz_hour>[0-9][0-9]?)(?::(?<tz_minute>[0-9][0-9]))?))?)?$","i"),t.LOCAL_TIMEZONE_OFFSET=60*(new Date).getTimezoneOffset()*1e3,t.trim=function(t,n){return null==n&&(n="\\s"),t.trim()},t.ltrim=function(t,n){var e;return null==n&&(n="\\s"),e=this.REGEX_LEFT_TRIM_BY_CHAR[n],null==e&&(this.REGEX_LEFT_TRIM_BY_CHAR[n]=e=new RegExp("^"+n+n+"*")),e.lastIndex=0,t.replace(e,"")},t.rtrim=function(t,n){var e;return null==n&&(n="\\s"),e=this.REGEX_RIGHT_TRIM_BY_CHAR[n],null==e&&(this.REGEX_RIGHT_TRIM_BY_CHAR[n]=e=new RegExp(n+""+n+"*$")),e.lastIndex=0,t.replace(e,"")},t.isEmpty=function(t){return!t||""===t||"0"===t},t.subStrCount=function(t,n,e,r){var i,l,u,s,a;for(i=0,t=""+t,n=""+n,null!=e&&(t=t.slice(e)),null!=r&&(t=t.slice(0,r)),u=t.length,s=n.length,l=a=0;u>=0?u>a:a>u;l=u>=0?++a:--a)n===t.slice(l,s)&&(i++,l+=s-1);return i},t.isDigits=function(t){return this.REGEX_DIGITS.lastIndex=0,this.REGEX_DIGITS.test(t)},t.octDec=function(t){return this.REGEX_OCTAL.lastIndex=0,parseInt((t+"").replace(this.REGEX_OCTAL,""),8)},t.hexDec=function(t){return this.REGEX_HEXADECIMAL.lastIndex=0,t=this.trim(t),"0x"===(t+"").slice(0,2)&&(t=(t+"").slice(2)),parseInt((t+"").replace(this.REGEX_HEXADECIMAL,""),16)},t.utf8chr=function(t){var n;return n=String.fromCharCode,128>(t%=2097152)?n(t):2048>t?n(192|t>>6)+n(128|63&t):65536>t?n(224|t>>12)+n(128|t>>6&63)+n(128|63&t):n(240|t>>18)+n(128|t>>12&63)+n(128|t>>6&63)+n(128|63&t)},t.parseBoolean=function(t,n){var e;return null==n&&(n=!0),"string"==typeof t?(e=t.toLowerCase(),n||"no"!==e?"0"===e?!1:"false"===e?!1:""===e?!1:!0:!1):!!t},t.isNumeric=function(t){return this.REGEX_SPACES.lastIndex=0,"number"==typeof t||"string"==typeof t&&!isNaN(t)&&""!==t.replace(this.REGEX_SPACES,"")},t.stringToDate=function(t){var n,e,r,i,l,u,s,a,o,E,c,_;if(!(null!=t?t.length:void 0))return null;if(l=this.PATTERN_DATE.exec(t),!l)return null;if(_=parseInt(l.year,10),s=parseInt(l.month,10)-1,e=parseInt(l.day,10),null==l.hour)return n=new Date(Date.UTC(_,s,e));if(i=parseInt(l.hour,10),u=parseInt(l.minute,10),a=parseInt(l.second,10),null!=l.fraction){for(r=l.fraction.slice(0,3);r.length<3;)r+="0";r=parseInt(r,10)}else r=0;return null!=l.tz&&(o=parseInt(l.tz_hour,10),E=null!=l.tz_minute?parseInt(l.tz_minute,10):0,c=6e4*(60*o+E),"-"===l.tz_sign&&(c*=-1)),n=new Date(Date.UTC(_,s,e,i,u,a,r)),c&&n.setTime(n.getTime()+c),n},t.strRepeat=function(t,n){var e,r;for(r="",e=0;n>e;)r+=t,e++;return r},t.getStringFromFile=function(t,n){var e,r,i,l,u,s,a,o;if(null==n&&(n=null),u=null,"undefined"!=typeof window&&null!==window)if(window.XMLHttpRequest)u=new XMLHttpRequest;else if(window.ActiveXObject)for(o=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Msxml2.XMLHTTP","Microsoft.XMLHTTP"],s=0,a=o.length;a>s;s++){i=o[s];try{u=new ActiveXObject(i)}catch(E){}}return null!=u?null!=n?(u.onreadystatechange=function(){return 4===u.readyState?n(200===u.status||0===u.status?u.responseText:null):void 0},u.open("GET",t,!0),u.send(null)):(u.open("GET",t,!1),u.send(null),200===u.status||0===u.status?u.responseText:null):(l=require,r=l("fs"),null!=n?r.readFile(t,function(t,e){return n(t?null:String(e))}):(e=r.readFileSync(t),null!=e?String(e):null))},t}(),module.exports=Utils;

},{"./Pattern":"/home/vadzim/v/work/nerojs/node_modules/yamljs/lib/Pattern.js"}],"/home/vadzim/v/work/nerojs/node_modules/yamljs/lib/Yaml.js":[function(require,module,exports){
var Dumper,Parser,Utils,Yaml;Parser=require("./Parser"),Dumper=require("./Dumper"),Utils=require("./Utils"),Yaml=function(){function n(){}return n.parse=function(n,e,r){return null==e&&(e=!1),null==r&&(r=null),(new Parser).parse(n,e,r)},n.parseFile=function(n,e,r,l){var u;return null==e&&(e=null),null==r&&(r=!1),null==l&&(l=null),null!=e?Utils.getStringFromFile(n,function(n){return function(u){var i;i=null,null!=u&&(i=n.parse(u,r,l)),e(i)}}(this)):(u=Utils.getStringFromFile(n),null!=u?this.parse(u,r,l):null)},n.dump=function(n,e,r,l,u){var i;return null==e&&(e=2),null==r&&(r=4),null==l&&(l=!1),null==u&&(u=null),i=new Dumper,i.indentation=r,i.dump(n,e,0,l,u)},n.register=function(){var n;return n=function(n,e){return n.exports=YAML.parseFile(e)},null!=("undefined"!=typeof require&&null!==require?require.extensions:void 0)?(require.extensions[".yml"]=n,require.extensions[".yaml"]=n):void 0},n.stringify=function(n,e,r,l,u){return this.dump(n,e,r,l,u)},n.load=function(n,e,r,l){return this.parseFile(n,e,r,l)},n}(),"undefined"!=typeof window&&null!==window&&(window.YAML=Yaml),module.exports=Yaml;

},{"./Dumper":"/home/vadzim/v/work/nerojs/node_modules/yamljs/lib/Dumper.js","./Parser":"/home/vadzim/v/work/nerojs/node_modules/yamljs/lib/Parser.js","./Utils":"/home/vadzim/v/work/nerojs/node_modules/yamljs/lib/Utils.js"}],"/home/vadzim/v/work/nerojs/src/JSONservice.js":[function(require,module,exports){
"use strict";function _defineProperty(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0})}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function isDataLongerThan(e,t){var r=0;return!function a(e){if(e instanceof Immutable.Map){r+=e.length;var t=!0,n=!1,i=void 0;try{for(var s,u=e[Symbol.iterator]();!(t=(s=u.next()).done);t=!0){var l=s.value;if(r>maxSize)return;a(l)}}catch(o){n=!0,i=o}finally{try{!t&&u["return"]&&u["return"]()}finally{if(n)throw i}}}else++r}(t),r>e}var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),path=require("path"),Immutable=require("immutable"),co=require("co"),ra=require("ra"),fs=require("fs"),lodash=require("lodash"),UID=require("uid"),lu=require("localUtils"),HTTPStatus=require("http-status"),MAX_CACHE_SIZE=1e4,SLEEP_BETWEEN_SAVES=300,mkdir=co.cb(fs.mkdir),writeFile=co.cb(fs.writeFile),readFile=co.cb(fs.readFile),rename=co.cb(fs.rename),JSONservice=function(){function e(t,r){var a=this;_classCallCheck(this,e);var n=ra.clean(Object.defineProperties({map:null,savedUID:null,last:Object.defineProperties({text:null,json:{uid:null,makeBackups:null}},{$:{get:function(){return n.map&&{json:n.map.last(),text:JSON.stringify(n.map.last(),null,"	")}},configurable:!0,enumerable:!0}})},{readFile:{get:function(){return regeneratorRuntime.mark(function e(){var a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=void 0,e.prev=1,e.next=4,readFile(t);case 4:e.t0=e.sent,i=String(e.t0),e.prev=6,a=YAML.parse(i),e.next=19;break;case 10:e.prev=10,e.t1=e["catch"](6),e.prev=12,a=JSON.parse(i),e.next=19;break;case 16:throw e.prev=16,e.t2=e["catch"](12),e.t1;case 19:a.uid||UID(a),e.next=25;break;case 22:e.prev=22,e.t3=e["catch"](1),a=UID(r);case 25:n.savedUID=a.uid,n.map=Immutable.OrderedMap().set(a.uid,a);case 27:case"end":return e.stop()}},e,this,[[1,22],[6,10],[12,16]])}).call(this)},configurable:!0,enumerable:!0},writeFile:{get:function(){return regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,co.sleep(SLEEP_BETWEEN_SAVES);case 2:if(n.savedUID==n.last.json.uid){e.next=8;break}return n.savedUID=n.last.json.uid,e.next=6,rename(t,""+t+"."+n.savedUID)["catch"](lodash.noop);case 6:return e.next=8,writeFile(t,n.last.text)["catch"](lu.rethrow);case 8:case"end":return e.stop()}},e,this)})()},configurable:!0,enumerable:!0}})).setName(path.basename(t,".json"));this.getState=function(){return lu.valueOf(n.last.json)},this.setState=function(e){return a.applyChanges(e,!1)},this.waitForChange=regeneratorRuntime.mark(function i(e){var t;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e&&lu.polling(e),r.next=3,n.last.live.text;case 3:t&&t.stop();case 4:case"end":return r.stop()}},i,this)}),this.waitForReady=function(e){return!n.last.text&&a.waitForChange(e)},this.applyChanges=function(e){var t=void 0===arguments[1]?!0:arguments[1],r=n.last.json.valueOf(),a=(t?lu.applyDiff:lu.assignDiff)(r,e)||{};return a!==r&&(n.map=(t?n.map:Immutable.OrderedMap()).withMutations(function(e){for(;e.length>MAX_CACHE_SIZE;)e["delete"](e.findKey(lu.returnTrue));a.uid=UID(),e.set(a.uid,a)})),ra.forceCalculations(),n.map.last()},this.wsService=function(e){var t=ra(Object.defineProperties({active:!0,id:null},{sendChanges:{get:function(){if(e&&t.active&&t.id&&t.id!=n.last.json.uid){var r=n.map.get(t.id);t.id=n.last.json.uid;var a=!1,i=n.last.json.valueOf(),s=void 0;if(r){var u=lu.makeDiff(r,n.last.json.valueOf()),l=JSON.stringify(u);n.last.text.length>1.5*l.length&&(a=!0,i=u,s=r.uid)}e.send({what:"data",partial:a,data:i,previous:s})}},configurable:!0,enumerable:!0}}));e.onclose=function(){e=null,t.active=!1},e.onmessage=function(r){switch(r.what){case"init":t.id=r.id||{};break;case"save":a.applyChanges(r.data,!!r.partial),ra.forceCalculations(),e.send({what:"saved",messageId:r.messageId});break;default:e.send({what:"error",error:"unrecognised message",data:r})}}},this.httpService=co.func(regeneratorRuntime.mark(function s(e,t,r){var a,i,u;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if("POST"==e.method){r.next=2;break}return r.abrupt("return",t.status(HTTPStatus.METHOD_NOT_ALLOWED).end());case 2:return r.next=4,lu.readStream(e);case 4:if(a=r.sent.toString().trim(),!a||!e.query.id){r.next=7;break}return r.abrupt("return",t.status(HTTPStatus.BAD_REQUEST).end());case 7:return r.next=9,this.waitForReady(t);case 9:if(!a){r.next=13;break}return a=JSON.parse(a),this.applyChanges(a.data,!!a.partial),r.abrupt("return",t.status(HTTPStatus.ACCEPTED).end());case 13:if(t.contentType("json"),!e.query.id||e.query.id!=n.last.json.uid){r.next=17;break}return r.next=17,this.waitForChange(t);case 17:if(i=void 0,!e.query.id||!(i=n.map.get(e.query.id))){r.next=22;break}if(u=lu.makeDiff(i,n.last.json.valueOf()),isDataLongerThan(20,u)){r.next=22;break}return r.abrupt("return",t.end(JSON.stringify({partial:!0,data:u})));case 22:t.end('{"partial":false,"data":'+n.last.text+"}");case 23:case"end":return r.stop()}},s,this)})).bind(this)}return _createClass(e,[{key:"applyItemChanges",value:function(e,t){var r=void 0===arguments[2]?!0:arguments[2];if(!r)throw new Error("not implemented: replacing an item");return this.applyChanges(_defineProperty({},e,t),!0)[e]}}]),e}();module.exports=JSONservice;

},{"co":"/home/vadzim/v/work/nerojs/src/co.js","fs":false,"http-status":"/home/vadzim/v/work/nerojs/node_modules/http-status/lib/index.js","immutable":"/home/vadzim/v/work/nerojs/node_modules/immutable/dist/immutable.js","localUtils":"/home/vadzim/v/work/nerojs/src/localUtils.js","lodash":"/home/vadzim/v/work/nerojs/node_modules/lodash/dist/lodash.js","path":false,"ra":"/home/vadzim/v/work/nerojs/src/ra.js","uid":"/home/vadzim/v/work/nerojs/src/uid.js"}],"/home/vadzim/v/work/nerojs/src/LOG.js":[function(require,module,exports){
"use strict";require("colors");var LOG=function(e){for(var r=arguments.length,O=Array(r>1?r-1:0),G=1;r>G;G++)O[G-1]=arguments[G];return console.log.apply(console,[""+(new Date).toISOString().replace("T","=").replace("Z","")+" "+e].concat(O))};LOG.LOG=LOG,LOG.INFO=LOG,LOG.TRACE=LOG,LOG.ERROR=LOG,LOG.WARNING=LOG,module.exports=LOG;

},{"colors":"/home/vadzim/v/work/nerojs/node_modules/colors/lib/index.js"}],"/home/vadzim/v/work/nerojs/src/NodeWebSocketToJSON.js":[function(require,module,exports){
"use strict";function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _inherits(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(e.__proto__=r)}var _createClass=function(){function e(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(r,t,o){return t&&e(r.prototype,t),o&&e(r,o),r}}(),_get=function(e,r,t){for(var o=!0;o;){var n=e,s=r,i=t;c=a=u=void 0,o=!1;var c=Object.getOwnPropertyDescriptor(n,s);if(void 0!==c){if("value"in c)return c.value;var u=c.get;return void 0===u?void 0:u.call(i)}var a=Object.getPrototypeOf(n);if(null===a)return void 0;e=a,r=s,t=i,o=!0}},NodeWebSocketToJSON=function(e){function r(e){var t=this;_classCallCheck(this,r),_get(Object.getPrototypeOf(r.prototype),"constructor",this).call(this),this._ws=e,process.nextTick(function(){return t.doopen()}),e.on("error",this._onerror=function(e){return t.doerror(e)}),e.on("close",this._onclose=function(){return t.close()}),e.on("message",this._onmessage=function(e){try{e=JSON.parse(String(e))}catch(r){return t.doerror(r)}t.domessage(e)})}return _inherits(r,e),_createClass(r,[{key:"unwise",value:function(){var e=this._ws;return this._ws=null,e.removeListener("error",this._onerror),e.removeListener("close",this._onclose),e.removeListener("message",this._onmessage),e}},{key:"_send",value:function(e){this._ws.send(JSON.stringify(e))}},{key:"_close",value:function(){this._ws.close(),this.doclose()}}]),r}(require("WebQueue"));module.exports=function(e){return new NodeWebSocketToJSON(e)};

},{"WebQueue":"/home/vadzim/v/work/nerojs/src/WebQueue.js"}],"/home/vadzim/v/work/nerojs/src/PingPongJSON.js":[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)}var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),_get=function(t,e,n){for(var o=!0;o;){var i=t,r=e,s=n;u=a=l=void 0,o=!1;var u=Object.getOwnPropertyDescriptor(i,r);if(void 0!==u){if("value"in u)return u.value;var l=u.get;return void 0===l?void 0:l.call(s)}var a=Object.getPrototypeOf(i);if(null===a)return void 0;t=a,e=r,n=s,o=!0}},lodash=require("lodash"),PongJSON=function(t){function e(t){var n=this;_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this._q=t,this.pipeFrom(t),t.onmessage=function(t){return n._message(t)}}return _inherits(e,t),_createClass(e,[{key:"unwise",value:function(){var t=this._q;return this._q=null,t.onopen=null,t.onclose=null,t.onerror=null,t.onmessage=null,t.unwise?t.unwise():t}},{key:"_message",value:function(t){"ping"==t.what?this._q.send({what:"pong",pong:t.ping}):this.domessage(t)}},{key:"_send",value:function(t){this._q.send(t)}},{key:"_close",value:function(){this._q.onclose=null,this._q.close()}}]),e}(require("WebQueue")),PingPongJSON=function(t){function e(t){var n=this,o=void 0===arguments[1]?{}:arguments[1],i=o.interval,r=void 0===i?6e4:i,s=o.timeout,u=void 0===s?15e3:s,l=o.maxpings,a=void 0===l?1e3:l;_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this._pings={},this._count=0,this._pinterval=r==1/0?null:setInterval(function(){return n.ping()},r),this._timeout=u,this._maxpings=a}return _inherits(e,t),_createClass(e,[{key:"_message",value:function(t){"pong"==t.what?Object.prototype.hasOwnProperty.call(this._pings,t.pong)&&(clearTimeout(this._pings[t.pong]),delete this._pings[t.pong],--this._count):_get(Object.getPrototypeOf(e.prototype),"_message",this).call(this,t)}},{key:"_send",value:function(t){_get(Object.getPrototypeOf(e.prototype),"_send",this).call(this,t),this.ping()}},{key:"_close",value:function(){clearInterval(this._pinterval),this._pinterval=null,lodash.forEach(this._pings,function(t){return clearTimeout(t)}),this._pings=null,_get(Object.getPrototypeOf(e.prototype),"_close",this).call(this)}},{key:"ping",value:function(){var t=this;if(this._q){if(this._count>this._maxpings)return this._ontimeout();var e=""+Math.random();this._q.send({what:"ping",ping:e}),this._pings[e]=setTimeout(function(){console.log(e.red),t._ontimeout()},this._timeout),++this._count}}},{key:"_ontimeout",value:function(){try{this.doerror(new Error("timeout"))}finally{this.close()}}}]),e}(PongJSON);module.exports=function(t,e){return new PingPongJSON(t,e)},module.exports.silent=function(t){return new PongJSON(t)};

},{"WebQueue":"/home/vadzim/v/work/nerojs/src/WebQueue.js","lodash":"/home/vadzim/v/work/nerojs/node_modules/lodash/dist/lodash.js"}],"/home/vadzim/v/work/nerojs/src/StreamToJSON.js":[function(require,module,exports){
"use strict";function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _get=function(e,t,r){for(var n=!0;n;){var i=e,s=t,o=r;a=u=c=void 0,n=!1;var a=Object.getOwnPropertyDescriptor(i,s);if(void 0!==a){if("value"in a)return a.value;var c=a.get;return void 0===c?void 0:c.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return void 0;e=u,t=s,r=o,n=!0}},_createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),skipString=function(e,t){for(;t<e.length;){switch(e.charAt(t)){case'"':break;case"\\":++t}++t}return t},NORMAL=0,STRING=1,SLASH=2,JSONparser=function(){function e(){_classCallCheck(this,e),this._brackets=0,this._state=NORMAL,this._buffer="",this._index=0}return _createClass(e,[{key:"push",value:function(e){var t=this,r=[],n=this._index,i=function(e){if(!t._brackets&&(e+=t._index,e>n)){var i=t._buffer.slice(n,e).trim();n=e,i&&r.push(i)}};if(null==e)i(0);else for(this._buffer+=String(e);this._index<this._buffer.length;){var s=this._buffer.charAt(this._index);switch(this._state){case SLASH:this._state=STRING;break;case STRING:switch(s){case"\\":this._state=SLASH;break;case'"':this._state=NORMAL,i(1)}break;case NORMAL:switch(s){case"{":case"[":i(0),++this._brackets;break;case"}":case"]":this._brackets&&--this._brackets,i(1);break;case'"':i(0),this._state=STRING;break;default:" ">=s&&i(1)}}++this._index}return n>0&&(this._buffer=this._buffer.slice(n),this._index-=n),r}}]),e}(),StreamToJSON=function(e){function t(e){var r=this;_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this._buffer=new JSONparser,this._socket=e,e.on("connect",this._onconnect=function(){return r.doopen()}),e.on("end",this._onend=function(){return r.close()}),e.on("error",this._onerror=function(e){return r.doerror(e)}),e.on("data",this._ondata=function(e){return r._pushChunk(e)})}return _inherits(t,e),_createClass(t,[{key:"unwise",value:function(){var e=this._socket;return this._socket=null,e.removeListener("connect",this._onconnect),e.removeListener("end",this._onend),e.removeListener("error",this._onerror),e.removeListener("data",this._ondata),e}},{key:"_send",value:function(e){this._socket.write(JSON.stringify(e)+"\n")}},{key:"_close",value:function(){this._pushChunk(null),this._socket.end()}},{key:"_pushChunk",value:function(e){var t=!0,r=!1,n=void 0;try{for(var i,s=this._buffer.push(e)[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){var o=i.value;if(o){var a=void 0;try{a=JSON.parse(o)}catch(c){console.log("JSON".red,o.yellow,c),this.doerror(c);continue}this.domessage(a)}}}catch(u){r=!0,n=u}finally{try{!t&&s["return"]&&s["return"]()}finally{if(r)throw n}}}}]),t}(require("WebQueue"));module.exports=function(e){return new StreamToJSON(e)};

},{"WebQueue":"/home/vadzim/v/work/nerojs/src/WebQueue.js"}],"/home/vadzim/v/work/nerojs/src/WebQueue.js":[function(require,module,exports){
"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,n){for(var o=0;o<n.length;o++){var s=n[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(n,o,s){return o&&e(n.prototype,o),s&&e(n,s),n}}(),WebQueue=function(){function e(){_classCallCheck(this,e),this.onopen=null,this.onclose=null,this.onmessage=null,this.onerror=null,this._closed=!1,this._opened=!1}return _createClass(e,[{key:"doopen",value:function(){this._closed||!this.onopen||this._opened||(this._opened=!0,this.onopen())}},{key:"doclose",value:function(){this.onclose&&this.onclose()}},{key:"domessage",value:function(e){!this._closed&&this.onmessage&&(this._opened||this.doopen(),this.onmessage(e))}},{key:"doerror",value:function(e){this.onerror?this.onerror(e):process.nextTick(function(){throw e})}},{key:"_send",value:function(){}},{key:"send",value:function(e){this._closed||this._send(e)}},{key:"_close",value:function(){}},{key:"close",value:function(){if(!this._closed)try{this._close()}finally{this._closed=!0,this.doclose()}}},{key:"pipeFrom",value:function(e){var n=this;e.onopen=function(){return n.doopen()},e.onclose=function(){return n.close()},e.onerror=function(e){return n.doerror(e)},e.onmessage=function(e){return n.domessage(e)}}}]),e}();module.exports=WebQueue;

},{}],"/home/vadzim/v/work/nerojs/src/actionToCommands.js":[function(require,module,exports){
"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}function find(e){for(var r=arguments.length,t=Array(r>1?r-1:0),n=1;r>n;n++)t[n-1]=arguments[n];return t.reduce(function(e,r){return e&&e[r]},e)}function createCommandSequence(e,r,t,n){return asArray(call(find(deviceTypes,r,t),n,e)||function(){throw new Error("wrong action specified: "+r+"."+t)}()).map(function(r){return lodash.assign({group:e},r)})}var lodash=require("lodash"),asArray=function(e){return Array.isArray(e)?e:[e]},inherit=function(e){var r,t=void 0===arguments[1]?null:arguments[1];return(r=[]).concat.apply(r,_toConsumableArray(asArray(t).map(function(r){return asArray(e).map(function(e){return lodash.reduce(e,function(e,r,t){return e[t]=r,e},Object.create(r))})})))},flatten=function(e){if(!e||!Object.getPrototypeOf(e))return e;var r=Object.create(null);for(var t in e)r[t]=e[t];return r},concat=function(){for(var e=arguments.length,r=Array(e),t=0;e>t;t++)r[t]=arguments[t];return r.reduce(function(e,r){return inherit(r,e)},null).map(flatten)},call=function(e){for(var r=arguments.length,t=Array(r>1?r-1:0),n=1;r>n;n++)t[n-1]=arguments[n];return"function"==typeof e?e.apply(void 0,t):e},click=[{TIME:"Pressed_0_sec"},{TIME:"Released_0_sec"}],press={TIME:"Pressed_0_sec"},RL={ROL:1,DIM:1},ROL={ROL:1},DIM={DIM:1},All=Object.create(null);All.Comfort_1=concat(press,RL,{id:"Set_To_Comfort_1"}),All.Comfort_2=concat(press,RL,{id:"Set_To_Comfort_2"}),All.Stop=concat(click,ROL,{id:"Stop"}),All.Set=function(e){return{id:"Set_To_Comfort",COMFORT:e}};var link=concat(press,{id:"Write_Group"});All.Link=function(e,r){return[{id:"Delete_Group_In_Idle_Mode",ACK:!1,GROUP:r}].concat(_toConsumableArray(link))},All.Unlink=concat({id:"Delete_Group_In_Idle_Mode",GROUP:0}),All.AppendTo=function(e){return{id:"Write_Group_In_Idle",GROUP:e}},All.RemoveFrom=function(e){return{id:"Delete_Group_In_Idle_Mode",GROUP:e}},All.Reset={id:"Clear_Device_Memory_In_Idle_Mode",ACK:!1};var RollShutter=Object.create(All);RollShutter.Up=concat(click,RL,{id:"Up"}),RollShutter.Down=concat(click,RL,{id:"Down"}),RollShutter.ToUp=concat(click,RL,{id:"Up"}),RollShutter.ToDown=concat(click,RL,{id:"Down"}),RollShutter.Script=concat(click,RL,{id:"Script"}),RollShutter.Loop=null;var Jalousie=Object.create(All);Jalousie.Up=concat(click,{id:"Up"}),Jalousie.Down=concat(click,{id:"Down"}),Jalousie.ToUp=concat(click,{id:"Up"}),Jalousie.ToDown=concat(click,{id:"Down"}),Jalousie.Script=concat(click,{id:"Script"}),Jalousie.Loop=null;var Dimeer=Object.create(All);Dimeer.Up=concat(press,RL,{id:"Up"}),Dimeer.Down=concat(press,RL,{id:"Down"}),Dimeer.ToUp=concat(press,RL,{id:"Up"}),Dimeer.ToDown=concat(press,RL,{id:"Down"}),Dimeer.Script=concat(click,RL,{id:"Script"}),Dimeer.Loop=null;var deviceTypes={RollShutter:RollShutter,Jalousie:Jalousie,Dimeer:Dimeer};exports.createCommandSequence=createCommandSequence;

},{"lodash":"/home/vadzim/v/work/nerojs/node_modules/lodash/dist/lodash.js"}],"/home/vadzim/v/work/nerojs/src/checkreboot.js":[function(require,module,exports){
"use strict";require("colors");var co=require("co"),fs=require("fs"),exec=co.cb(require("child_process").exec),currentVersion=5,file=__dirname+"/.shver";co.go(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return currentVersion=String(currentVersion),r=void 0,e.prev=2,e.next=5,co.cb(fs.readFile)(file);case 5:e.t0=e.sent,r=String(e.t0),e.next=11;break;case 9:e.prev=9,e.t1=e["catch"](2);case 11:if(r==currentVersion){e.next=19;break}return console.log("******** SERVER IS ABOUT TO REBOOT ********".red),e.next=15,co.cb(fs.writeFile)(file,currentVersion);case 15:return e.next=17,co.sleep(5e3);case 17:return e.next=19,exec("reboot");case 19:case"end":return e.stop()}},e,this,[[2,9]])}));

},{"child_process":false,"co":"/home/vadzim/v/work/nerojs/src/co.js","colors":"/home/vadzim/v/work/nerojs/node_modules/colors/lib/index.js","fs":false}],"/home/vadzim/v/work/nerojs/src/co.js":[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)}function iteratorFailed(t){return{done:!0,iteratorFailed:!0,value:t}}function iteratorNext(t,e){try{return t.next(e)}catch(r){return iteratorFailed(r)}}function iteratorThrow(t,e){if(!t["throw"])return iteratorFailed(e);try{return t["throw"](e)}catch(r){return iteratorFailed(r)}}function iteratorReturn(t){if(t["return"])try{t["return"]()}catch(e){return iteratorFailed(e)}else if(t["throw"]){var r=new EKill,n=iteratorThrow(t,r);if(n.done&&n.iteratorFailed){if(n.value!=r)return n}else rethrow(new Error("thread has eaten EKill"))}return DONE}function iteratorCheck(t){if(t&&t.done&&t.iteratorFailed)throw t.value;return t}function killIterator(t){if(t){var e=iteratorReturn(t);e.done&&e.iteratorFailed&&rethrow(e.value)}}function _IteratorProxy(t){var e,r,n,i,o,a;return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:n=function(t){(null==r||t.iteratorFailed)&&(r&&r.iteratorFailed&&rethrow(r.value),r=t)},e=[],r=null,i=iteratorNext,o=null,u.prev=5;case 6:if(a=void 0,i=iteratorNext,null==o){u.next=22;break}return u.prev=10,u.next=13,o.value;case 13:a=u.sent,u.next=20;break;case 16:u.prev=16,u.t0=u["catch"](10),a=u.t0,i=iteratorThrow;case 20:u.next=23;break;case 22:a=void 0;case 23:if(_IteratorProxy.deferred=deferred,o=i(t,a),_IteratorProxy.deferred=null,o.done){u.next=28;break}return u.abrupt("continue",6);case 28:n(o),o=void 0;case 30:if(!e.length){u.next=36;break}if(t=catchDefer(e.shift()),null==t||"function"!=typeof t.next){u.next=34;break}return u.abrupt("continue",6);case 34:u.next=30;break;case 36:return t=null,u.abrupt("break",40);case 40:for(u.prev=40,t&&n(iteratorReturn(t));e.length;)t=catchDefer(e.shift()),null!=t&&"function"==typeof t.next&&(o=iteratorNext(t,void 0),o.done||(o=iteratorReturn(t)),n(o));if(!r){u.next=49;break}if(!r.iteratorFailed){u.next=48;break}throw r.value;case 48:return u.abrupt("return",r.value);case 49:return u.finish(40);case 50:case"end":return u.stop()}},marked0$0[0],this,[[5,,40,50],[10,16]])}var _createClass=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),_get=function(t,e,r){for(var n=!0;n;){var i=t,o=e,a=r;u=l=s=void 0,n=!1;var u=Object.getOwnPropertyDescriptor(i,o);if(void 0!==u){if("value"in u)return u.value;var s=u.get;return void 0===s?void 0:s.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return void 0;t=l,e=o,r=a,n=!0}},marked0$0=[_IteratorProxy].map(regeneratorRuntime.mark),later=require("later"),EventEmitter=require("events").EventEmitter,co=module.exports=exports=new EventEmitter,threadCatcher=null;exports.currentThread=null,exports.global=null;var id=function(t){return t};exports.go=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;e>n;n++)r[n-1]=arguments[n];return"function"==typeof t&&(t=t.apply(null,r)),t.next||!function(){var e=t;t={next:function(){var t={value:e,done:!e};return e=null,t}}}(),new Thread(t)},exports.gocall=function(t,e){for(var r=arguments.length,n=Array(r>2?r-2:0),i=2;r>i;i++)n[i-2]=arguments[i];return new Thread(t.apply(e,n))},exports.func=function(t){return arguments.length>=2&&(t=Array.prototype.reduceRight.call(arguments,function(t,e){return e(t)})),function(){return new Thread(t.apply(this,arguments))}},exports.cb=function(t){return function(){for(var e=this,r=arguments.length,n=Array(r),i=0;r>i;i++)n[i]=arguments[i];return new Promise(function(r,i){return t.call.apply(t,[e].concat(n,[function(t,e){null!=t?i(t):r(e)}]))})}},exports.catchThreads=function(t,e){var r=threadCatcher;threadCatcher=e;try{return t()}finally{threadCatcher=r}},exports.receive=function(t,e){return new Promise(function(r,n){function i(){if(a){clearTimeout(u);for(var e in a)t.removeListener(e,a[e]);s.close(),a=null}}function o(t,e){i(),r({event:t,data:e})}var a=Object.create(null),u=void 0,s=co.defer(function(){i(),n()}),l=function(r){if(Object.prototype.hasOwnProperty.call(e,r)){var n=function(){var n=e[r];return null==n?{v:"continue"}:void("timeout"==r?u=setTimeout(function(){return o("timeout",null)},n):t.addListener(r,a[r]=function(t){("function"!=typeof n||n(t))&&o(r,t)}))}();if("object"==typeof n)return n.v}};for(var h in e){l(h)}})},exports.wait=function(t){return{then:t}},exports.sleep=function(t){return{then:function(e){var r=setTimeout(e,t);return{kill:function(){clearTimout(r)}}}}},exports.timeout=function(t){return{then:function(e,r){var n=setTimeout(r,t);return{kill:function(){clearTimout(n)}}}}},exports.promise=function(t){return Promise.all([co.go(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:case"end":return e.stop()}},e,this)}))])},exports["yield"]=exports.sleep(1),exports.requestAnimationFrame={then:function(t){if("function"==typeof cancelAnimationFrame){requestAnimationFrame(t);return{kill:function(){cancelAnimationFrame(timer)}}}return exports.sleep(1).then(t)}};var rethrow=function(t){return setTimeout(function(){throw t},1)},DONE={done:!0},EKill=function(t){function e(){var t=void 0===arguments[0]?"kill":arguments[0];_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t)}return _inherits(e,t),e}(Error);exports.EKill=EKill;var _private={writable:!0},notEnumerable={enumerable:!1},catchDefer=function(t){try{return t()}catch(e){return{next:function(){return iteratorFailed(e)}}}},IteratorProxy=function(){function t(e){return _classCallCheck(this,t),e instanceof t?e:(this._iterator=e,this._deferred=null,void(this._result=null))}return _createClass(t,[{key:"defer",value:function(t){var e=this;if("function"!=typeof t)throw new Error("type error: only functions can be deferred");return this._deferred||(this._deferred=[]),this._deferred.push(t),{close:function(){if(e._deferred)for(var r=e._deferred.length-1;r>=0;--r)if(e._deferred[r]==t)return void e._deferred.splice(r,1)}}}},{key:"save",value:function(t){this._result?t.iteratorFailed&&(this._result.iteratorFailed&&rethrow(this._result.value),this._result=t):this._result=t}},{key:"call",value:function(e,r){var n=t._iterator;t._iterator=this;try{t:for(;;){var i=e(this._iterator,r);if(!i.done)return i;if(this._iterator=null,!this._deferred)return i;for(this.save(i);this._deferred.length;){var o=catchDefer(this._deferred.pop());if(null!=o&&"function"==typeof o.next){this._iterator=o,r=void 0,e=iteratorNext;continue t}}return i=this._result,this._result=null,i}}finally{t._iterator=n}}},{key:"next",value:function(t){return iteratorCheck(this.call(iteratorNext,t))}},{key:"throw",value:function(t){return iteratorCheck(this.call(iteratorThrow,t))}},{key:"return",value:function(e){if(this._iterator){this.save({done:!0,value:e});var r=t._iterator;t._iterator=this;try{var n=iteratorReturn(this._iterator);if(this._iterator=null,!this.deferred)return void iteratorCheck(n);for(this.save(n);this._deferred.length;){var i=catchDefer(this._deferred.pop());if(null!=i&&"function"==typeof i.next){var o=iteratorNext(i);o.done||(o=iteratorReturn(i)),this.save(o)}}n=this._result,this._result=null,iteratorCheck(n)}finally{t._iterator=r}}}}]),t}();IteratorProxy._iterator=null,exports.defer=function(t){if(!IteratorProxy._iterator)throw new Error("defer: not in a co-thread");return IteratorProxy._iterator.defer(t)},exports._defer=function(t){if("function"!=typeof t)throw new Error("type error: only functions can be deferred");var e=_IteratorProxy.deferred;if(e)throw new Error("defer: not in a co-thread");return e.push(t),{close:function(){if(e)for(var r=e.length-1;r>=0;--r)if(e[r]==t)return void e.splice(r,1)}}};var Thread=function(){function t(e){var r=this;if(_classCallCheck(this,t),this._attachedToStack=!0,this._iterator=new IteratorProxy(e),this._stopCount=0,this._stack=[],this._global={},this._currentPromise=null,this._running=!1,this._killing=null,this.$name={toString:function(){return"<Thread>"}},this._newStep(),this._start=function(){r._start&&r._step&&r._step.next&&(r._stopCount>0?r._step.resume=r._start:(r._start=null,r._step.next()))},this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e}),!this._resolve)throw new Error("assertion failure: wrong implementation of Promise");later.then(this._start),threadCatcher&&threadCatcher(this),exports.emit("start",this)}return _createClass(t,[{key:"linkName",value:function(t){var e=void 0===arguments[1]?":thread":arguments[1];return t.$name&&(t=t.$name),this.$name.toString=function(){return""+t+e},this}},{key:"waitForInput",value:function(){if(this._checkFinished(),this._stopCount>0)throw new Error("thread is paused");return this._start&&this._start(),this}},{key:"_attachPromise",value:function(t){return t.kill=this.kill.bind(this),t}},{key:"then",value:function(t,e){return this._attachedToStack=!1,this._attachPromise(this._promise.then(t,e))}},{key:"catch",value:function(t){return this._attachedToStack=!1,this._attachPromise(this._promise["catch"](t))}},{key:"isFinished",value:function(){return!this._step||this._killing}},{key:"isPaused",value:function(){return this._stopCount>0}},{key:"throw",value:function(t){if(this==exports.currentThread)throw t;this._checkFinished(),this._newStep(),this._stopCount>0?this._step.resume=this._step.fail.bind(this._step,t):this._step.fail(t)}},{key:"attachToStack",value:function(){this._attachedToStack=!0}},{key:"kill",value:function(t){if(!this.isFinished()){if(this._reject(t),this._running)throw this._killing={reason:t},new EKill;killIterator(this._iterator);for(var e=this._stack,r=e.length-1;r>=0;--r)killIterator(e[r]);if(this._currentPromise)try{this._currentPromise.kill(t)}catch(n){rethrow(n)}this._done()}}},{key:"pause",value:function(){this._checkFinished(),++this._stopCount}},{key:"resume",value:function(){if(0==this._stopCount)throw new Error("thread not paused");0==--this._stopCount&&this._step&&this._step.resume&&(later.then(this._step.resume),this._step.resume=null)}},{key:"_tick",value:function(t,e,r){if(this["debugger"]||t["debugger"],this._running)throw new Error("FATAL: reentering thread tick");if(t===this._step){if(this._stopCount>0)return void(t.resume=this._tick.bind(this,t,e,r));for(;;){this._currentPromise=null,this._running=!0;var n=exports.currentThread;exports.currentThread=this,global.currentThreadData=exports.global=this._global;var i=this._iterator.call(e,r);if(exports.currentThread=n,global.currentThreadData=exports.global=n&&n._global,this._running=!1,this["debugger"]||t["debugger"],this._killing){var o=this._killing.reason;return this._killing=null,void this.kill(o)}if(i.done){if(this.isFinished())return;if(this._iterator=this._stack.pop()){e=i.iteratorFailed?iteratorThrow:iteratorNext,r=i.value;continue}var a=i.iteratorFailed?this._reject:this._resolve;this._done(),i.iteratorFailed&&this._attachedToStack&&rethrow(i.value),a(i.value)}else if(i.value)if(i.value.then){var u=i.value.then(t.next,t.fail);u&&u.kill&&(this._currentPromise=u)}else{if(i.value.next){this._stack.push(this._iterator),this._iterator=new IteratorProxy(i.value),e=iteratorNext,r=void 0;continue}if(!("onload"in i.value&&!i.value.onload&&"onerror"in i.value)||i.value.onerror)throw new Error("thread type error");i.value.onload=t.next,i.value.onerror=t.fail}else exports["yield"].then(t.next);break}}}},{key:"_done",value:function(){this._step=null,this._iterator=null,this._stack=null,this._resolve=null,this._reject=null,this._currentPromise=null,this._killing=null}},{key:"_newStep",value:function(){var t=this._step={resume:null};t.next=this._tick.bind(this,t,iteratorNext),t.fail=this._tick.bind(this,t,iteratorThrow);var e=this.$name;t.next.$name={toString:function(){return e+":next"}},t.fail.$name={toString:function(){return e+":fail"}}}},{key:"_onPromise",value:function(t,e){this._resolve=t,this._reject=e,this.resume()}},{key:"_checkFinished",value:function(){if(this.isFinished())throw new Error("thread is already finished")}}]),t}();exports.Thread=Thread,Object.keys(Thread.prototype).forEach(function(t){return t.match(/^_/)&&Object.defineProperty(Thread.prototype,t,notEnumerable)}),exports.currentThread=new Thread({next:function(){return{value:{then:function(){}}}}}).waitForInput(),exports.global=exports.currentThread._global;

},{"events":false,"later":"/home/vadzim/v/work/nerojs/src/later.js"}],"/home/vadzim/v/work/nerojs/src/csvConfig.js":[function(require,module,exports){
"use strict";function _toArray(r){return Array.isArray(r)?r:Array.from(r)}function _toConsumableArray(r){if(Array.isArray(r)){for(var e=0,t=Array(r.length);e<r.length;e++)t[e]=r[e];return t}return Array.from(r)}function isStars(r){return[].slice.call(r).every(function(r){return"*"==r})}function readCSV(r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,co.cb(csv.parse)(r,{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},marked0$0[0],this)}function read(r,e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,readCSV(r);case 2:return t.t0=t.sent,t.abrupt("return",parse(t.t0,e));case 4:case"end":return t.stop()}},marked0$0[1],this)}function readArrays(r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,readCSV(r);case 2:return e.t0=e.sent,e.abrupt("return",parseArrays(e.t0));case 4:case"end":return e.stop()}},marked0$0[2],this)}function readTree(r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,readCSV(r);case 2:return e.t0=e.sent,e.abrupt("return",parseTree(e.t0));case 4:case"end":return e.stop()}},marked0$0[3],this)}function parse(r,e){var t=r.filter(function(r){return r.some(Boolean)}),a=_toArray(t),n=a[0],s=a.slice(1),o=s.map(function(r){return lodash.zipObject(lodash.zip(n,r))});return null!=e&&(o=lodash.zipObject(o.map(function(r){var t=r[e];return delete r[e],[t,r]}))),o}function parseTree(r){var e=r.filter(function(r){return r.some(Boolean)}),t=_toArray(e),a=t[0],n=t.slice(1);n=n.map(function(r){var e={length:1/0};return isStars(r[0])&&(e=r[0],r[0]=""),{tab:e,row:lodash.zipObject(lodash.zip(a,r))}});var s={tab:"",row:{content:[]}},o=[];return n.forEach(function(r){for(;s.tab.length>=r.tab.length;)s=o.pop();!(s.row.content||(s.row.content=[])).push(r.row),o.push(s),s=r}),o[0].row.content}function parseArrays(r){return lodash.zipObject(lodash.zip.apply(lodash,_toConsumableArray(r)).map(function(r){var e=r.filter(Boolean),t=_toArray(e),a=t[0],n=t.slice(1);return[a,n]}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.readCSV=readCSV,exports.read=read,exports.readArrays=readArrays,exports.readTree=readTree,exports.parse=parse,exports.parseTree=parseTree,exports.parseArrays=parseArrays;var marked0$0=[readCSV,read,readArrays,readTree].map(regeneratorRuntime.mark),csv=require("csv"),co=require("co"),lodash=require("lodash");

},{"co":"/home/vadzim/v/work/nerojs/src/co.js","csv":"/home/vadzim/v/work/nerojs/node_modules/csv/lib/index.js","lodash":"/home/vadzim/v/work/nerojs/node_modules/lodash/dist/lodash.js"}],"/home/vadzim/v/work/nerojs/src/deviceActions.js":[function(require,module,exports){
"use strict";function getNewState(t,n,e){return t&&Object.prototype.hasOwnProperty.call(actions,n)?actions[n](t,e):null}var deviceTypes=require("deviceTypes"),actions={Up:function(t){return 1},Down:function(t){return 0},Comfort_1:function(t){return t.comfort_1},Comfort_2:function(t){return t.comfort_2},Stop:function(t){return null},Loop:function(t){return t.state?0:1},Script:function(t){return null},Link:function(t){return null},Set:function(t,n){return n}};exports.getNewState=getNewState;

},{"deviceTypes":"/home/vadzim/v/work/nerojs/src/deviceTypes.json"}],"/home/vadzim/v/work/nerojs/src/deviceTypes.json":[function(require,module,exports){
module.exports={
	"Nero II 8713-50": {
		"buttons": "RollShutter"
	},
	"Intro II 8513-50": {
		"buttons": "RollShutter"
	},
	"Nero II 8421": {
		"buttons": "Dimeer"
	}
}
},{}],"/home/vadzim/v/work/nerojs/src/http_common_server.js":[function(require,module,exports){
"use strict";function getUserAgentName(e){var r=!0,t=!1,n=void 0;try{for(var s,i=userAgents[Symbol.iterator]();!(r=(s=i.next()).done);r=!0){var o=s.value,u=e.match(o);if(u){for(var a=[],c=1;c in u;++c)u[c]&&a.push(u[c]);if(a.length)return a.join(" ");if(a[0])return a[0]}}}catch(l){t=!0,n=l}finally{try{!r&&i["return"]&&i["return"]()}finally{if(t)throw n}}return e}var path=require("path"),lodash=require("lodash"),fs=require("fs"),ra=require("ra"),co=require("co"),lu=require("localUtils"),UID=require("uid"),express=require("express");require("rewriter");var userAgents=[/\((iPhone);/,/\s(Android)\s([\d\.]+).*\s(Chrome\/\d+)/,/\s(Chrome\/\d+)/];module.exports=function(e){var r=express();return r.set("views",__dirname+"/../www"),r.use(require("cookie-parser")()),r.post("/log",function(e,r,t){lu.log(decodeURIComponent(e.url.slice(5)).replace(/<span\s+style\=`color\:(\w+);`>(.*?)<\/span>/g,function(e,r,t){return t[r]})+(" "+getUserAgentName(e.headers["user-agent"]))),r.status(200).end()}),r.use(require("http_log")),r.post("/info",function(){var e=path.resolve(__dirname+"/../log/clients.json"),r=ra.clean(Object.defineProperties({uid:"",json:null},{updateFile:{get:function(){return regeneratorRuntime.mark(function t(){var n,s,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r.uid,n=void 0,t.next=4,co.cb(fs.mkdir)(path.dirname(e))["catch"](function(e){});case 4:return t.prev=4,t.next=7,co.cb(fs.readFile)(e);case 7:t.t0=t.sent,t.t1=String(t.t0),n=JSON.parse(t.t1),t.next=14;break;case 12:t.prev=12,t.t2=t["catch"](4);case 14:n||(n={}),s=r.json,r.json={};for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i]);return t.next=20,co.cb(fs.writeFile)(e,JSON.stringify(n,null,"   "))["catch"](function(e){});case 20:case"end":return t.stop()}},t,this,[[4,12]])}).call(this)},configurable:!0,enumerable:!0}}));return r.json={},function(e,t,n){var s=decodeURIComponent(e.url.slice(6));r.json[s]=String(new Date),r.uid=UID(),t.status(200).end()}}()),r.use(require("compression")({threshold:0})),r.get("/debugHtml",co.func(regeneratorRuntime.mark(function t(e,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.status(200),r.contentType("html"),e.next=4,co.cb(fs.readFile)(__dirname+"/../tmp/debug.html","utf8");case 4:e.t0=e.sent.replace(/\b(script|manifest)\b/g,function(e){return"no"+e}),r.end(e.t0);case 6:case"end":return e.stop()}},t,this)}))),r.post("/debugHtml",co.func(regeneratorRuntime.mark(function n(e,r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("receiving debugHtml...".yellow),t.t0=__dirname+"/../tmp/debug.html",t.next=4,lu.readStream(e);case 4:return t.t1=t.sent,t.t2=beautify(t.t1),t.next=8,co.cb(fs.writeFile)(t.t0,t.t2);case 8:r.end();case 9:case"end":return t.stop()}},n,this)}))),e&&e(r),r.rewrite(/^\/index\d+\.html/,function(e){return"/index.html"}),require("http_static")(r),r};

},{"co":"/home/vadzim/v/work/nerojs/src/co.js","compression":false,"cookie-parser":"/home/vadzim/v/work/nerojs/node_modules/cookie-parser/index.js","express":false,"fs":false,"http_log":"/home/vadzim/v/work/nerojs/src/http_log.js","http_static":"/home/vadzim/v/work/nerojs/src/http_static.js","localUtils":"/home/vadzim/v/work/nerojs/src/localUtils.js","lodash":"/home/vadzim/v/work/nerojs/node_modules/lodash/dist/lodash.js","path":false,"ra":"/home/vadzim/v/work/nerojs/src/ra.js","rewriter":"/home/vadzim/v/work/nerojs/src/rewriter.js","uid":"/home/vadzim/v/work/nerojs/src/uid.js"}],"/home/vadzim/v/work/nerojs/src/http_log.js":[function(require,module,exports){
"use strict";global._LOG=!0;var path=require("path"),lodash=require("lodash"),YAML=require("yamljs"),logger=require("morgan"),lu=require("localUtils"),UID=require("uid"),clientNamesPath=path.resolve("./clients");require("watchStop")(clientNamesPath);var clientNames=Object.create(null),clientFile=lu["catch"](function(){return YAML.load(clientNamesPath)},lu.returnNull),clientDebug=clientFile&&clientFile.debug&&clientFile.debug.split(/\s+/)||[];clientFile&&(delete clientFile.debug,lodash.forEach(clientFile,function(e,t){return e.split(/\s+/).filter(Boolean).forEach(function(e){return clientNames[e]=t})}));var clients=Object.create(null),timeout=36e5;setInterval(function(){var e=Date.now();lodash.forEach(clients,function(t,n){e-t>timeout&&delete clients[n]})},timeout),logger.token("cookie",function(e){return e.headers.cookie}),logger.token("startTime",function(e){return e.startTime}),logger.token("requestTime",function(e){return lu.formatms(new Date-e.startTime)+"s"}),logger.token("instanceID",function(e){return e.clientID}),logger.token("manifestHeaders",function(e,t){if(!e.url.match(/\.manifest(\?|$)/))return"";var n="\n"+e.method+" "+e.url;return e.rawHeaders.forEach(function(e,t){n+=["\n",": "][t%2],n+=e}),n});var L=logger(":remote-addr".blue+" :instanceID".blue+' :remote-user [:date] "'+":method".green+" "+":url".cyan+' HTTP/:http-version" '+":status".green+' :res[content-length] ":referrer" ":user-agent" '+":requestTime".yellow+":manifestHeaders"),cookieInfinite={expires:new Date("Fri, 31-Dec-9999 23:59:59 GMT")};module.exports=function(e,t,n){var i=void 0;if(e.cookies){i=e.cookies.instanceID,i||(i=e.cookies.instanceID=UID(),console.log(("new client connected: "+i).red),t.cookie("instanceID",i,cookieInfinite)),clients[i]=Date.now();var r=clientNames[i],o=clientDebug.indexOf(i)>=0||r&&clientDebug.indexOf(r)>=0;!!o!=!!e.cookies.instanceDebug&&(o?t.cookie("instanceDebug","debug",cookieInfinite):t.clearCookie("instanceDebug"))}global._LOG?(console.log(""+e.method+" "+e.url.green),e.startTime=new Date,e.clientID=i&&(clientNames[i]||i)||"?",L(e,t,n)):n()};

},{"localUtils":"/home/vadzim/v/work/nerojs/src/localUtils.js","lodash":"/home/vadzim/v/work/nerojs/node_modules/lodash/dist/lodash.js","morgan":"/home/vadzim/v/work/nerojs/node_modules/morgan/index.js","path":false,"uid":"/home/vadzim/v/work/nerojs/src/uid.js","watchStop":"/home/vadzim/v/work/nerojs/src/watchStop.js","yamljs":"/home/vadzim/v/work/nerojs/node_modules/yamljs/lib/Yaml.js"}],"/home/vadzim/v/work/nerojs/src/http_static.js":[function(require,module,exports){
"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}function readFiles(e,r){var t,n;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,co.cb(fs.readdir)(e);case 2:return t=a.sent,r&&(t=t.filter(r)),n=t.map(function(r){return[r,co.cb(fs.readFile)(e+"/"+r,"utf8")]}),a.abrupt("return",lodash.zipObject(n));case 6:case"end":return a.stop()}},marked0$0[0],this)}function staticData(e){var r=void 0===arguments[1]?"json":arguments[1];return co.func(regeneratorRuntime.mark(function t(n,a){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.then){t.next=6;break}return t.next=3,e;case 3:t.t0=t.sent,t.next=7;break;case 6:t.t0=e;case 7:a.contentType(r).end(t.t0);case 8:case"end":return t.stop()}},t,this)}))}var marked0$0=[readFiles].map(regeneratorRuntime.mark),path=require("path"),fs=require("fs"),cfg=require("csvConfig"),lodash=require("lodash"),co=require("co"),lu=require("localUtils"),express=require("express"),ejs=require("ejs");require("rewriter");var isSVG=lodash.bindKey(/\.svg$/,"test"),cookieInfinite={expires:new Date("Fri, 31-Dec-9999 23:59:59 GMT")};module.exports=function(e){return e.get("/templates",staticData(co.go(regeneratorRuntime.mark(function r(){var e,t,n,a,s,i,c,o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,readFiles(__dirname+"/../templates/locations/",lodash.bindKey(/\.csv$/,"test"));case 2:e=r.sent,t=[],n=!0,a=!1,s=void 0,r.prev=7,i=Object.keys(e)[Symbol.iterator]();case 9:if(n=(c=i.next()).done){r.next=22;break}return o=c.value,r.next=13,e[o];case 13:return r.t0=r.sent,r.next=16,cfg.readTree(r.t0);case 16:r.t1=r.sent,r.t2=_toConsumableArray(r.t1),t.push.apply(t,r.t2);case 19:n=!0,r.next=9;break;case 22:r.next=28;break;case 24:r.prev=24,r.t3=r["catch"](7),a=!0,s=r.t3;case 28:r.prev=28,r.prev=29,!n&&i["return"]&&i["return"]();case 31:if(r.prev=31,!a){r.next=34;break}throw s;case 34:return r.finish(31);case 35:return r.finish(28);case 36:return r.abrupt("return",JSON.stringify(t));case 37:case"end":return r.stop()}},r,this,[[7,24,28,36],[29,,31,35]])})))),e.get("/messages",staticData(co.go(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,co.cb(fs.readFile)(__dirname+"/../templates/messages.csv","utf8");case 2:return e.t0=e.sent,e.next=5,cfg.read(e.t0,"id");case 5:return e.t1=e.sent,e.abrupt("return",JSON.stringify(e.t1));case 7:case"end":return e.stop()}},t,this)})))),e.rewrite(/^\/apple\-touch\-icon/,function(e){return"/touch"+path.extname(e)}),e.rewrite(/^\/favicon.ico$/,function(){return"/favicon96.ico"}),e.get("/images",co.func(regeneratorRuntime.mark(function n(e,r,t){var a,s,i,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=__dirname+"/../www/images",e.next=3,readFiles(a,isSVG);case 3:s=e.sent,r.contentType("json"),r.write("{"),i=!1,e.t0=regeneratorRuntime.keys(s);case 8:if((e.t1=e.t0()).done){e.next=22;break}if(c=e.t1.value,!Object.prototype.hasOwnProperty.call(s,c)){e.next=20;break}return i&&r.write(","),r.write(JSON.stringify(c)),r.write(":"),e.next=16,s[c];case 16:e.t2=e.sent,e.t3=JSON.stringify(e.t2),r.write(e.t3),i=!0;case 20:e.next=8;break;case 22:r.write("}"),r.end();case 24:case"end":return e.stop()}},n,this)}))),e.rewrite(/^\/$/,function(e){return"/index.html"}),e.use(/^\/index.html/,function(e,r,t){e.query.appicon&&r.cookie("appicon",e.query.appicon,cookieInfinite),r.clearCookie("icon"),r.clearCookie("room"),t()}),e.engine("html",ejs.renderFile),e.get("/unsupported.html",function(e,r,t){r.render(e.url.match(/^\/(.*)$/)[1],{request:e})}),e.use(express["static"](__dirname+"/../www",{lastModified:!0,etag:!0})),e};

},{"co":"/home/vadzim/v/work/nerojs/src/co.js","csvConfig":"/home/vadzim/v/work/nerojs/src/csvConfig.js","ejs":"/home/vadzim/v/work/nerojs/node_modules/ejs/lib/ejs.js","express":false,"fs":false,"localUtils":"/home/vadzim/v/work/nerojs/src/localUtils.js","lodash":"/home/vadzim/v/work/nerojs/node_modules/lodash/dist/lodash.js","path":false,"rewriter":"/home/vadzim/v/work/nerojs/src/rewriter.js"}],"/home/vadzim/v/work/nerojs/src/inc.js":[function(require,module,exports){
"use strict";var last=Date.now();module.exports=function(){var t=Date.now();return last>=t&&(t=last+1),last=t,t};

},{}],"/home/vadzim/v/work/nerojs/src/later.js":[function(require,module,exports){
"use strict";module.exports=new(require("scheduler"));

},{"scheduler":"/home/vadzim/v/work/nerojs/src/scheduler.js"}],"/home/vadzim/v/work/nerojs/src/localUtils.js":[function(require,module,exports){
"use strict";function _slicedToArray(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){var n=[],t=!0,o=!1,u=void 0;try{for(var a,i=e[Symbol.iterator]();!(t=(a=i.next()).done)&&(n.push(a.value),!r||n.length!==r);t=!0);}catch(c){o=!0,u=c}finally{try{!t&&i["return"]&&i["return"]()}finally{if(o)throw u}}return n}throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _defineProperty(e,r,n){return Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0})}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function assert(e,r){if(!e)throw new Error(""+r)}var _createClass=function(){function e(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(r,n,t){return n&&e(r.prototype,n),t&&e(r,t),r}}(),lodash=require("lodash"),ra=require("ra"),co=require("co"),EventEmitter=require("events").EventEmitter||require("events");global.WeakMap||!function(){var e=0;global.WeakMap=function(){function r(n){if(_classCallCheck(this,r),this._index="__WeakMap"+ ++e,n){var t=!0,o=!1,u=void 0;try{for(var a,i=n[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var c=_slicedToArray(a.value,2),l=c[0],s=c[1];this.set(l,s)}}catch(f){o=!0,u=f}finally{try{!t&&i["return"]&&i["return"]()}finally{if(o)throw u}}}}return _createClass(r,[{key:"get",value:function(e){return this.has(e)?e[this._index]:void 0}},{key:"has",value:function(e){return Object.prototype.hasOwnProperty.call(e,this._index)}},{key:"delete",value:function(e){delete e[this._index]}},{key:"set",value:function(e,r){return Object.defineProperty(e,this._index,{configurable:!0,value:r}),this}}]),r}()}();var lu=module.exports={dumpPromise:function(e){return e.then(function(e){return lu.log("result:",e)},function(e){return lu.error("error:",e)})},dump:function(e,r){return console.log(e,r),r},log:console.log.bind(console),info:(console.info||console.log).bind(console),warn:(console.warn||console.log).bind(console),error:(console.error||console.log).bind(console),trace:(console.trace||console.log).bind(console),rests:function(e){for(var r=arguments.length,n=Array(r>1?r-1:0),t=1;r>t;t++)n[t-1]=arguments[t];var o=[],u=!0,a=!1,i=void 0;try{for(var c,l=n[Symbol.iterator]();!(u=(c=l.next()).done);u=!0){var s=c.value,f=e%s;e=(e-f)/s,o.push(f)}}catch(p){a=!0,i=p}finally{try{!u&&l["return"]&&l["return"]()}finally{if(a)throw i}}return o},pad:function(e,r,n){e=String(e);var t="";for(r-=e.length;r>0;)t+=n,--r;return t+e},time:function(){var e=new Date;return""+e.getHours()+":"+lu.pad(e.getMinutes(),2,0)+":"+lu.pad(e.getSeconds(),2,0)+"."+lu.pad(e.getMilliseconds(),3,0)},stack:function(){return(new Error).stack},options:function(e,r){var n={};for(var t in r)if(Object.prototype.hasOwnProperty.call(r,t))if(null==e)n[t]=r[t];else{var o=e[t];null==o&&(o=r[t]),n[t]=o}return n},str:function(e,r){return null==r&&(r=1),!e||!r||1>r?""+e:Array.isArray(e)?"[ "+e.map(function(e){return lu.str(e,r-1)}).join(" ")+" ]":e.constructor&&e.constructor!=Object?String(e):"{ "+Object.keys(e).map(function(n){return n+"="+lu.str(e[n],r-1)}).join(" ")+" }"},toOneLine:function(e){var r=JSON.stringify(e);return r+="\n"},byLines:function(e){var r="";return function(n){r+=String(n);var t=r.split("\n");r=t.pop(),t.forEach(e)}},byJSON:function(e){return byLines(function(r){return e(JSON.parse(r.trim()))})},valueOf:function(e){return null==e?null:null==e.valueOf?e:e.valueOf()},returnThis:function(){return this},returnNull:function(){return null},returnTrue:function(){return!0},returnFalse:function(){return!1},returnZero:function(){return 0},returnOne:function(){return 1},promiseSucceeded:Promise.resolve(),promiseNull:Promise.resolve(null),promiseTrue:Promise.resolve(!0),promiseFalse:Promise.resolve(!1),promiseZero:Promise.resolve(0),promiseOne:Promise.resolve(1),returnNullPromise:function(){return lu.promiseNull},returnTruePromise:function(){return lu.promiseTrue},returnFalsePromise:function(){return lu.promiseFalse},returnZeroPromise:function(){return lu.promiseZero},returnOnePromise:function(){return lu.promiseOne},when:function(e,r){return e.then(r,r),e},waitFor:function(e,r,n){return"function"==typeof e&&(r=e,e=5e3),"function"==typeof r&&(n=r,r=200),new Promise(function(t,o){var u=Date.now();setTimeout(function a(){var i=void 0;(i=n())?t(i):Date.now()-u>e?o(new Error("timeout")):setTimeout(a,r)},r)})},empty:Object.freeze(Object.create(null)),JSONEqual:function(e,r){return JSON.stringify(e)==JSON.stringify(r)},"new":function(){for(var e=arguments.length,r=Array(e),n=0;e>n;n++)r[n]=arguments[n];return r.reduce(function(e,r){return lodash.assign(e,r)},{})},call:function(e){for(var r=arguments.length,n=Array(r>1?r-1:0),t=1;r>t;t++)n[t-1]=arguments[t];return e.apply(void 0,n)},rethrow:function(e){setTimeout(function(){throw e},1)},"catch":function(e,r){try{return e()}catch(n){return r(n)}},catchMap:function(e,r,n){var t=void 0;try{t=e()}catch(o){return n(o)}return r(t)},catchCall:function(e){try{return{ok:!0,result:e()}}catch(r){return{ok:!1,error:r}}},"try":regeneratorRuntime.mark(function e(r){var n,t=void 0===arguments[1]?100:arguments[1],o=void 0===arguments[2]?3e3:arguments[2],u=void 0===arguments[3]?1.5:arguments[3];return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t;case 1:return e.prev=1,e.next=4,r();case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e["catch"](1),lu.rethrow(e.t0),e.next=12,co.sleep(n);case 12:n=Math.min(n*u,o);case 13:e.next=1;break;case 15:case"end":return e.stop()}},e,this,[[1,7]])}),unique:function(e,r,n){return 0==r||e!=n[r-1]},joinData:function(e){return 0==e.length?"":"string"==typeof e[0]?e.join(""):Buffer.isBuffer(e[0])?Buffer.concat(e):e.join("")},on:function(e,r){lodash.forEach(r,function(r,n){return e.on(n,r)})},off:function(e,r){lodash.forEach(r,function(r,n){return e.removeListener(n,r)})},readStream:regeneratorRuntime.mark(function r(e){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,{then:function(r,n){var t=[];e.on("data",function(e){return t.push(e)}),e.on("end",function(){return r(lu.joinData(t))}),e.on("error",n)}};case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},r,this)}),readJSON:regeneratorRuntime.mark(function n(e){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,lu.readStream(e);case 2:return r.t0=r.sent,r.abrupt("return",JSON.parse(r.t0));case 4:case"end":return r.stop()}},n,this)}),readChunk:regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,{then:function(r,n){function t(){e.removeListener("data",o),e.removeListener("end",u),e.removeListener("error",a)}function o(e){t(),r(e)}function u(){t(),r(null)}function a(e){t(),n(e)}e.on("data",o),e.on("end",u),e.on("error",a)}};case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},t,this)}),"static":function(e){return co.func(regeneratorRuntime.mark(function r(n,t){var o,u,a;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o=!1,u=!1,r.prev=1,r.next=4,e();case 4:a=r.sent,t.writeHead(200,_defineProperty({},"Content-Type","text/html; charset=UTF-8")),o=!0,"string"!=typeof a&&(a=React.renderComponentToString(a)),t.end(a),u=!0;case 10:return r.prev=10,o||t.writeHead(500,_defineProperty({},"Content-Type","text/plain")),u||t.end("<<< ERROR >>>"),r.finish(10);case 14:case"end":return r.stop()}},r,this,[[1,,10,14]])}))},property:function(e,r,n){var t="_"+r;return arguments.length>2&&(e[t]=n),e[r]=function(r){return 0==arguments.length?e[t]:(e[t]=r,e)},e},polling:function(e){var r={stop:function(){r&&(null!=r._polling&&(clearTimeout(r._polling),r._polling=null),r=null)},_polling:null,_tryToSendChunk:function(){r&&(r._polling=null,e.write(r._chunk)?("function"==typeof e.flush&&e.flush(),r._polling=setTimeout(r._tryToSendChunk,r._interval)):e.once("drain",r._tryToSendChunk))}};return lu.property(r,"chunk","\n"),lu.property(r,"interval",6e4),e.once("end",r.stop),e.once("close",r.stop),e.once("error",r.stop),process.nextTick(r._tryToSendChunk),r},testDiffImm:function(){var e={a:1,x:{u:9}},r={x:{c:2}};assert(Immutable.is(Immutable.fromJS(r),lu.applyDiffImm(e,lu.makeDiffImm(e,r))))},testDiff:function(){var e={a:1,x:{u:9}},r={x:{c:2}};assert(Immutable.is(Immutable.fromJS(r),Immutable.fromJS(lu.applyDiff(e,lu.makeDiff(e,r)))))},applyDiffImm:function(e,r){return Immutable.fromJS(e||Immutable.Map()).withMutations(function(e){Immutable.fromJS(r).forEach(function(r,n){null==r?e["delete"](n):r instanceof Immutable.Map?e.set(n,lu.applyDiffImm(e.get(n),r)):e.set(n,r)})})},makeDiffImm:function(e,r){return Immutable.Map().withMutations(function(n){function t(e){var r=[];return e&&Immutable.fromJS(e).forEach(function(e,n){r.push({key:n,value:e})}),r.sort(function(e,r){return e.key<r.key?-1:e.key>r.key?1:0})}for(var o=t(e),u=t(r),a=o.pop(),i=u.pop();a||i;)!i||a&&a.key>i.key?(n.set(a.key,null),a=o.pop()):!a||a.key<i.key?(n.set(i.key,i.value),i=u.pop()):(a.value instanceof Immutable.Map&&i.value instanceof Immutable.Map?n.set(i.key,lu.makeDiffImm(a.value,i.value)):n.set(i.key,i.value),a=o.pop(),i=u.pop())})},assignDiffImm:function(e,r){return lu.applyDiffImm(e,lu.makeDiffImm(e,r))},isLiteral:function(e){return e&&"object"==typeof e&&e.constructor==Object},applyDiff:function(e,r){function n(){t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r],++o)}var t=e,o=0;for(var u in r)if(Object.prototype.hasOwnProperty.call(r,u)){var a=r[u];null!=a&&"object"==typeof a&&(a=lu.applyDiff(t&&t[u],a)),null==a?null!=t&&Object.prototype.hasOwnProperty.call(t,u)&&(t===e&&n(),delete t[u],--o):((null==t||t[u]!==a)&&(t===e&&n(),t[u]=a),o=1/0)}return t!==e&&0==o&&(t=null),t},makeDiff:function(e,r){function n(e){var r=[];return lodash.forEach(e,function(e,n){r.push({key:n,value:e})}),r.sort(function(e,r){return e.key<r.key?-1:e.key>r.key?1:0})}for(var t=null,o=n(e),u=n(r),a=o.pop(),i=u.pop();a||i;)if(!i||a&&a.key>i.key)null==t&&(t={}),t[a.key]=null,a=o.pop();else if(!a||a.key<i.key)null==t&&(t={}),t[i.key]=i.value,i=u.pop();else{if(a.value!==i.value)if(lu.isLiteral(a.value)&&lu.isLiteral(i.value)){var c=lu.makeDiff(a.value,i.value);null!=c&&(null==t&&(t={}),t[i.key]=c)}else null==t&&(t={}),t[i.key]=i.value;a=o.pop(),i=u.pop()}return t},assignDiff:function(e,r){return lu.applyDiff(e,lu.makeDiff(e,r))},cast:function(e,r){if(!r||"object"!=typeof r)return r;var n=e||{},t=n.constructor,o=n.elements;return"string"==typeof t&&(t=Immutable[t]),(t||Immutable.Map)().withMutations(function(e){return Object.keys(r).forEach(function(n){return e.set(n,lu.cast(o&&o[n],r[n]))})})},concatString:function(e){var r="";return!function n(e){if("object"!=typeof e)r+=e;else if(null!=e.length)e.forEach(n);else{var t=!0,o=!1,u=void 0;try{for(var a,i=e[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var c=a.value;n(c)}}catch(l){o=!0,u=l}finally{try{!t&&i["return"]&&i["return"]()}finally{if(o)throw u}}}}(e),r},sortedDiff:function(e,r){for(var n=e[Symbol.iterator](),t=r[Symbol.iterator](),o={common:[],first:[],second:[]},u=n.next(),a=t.next();!u.done||!a.done;)a.done||u.value<a.value?(o.first.push(u.value),u=n.next()):u.done||u.value>a.value?(o.second.push(a.value),a=t.next()):(o.common.push(u.value),u=n.next(),a=t.next());return o},measure:function(e){var r=global.performance||global.Date,n=r.now();try{return e()}finally{if(n=(r.now()-n)/1e3,n>0){for(var t=1;1e3>n;)t*=10,n*=10;n=Math.round(n)/t}console.log(n)}},skip:regeneratorRuntime.mark(function o(e,r){var n,t,u,a,i,c;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:n=!0,t=!1,u=void 0,o.prev=3,a=r[Symbol.iterator]();case 5:if(n=(i=a.next()).done){o.next=16;break}if(c=i.value,!(e>0)){o.next=11;break}--e,o.next=13;break;case 11:return o.next=13,c;case 13:n=!0,o.next=5;break;case 16:o.next=22;break;case 18:o.prev=18,o.t0=o["catch"](3),t=!0,u=o.t0;case 22:o.prev=22,o.prev=23,!n&&a["return"]&&a["return"]();case 25:if(o.prev=25,!t){o.next=28;break}throw u;case 28:return o.finish(25);case 29:return o.finish(22);case 30:case"end":return o.stop()}},o,this,[[3,18,22,30],[23,,25,29]])}),take:regeneratorRuntime.mark(function u(e,r){var n,t,o,a,i,c;return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:n=!0,t=!1,o=void 0,u.prev=3,a=r[Symbol.iterator]();case 5:if(n=(i=a.next()).done){u.next=17;break}if(c=i.value,!(e>0)){u.next=13;break}return--e,u.next=11,c;case 11:u.next=14;break;case 13:return u.abrupt("break",17);case 14:n=!0,u.next=5;break;case 17:u.next=23;break;case 19:u.prev=19,u.t0=u["catch"](3),t=!0,o=u.t0;case 23:u.prev=23,u.prev=24,!n&&a["return"]&&a["return"]();case 26:if(u.prev=26,!t){u.next=29;break}throw o;case 29:return u.finish(26);case 30:return u.finish(23);case 31:case"end":return u.stop()}},u,this,[[3,19,23,31],[24,,26,30]])}),copy:function(e){var r=lu.array(e);return r==e&&(r=e.slice()),r},array:function(e){if(Array.isArray(e))return e;var r=[];if(e[Symbol.iterator]){var n=!0,t=!1,o=void 0;try{for(var u,a=e[Symbol.iterator]();!(n=(u=a.next()).done);n=!0){var i=u.value;r.push(i)}}catch(c){t=!0,o=c}finally{try{!n&&a["return"]&&a["return"]()}finally{if(t)throw o}}}else for(var l=0;l<e.length;++l)r.push(e[l]);return r},buffer:function(e){return e instanceof Buffer?e:new Buffer(lu.array(e))},vector:function(e){return e instanceof Buffer?e:lu.array(e)},concat:regeneratorRuntime.mark(function a(e){var r,n,t,o,u,i,c,l,s,f,p,m;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:r=!0,n=!1,t=void 0,a.prev=3,o=e[Symbol.iterator]();case 5:if(r=(u=o.next()).done){a.next=36;break}i=u.value,c=!0,l=!1,s=void 0,a.prev=10,f=i[Symbol.iterator]();case 12:if(c=(p=f.next()).done){a.next=19;break}return m=p.value,a.next=16,m;case 16:c=!0,a.next=12;break;case 19:a.next=25;break;case 21:a.prev=21,a.t0=a["catch"](10),l=!0,s=a.t0;case 25:a.prev=25,a.prev=26,!c&&f["return"]&&f["return"]();case 28:if(a.prev=28,!l){a.next=31;break}throw s;case 31:return a.finish(28);case 32:return a.finish(25);case 33:r=!0,a.next=5;break;case 36:a.next=42;break;case 38:a.prev=38,a.t1=a["catch"](3),n=!0,t=a.t1;case 42:a.prev=42,a.prev=43,!r&&o["return"]&&o["return"]();case 45:if(a.prev=45,!n){a.next=48;break}throw t;case 48:return a.finish(45);case 49:return a.finish(42);case 50:case"end":return a.stop()}},a,this,[[3,38,42,50],[10,21,25,33],[26,,28,32],[43,,45,49]])}),word:function(e){return[255&e,e>>8&255]},dword:function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},makeWord:function(e,r){return(255&e)+(255&r)<<8},arrayEqual:function(e,r){return e&&r&&e.length==r.length&&e.every(function(e,n){return e==r[n]})},compare:function(e,r){return e==r?0:r>e?-1:1},formatms:function(e){function r(e,r){for(var n=String(e),t="",o=n.length;r>o;++o)t+="0";return t+=n}var n="";e=Math.round(e);var t=e%1e3;e-=t,e/=1e3;var o=e%60;e-=o,e/=60;var u=e%60;e-=u,e/=60;var a=e;return n+=a?a:"",n+=n?":"+r(u,2):u?u:"",n+=n?":"+r(o,2):o,n+="."+r(t,3)},get:function(e){for(var r=arguments.length,n=Array(r>1?r-1:0),t=1;r>t;t++)n[t-1]=arguments[t];var o=!0,u=!1,a=void 0;try{for(var i,c=n[Symbol.iterator]();!(o=(i=c.next()).done);o=!0){var l=i.value;if(null==e)break;e=e[l]}}catch(s){u=!0,a=s}finally{try{!o&&c["return"]&&c["return"]()}finally{if(u)throw a}}return e},limitCalls:function(e,r,n){var t=0;return function(){if(t>=e){if(n)throw new Error.create(n);return!1}return++t,setTimeout(function(){return--t},r),!0}}};

},{"co":"/home/vadzim/v/work/nerojs/src/co.js","events":false,"lodash":"/home/vadzim/v/work/nerojs/node_modules/lodash/dist/lodash.js","ra":"/home/vadzim/v/work/nerojs/src/ra.js"}],"/home/vadzim/v/work/nerojs/src/modem.js":[function(require,module,exports){
"use strict";function _toConsumableArray(r){if(Array.isArray(r)){for(var e=0,o=Array(r.length);e<r.length;e++)o[e]=r[e];return o}return Array.from(r)}function _classCallCheck(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(r.__proto__=e)}function after(r,e){var o=function(){return e&&e()&&void 0};return r.then(o,o)}function checkCRC(r,e){var o=dataCRC.read(r);if(null==o)return null;var t=dataSize.read(r);if(o!=CRC.calc_crc(r.slice(1,5+t)))return!1;var n=e(r.slice(5,5+t));return n?r.splice(0,5+t+2):n=!1,n}function ApplyP1Readers(r){if(8!=r.length)return!1;var e=cmd1.read(r),o=P1Readers[e.lo],t=o&&(o[e.hi]?o[e.hi]:o.any);if(!t)return!1;var n=t(r);return n}function bit(r,e){var o=void 0===arguments[2]?1:arguments[2];return{write:function(t,n){return t[r]=(t[r]&~(o<<e))+((n&o)<<e),t},read:function(t){return null==t[r]?null:t[r]>>e&o}}}function byte(r){return{write:function(e,o){return e[r]=o,e},read:function(e){return e[r]}}}function writeWord(r,e,o){return e[r]=255&o,e[r+1]=o>>8&255,e}function readWord(r,e){return null==e[r]||null==e[r+1]?null:e[r]+(e[r+1]<<8)}function word(r){return{write:writeWord.bind(null,r),read:readWord.bind(null,r)}}function dword(r){return{write:function(e,o){return e[r]=255&o,e[r+1]=o>>8&255,e[r+2]=o>>16&255,e[r+3]=o>>24&255,e},read:function(e){return null==e[r]||null==e[r+1]||null==e[r+2]||null==e[r+3]?null:e[r]+(e[r+1]<<8)+(e[r+2]<<16)+(e[r+3]<<24)}}}function record(r){return{read:function(e){var o={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(o[t]=r[t].read(e));return o},write:function(e,o){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&r[t].write(e,o[t]);return e},rec:r}}function compose(r,e){return{read:function(o){return r.read(e.read(o))},write:function(o,t){return e.write(o,r.write(t))}}}var _createClass=function(){function r(r,e){for(var o=0;o<e.length;o++){var t=e[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}return function(e,o,t){return o&&r(e.prototype,o),t&&r(e,t),e}}(),lodash=require("lodash"),CRC=require("modemcrc"),co=require("co"),lu=require("localUtils"),USB_bFLAG_DATA=126,USB_bSTAF_DATA=125,PROTOCOL_NUMBER=1,ModemError=function(r){function e(){_classCallCheck(this,e),null!=r&&r.apply(this,arguments)}return _inherits(e,r),e}(Error),ModemTimeout=function(r){function e(){_classCallCheck(this,e),null!=r&&r.apply(this,arguments)}return _inherits(e,r),e}(ModemError),Modem=function(){function r(e,o){_classCallCheck(this,r),this._stream=e,this._log=o,this._stream.on("data",this._ondata.bind(this)),this._commands=[],this._onready=Promise.resolve()}return _createClass(r,[{key:"lock",value:function(e,o){var t=this._onready,n=co.gocall(regeneratorRuntime.mark(function i(){var n;return regeneratorRuntime.wrap(function(i){for(var u=this;;)switch(i.prev=i.next){case 0:return i.next=2,t;case 2:return n=this._log,o&&(this._log=null),i.prev=4,i.next=7,e.call(this,function(){for(var e=arguments.length,o=Array(e),t=0;e>t;t++)o[t]=arguments[t];return u._sendBuffer(r.encode.apply(r,o))});case 7:return i.abrupt("return",i.sent);case 8:return i.prev=8,o&&(this._log=n),i.finish(8);case 11:case"end":return i.stop()}},i,this,[[4,,8,11]])}),this);return this._onready=after(n),n}},{key:"_sendBuffer",value:function(e){var o=this;if(this._current)throw new Error("modem is busy");this._log&&this._log("buffer prepared:",e,r.extractMessage(e));var t=void 0,n=new Promise(function(r,n){t=setTimeout(function(){o._log&&o._log("timeout"),n(new ModemTimeout)},3e3),o._current={resolve:r,reject:n,buffer:[]},o._log&&o._log("writing buffer");var i=o._stream.write(e);o._log&&o._log("++++++++++++++++++++++ written: "+i+" ++++++++++++++++++++++")});return after(n,function(){clearTimeout(t),o._current=null}),n}},{key:"_ondata",value:function(e){if(this._log&&this._log("received:",e),!(e instanceof Buffer))throw new Error("data must be an instance of Buffer");var o=this._current;if(o){for(var t=o.buffer,n=0;n<e.length;++n){var i=e[n];(0!=t.length||i==USB_bFLAG_DATA)&&(o.staf?(o.staf=!1,t.push(i)):i==USB_bSTAF_DATA?o.staf=!0:t.push(i))}if(!o.staf){var u=t.length;this._log&&this._log("parsing:",new Buffer(t));for(var _=void 0;0==(_=r.extractMessage(t));)t.shift();if(null==_&&u!=t.length&&this._log&&this._log("skipped:",u-t.length),this._log&&this._log("parsed:",_),null!=_)return _?this._debugTimeout?void(this._debugTimeout=!1):void o.resolve(_):void o.reject(new ModemError("wrong packet from modem"))}}}}],[{key:"encodeCommand",value:function(e,o){return r._commands[e](o)}},{key:"encodeArray",value:function(r){if(r=lu.copy(r),r.length>255)throw new ModemError("too long message");r.unshift(255,3,PROTOCOL_NUMBER,r.length),r.push.apply(r,_toConsumableArray(lu.word(CRC.calc_crc(r))));var e=[USB_bFLAG_DATA],o=!0,t=!1,n=void 0;try{for(var i,u=r[Symbol.iterator]();!(o=(i=u.next()).done);o=!0){var _=i.value;(_==USB_bFLAG_DATA||_==USB_bSTAF_DATA)&&e.push(USB_bSTAF_DATA),e.push(_)}}catch(c){t=!0,n=c}finally{try{!o&&u["return"]&&u["return"]()}finally{if(t)throw n}}return lu.buffer(e)}},{key:"encode",value:function(r,e){return"string"!=typeof r&&(e=r,r=e.id),this.encodeArray(this.encodeCommand(r,e))}}]),r}();Modem.Error=ModemError,Modem.ETimeout=ModemTimeout,Modem._commands={},module.exports=Modem;var dataSize=byte(4),dataCRC={read:function(r){var e=dataSize.read(r);return null==e?null:readWord(e+5,r)},write:function(r){return writeWord(dataSize.read(r),r)}},cmd1=record({lo:byte(2),hi:byte(3)}),P1Readers=[];Modem.Work_Mode=1,Modem.Init_Device_Mode=2,Modem.Extended_Work_Mode=3,Modem.extractMessages=function(r){"string"==typeof r&&(r=r.split(/\s|\r|\n/).filter(function(r){return r.match(/^[0-9a-fA-F]{1,2}$/)}).map(function(r){return parseInt("0x"+r)}));for(var e=[],o=void 0;;){for(;0==(o=Modem.extractMessage(r));)r.shift();if(null==o)return r.length>0&&e.push(r),e;e.push(o)}},Modem.extractMessage=function(r){return r.length<4?null:(r=lu.array(r),r[0]!=USB_bFLAG_DATA||255!=r[1]||3!=r[2]||r[3]!=PROTOCOL_NUMBER?!1:checkCRC(r,ApplyP1Readers))},!function(){function r(r){var e={};if(r[Symbol.iterator]){var o=0,t=!0,n=!1,i=void 0;try{for(var u,_=r[Symbol.iterator]();!(t=(u=_.next()).done);t=!0){var c=u.value;null!=c&&(e[c]=o),++o}}catch(a){n=!0,i=a}finally{try{!t&&_["return"]&&_["return"]()}finally{if(n)throw i}}}else for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[r[o]]=o);return{read:function(r){if(null==r)return null;var o=e[r];return null==o&&(o=r),o},write:function(e){if(null==e)return null;var o=e;if("string"==typeof e&&(o=r[e],null==o))throw new Error("wrong constant "+e);return o}}}function e(r){return{read:function(e){return null==e?null:e*r},write:function(e){return null==e?null:Math.round(e/r)}}}function o(r,e){var o=void 0===arguments[2]?" ":arguments[2],t="",n=e-r.length;if(!o)return r;for(;n&&n>0;)t+=o,--n;return t+r}function t(){var r=void 0===arguments[0]?0:arguments[0];return{read:function(e){return null==e?null:o(e.toString(16),r,"0")},write:function(r){return null==r?null:parseInt(r,16)}}}function n(e){function o(){"string"==typeof e?e=D[e]:"function"!=typeof e.read&&(e=r(e)),o=function(){}}return{read:function(r){if(o(),null==r)return null;for(var t=0,n={};r;)1&r&&(n[e.read(t)]=!0),++t,r>>=1;return n},write:function(r){if(o(),null==r||"object"!=typeof r)return r;var t=0;r[Symbol.iterator]||(r=Object.keys(r).filter(function(e){return r[e]}));var n=!0,i=!1,u=void 0;try{for(var _,c=r[Symbol.iterator]();!(n=(_=c.next()).done);n=!0){var a=_.value;t|=1<<e.write(a)}}catch(d){i=!0,u=d}finally{try{!n&&c["return"]&&c["return"]()}finally{if(i)throw u}}return t}}}function i(r,e,o){if("number"!=typeof r)throw new ModemError("wrong cmdLo");P1Readers[r]=P1Readers[r]||[],"number"!=typeof e&&(e="any"),P1Readers[r][e]=o}function u(r,e,o){if(Modem._commands[r]){var t="duplicate command identifier "+r;throw console.error("registerWriter",t),new Error(t)}(Modem._commands[r]=function(r){var o=[];return o.length=8,e(o,r),o}).type=o}function _(r,e){var o={};for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=e[t];"number"==typeof n&&!function(){var r=n,e=A[t];if(!e)throw new ModemError("wrong constant in command definition");n={read:function(){return r},write:function(o){return e.write(o,r)}}}(),D[t]&&(n=compose(D[t],n)),o[t]=n}var _=function(e){var t={id:r};for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n].read(e));return t};i(e.cmdLo,e.cmdHi,_);var c=function(r,e){for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&o[t].write(r,e&&e[t]);return r};u(r,c,e)}function c(r,e,o,t){o.cmdLo=32,o.cmdHi=e,t.cmdLo=33,t.cmdHi=e,_(r,o),_("answer_"+r,t)}var a=bit(6,7),d=bit(6,6),l=bit(6,5),s=bit(6,3),m=bit(6,2),f=bit(6,1),p=bit(6,0),g=bit(7,7),C=bit(7,6),M=bit(7,0,7),T=byte(3),O=byte(4),h=byte(5),R=byte(6),S=byte(7),y=word(4),v=dword(4),E=word(0),I=cmd1.rec.lo,P=cmd1.rec.hi,A={cmdLo:I,cmdHi:P},D={GROUP:r({Any_Group:0}),CMD:r({None:0,Stop:1,Up:2,Down:3,Comfort_1:4,Comfort_2:5,Script:6,Loop:7,Set_To_Comfort:8}),TIME:r({Pressed_0_sec:1,Pressed_0_5_sec:2,Pressed_1_sec:3,Pressed_4:4,Released_0_sec:9,Released_0_5_sec:10,Released_1_sec:11,Released_4_sec:12}),COMFORT:e(1e-4),MOVE_TIME:e(.01),MODE:r(["Ignore_For_Out","Idle","Setting","Comfort_1","Comfort_2","Self_Group","Remote","Program","Script","Comfort_For_Script","Update"]),GROUP_SETTING:r(["Received_Cmd_Is_Executed_Only_Locally","Received_Cmd_Is_Executed_Locally_And_For_Self_Group"]),KEYPAD_STATUS:n(["Key_Up_Pressed","Key_Stop_Pressed","Key_Down_Pressed","Key_Comfort_Pressed","Key_Group_Pressed","Key_Program_Pressed","Key_External_1_Pressed","Key_External_2_Pressed"]),RESULT:r({OK:1,Packet_Error:2,Memory_Overflow:3,Packet_Missed:4,Packet_Not_Allowed:5,Packed_appled_at_modem:6,Connection_error:7,Command_in_progress:8,Command_auth_req:9,Device_Error:10}),LEVEL:e(.001),MODEM_MODE:r({Work_Mode:1,Init_Device_Mode:2,Extended_Work_Mode:3,Extended_Init_Mode:4,Reset_Password_Mode:5,RSSI_catch_mode:6}),PROTOCOL_NUM:r({NERO_II_SmartHome:0,INTRO_II_SmartHome:1,All_protocols:255}),PROTOCOLS:n("PROTOCOL_NUM"),MODEM_FUNCTIONS:n({}),CUR_CONDITION:e(1e-4),DEST_CONDITION:e(1e-4),ID:t()};_("Write_Group",{group:E,cmdLo:1,TIME:O,WCK:s,RPM:m,DEL:f}),_("Write_Script",{group:E,cmdLo:2,cmdHi:0,TIME:O,WCK:s,RPM:m,DEL:f}),_("Write_Script_With_Cmd",{group:E,cmdLo:2,CMD:T,TIME:O,WCK:s,RPM:m,DEL:f}),_("Write_By_Allowance",{group:E,cmdLo:3,TIME:O}),_("Stop_Write_With_Ack",{group:E,cmdLo:4}),_("Write_Group_In_Idle",{group:E,cmdLo:5,GROUP:y,ACK:a}),_("Allow_Group_Writing",{group:E,cmdLo:6,cmdHi:0,ACK:a}),_("Allow_Script_Writing",{group:E,cmdLo:6,CMD:T,TIME:O,ACK:a,DIM:d,ROL:l}),_("Allow_Script_With_Comfort_Writing",{group:E,cmdLo:6,cmdHi:32,COMFORT:y,ACK:a,DN:g,UP:C}),_("Change_Script_Into_Cmd",{group:E,cmdLo:7,CMD:T,TIME:O,ACK:a,DIM:d,ROL:l}),_("Change_Script_Into_Comfort",{group:E,cmdLo:7,cmdHi:32,COMFORT:y,ACK:a,DN:g,UP:C}),_("Delete_Group_In_Programming_Mode",{group:E,cmdLo:8,cmdHi:1,GROUP:y,ACK:a}),_("Delete_Group_In_Idle_Mode",{group:E,cmdLo:8,cmdHi:2,GROUP:y,ACK:a}),_("Clear_Device_Memory_In_Idle_Mode",{group:E,cmdLo:8,cmdHi:3,ACK:a}),_("Stop",{group:E,cmdLo:16,cmdHi:1,TIME:O,ACK:a,DIM:d,ROL:l,SGRP:p,PRIORITY:M}),_("Up",{group:E,cmdLo:16,cmdHi:2,TIME:O,ACK:a,DIM:d,ROL:l,SGRP:p,PRIORITY:M}),_("Down",{group:E,cmdLo:16,cmdHi:3,TIME:O,ACK:a,DIM:d,ROL:l,SGRP:p,PRIORITY:M}),_("Set_To_Comfort_1",{group:E,cmdLo:16,cmdHi:4,TIME:O,ACK:a,DIM:d,ROL:l,SGRP:p,PRIORITY:M}),_("Set_To_Comfort_2",{group:E,cmdLo:16,cmdHi:5,TIME:O,ACK:a,DIM:d,ROL:l,SGRP:p,PRIORITY:M}),_("Script",{group:E,cmdLo:16,cmdHi:6,TIME:O,ACK:a,DIM:d,ROL:l,SGRP:p,PRIORITY:M}),_("Loop",{group:E,cmdLo:16,cmdHi:7,TIME:O,ACK:a,DIM:d,ROL:l,SGRP:p,PRIORITY:M}),_("Set_To_Comfort",{group:E,cmdLo:16,cmdHi:32,COMFORT:y,ACK:a,SGRP:p,DN:g,UP:C,PRIORITY:M}),_("ScanCod_For_Modes",{group:E,cmdLo:17,CMD:T,TIME:O,MODE:h,ACK:a,DIM:d,ROL:l}),_("GoTo_Mode",{group:E,cmdLo:24,cmdHi:1,To_MODE:O,From_MODE:h,ACK:a}),_("Change_Mode_Setting",{group:E,cmdLo:24,cmdHi:2,MODE_SETTING:O,MASK:h,ACK:a}),_("Change_System_Setting",{group:E,cmdLo:24,cmdHi:3,SYSTEM_SETTING:O,MASK:h,ACK:a}),_("Change_Cmd_Setting",{group:E,cmdLo:24,cmdHi:4,CMD_SETTING:O,MASK:h,ACK:a}),_("Change_Group_Setting",{group:E,cmdLo:24,cmdHi:5,GROUP_SETTING:O,MASK:h,ACK:a}),_("Change_Move_Time",{group:E,cmdLo:24,cmdHi:6,MOVE_TIME:y,ACK:a}),_("Change_Comfort_1",{group:E,cmdLo:24,cmdHi:7,COMFORT:y,ACK:a,DN:g,UP:C}),_("Change_Comfort_2",{group:E,cmdLo:24,cmdHi:8,COMFORT:y,ACK:a,DN:g,UP:C}),_("Change_Script_Comfort",{group:E,cmdLo:24,cmdHi:9,COMFORT:y,ACK:a,DN:g,UP:C}),_("Reset_To_Factory_Setting",{group:E,cmdLo:24,cmdHi:10,DEFAUL_SETTING:y,ACK:a}),_("Change_Group_Settings_For_Scenario_Control",{group:E,cmdLo:24,cmdHi:11,GRP_KEYS:O,SCEN_GRP_SETTING:h,ACK:a}),c("Mode",1,{group:E},{group:E,MODE:O}),c("Mode_Setting",2,{group:E},{group:E,MODE_SETTING:O}),c("System_Setting",3,{group:E},{group:E,SYSTEM_SETTING:O}),c("Cmd_Setting",4,{group:E},{group:E,CMD_SETTING:O}),c("Group_Setting",5,{group:E},{group:E,GROUP_SETTING:O}),c("Move_Time",6,{group:E},{group:E,MOVE_TIME:y}),c("Comfort_1",7,{group:E},{group:E,COMFORT:y,DN:g,UP:C}),c("Comfort_2",8,{group:E},{group:E,COMFORT:y,DN:g,UP:C}),c("Script_Comfort",9,{group:E},{group:E,COMFORT:y,DN:g,UP:C}),c("Keypad_Status",10,{group:E},{group:E,KEYPAD_STATUS:O}),c("Cur_Condition",11,{group:E},{group:E,CUR_CONDITION:y,DN:g,UP:C}),c("Dest_Condition",12,{group:E},{group:E,DEST_CONDITION:y,DN:g,UP:C}),c("Version_High",13,{group:E},{group:E,PRODUCT_HARD:O,PRODUCT_VARIANT:h}),c("Version_Low",14,{group:E},{group:E,PRODUCT_VERSION:O,PRODUCT_ID:h}),c("Result",15,{group:E},{group:E,RESULT:O}),c("Signal_Level",16,{group:E},{group:E,LEVEL:y}),c("Free_Cell_Count",17,{},{COUNT:y}),c("Version",18,{},{PRODUCT_VERSION:O,PRODUCT_ID:h,PRODUCT_HARD:R,PRODUCT_VARIANT:S}),c("Id_Cell_Number",19,{},{DEV_NUM:O}),c("Scenario_Control_Group_Setting",20,{group:E,key1:O},{group:E,GRP_KEYS:O,SCEN_GRP_SETTING:h}),c("Functions",21,{},{PROTOCOLS:O,MODEM_FUNCTIONS:h}),c("Identifier",22,{},{ID:v}),_("Change_modem_work_mode",{cmdLo:25,cmdHi:1,MODEM_MODE:O}),_("Do_id_nx_substitution",{cmdLo:25,cmdHi:2,DEV_NUM:y}),_("Delete_id_nx_of_device",{cmdLo:25,cmdHi:3,DEV_NUM:y}),_("Change_protocol",{cmdLo:25,cmdHi:4,PROTOCOL_NUM:O})}();

},{"co":"/home/vadzim/v/work/nerojs/src/co.js","localUtils":"/home/vadzim/v/work/nerojs/src/localUtils.js","lodash":"/home/vadzim/v/work/nerojs/node_modules/lodash/dist/lodash.js","modemcrc":"/home/vadzim/v/work/nerojs/src/modemcrc.js"}],"/home/vadzim/v/work/nerojs/src/modemcrc.js":[function(require,module,exports){
"use strict";function update_crc(e,r){for(var t=0;8>t;t++)32768&e?(e<<=1,e&=65535,1&r&&(e|=1),e^=4129):(e<<=1,e&=65535,1&r&&(e|=1)),r>>=1;return e}function iterable(e){return e[Symbol.iterator]||e.next?e:regeneratorRuntime.mark(function r(){var t;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:t=0;case 1:if(!(t<e.length)){r.next=7;break}return r.next=4,e[t];case 4:++t,r.next=1;break;case 7:case"end":return r.stop()}},r,this)})}function calc_crc(e){var r=initial_crc,t=!0,c=!1,a=void 0;try{for(var n,i=iterable(e)[Symbol.iterator]();!(t=(n=i.next()).done);t=!0){var u=n.value;r=update_crc(r,u)}}catch(o){c=!0,a=o}finally{try{!t&&i["return"]&&i["return"]()}finally{if(c)throw a}}return r}function append_crc(e){var r,t,c,a,n,i,u,o;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:r=!0,t=initial_crc,c=!0,a=!1,n=void 0,s.prev=5,i=iterable(e)[Symbol.iterator]();case 7:if(c=(u=i.next()).done){s.next=16;break}return o=u.value,t=update_crc(t,o),s.next=12,o;case 12:r=!1;case 13:c=!0,s.next=7;break;case 16:s.next=22;break;case 18:s.prev=18,s.t0=s["catch"](5),a=!0,n=s.t0;case 22:s.prev=22,s.prev=23,!c&&i["return"]&&i["return"]();case 25:if(s.prev=25,!a){s.next=28;break}throw n;case 28:return s.finish(25);case 29:return s.finish(22);case 30:return s.next=32,255&t;case 32:return s.next=34,t>>8&255;case 34:case"end":return s.stop()}},marked0$0[0],this,[[5,18,22,30],[23,,25,29]])}var marked0$0=[append_crc].map(regeneratorRuntime.mark),initial_crc=0;module.exports={initial_crc:initial_crc,update_crc:update_crc,calc_crc:calc_crc,append_crc:append_crc};

},{}],"/home/vadzim/v/work/nerojs/src/modemstub.js":[function(require,module,exports){
"use strict";var Modem=require("modem"),net=require("net"),fs=require("fs"),lu=require("localUtils"),co=require("co");require("colors");var versionBuffer=new Buffer("7e ff 03 01 08 00 00 20 12 00 00 00 00 68 39".replace(/\s/g,""),"hex").toString("hex"),firstVersion=!0,ondata=co.func(regeneratorRuntime.mark(function e(r){var t,o,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=!1,versionBuffer!=r.toString("hex")?t=!0:firstVersion&&(t=!0,firstVersion=!1),t&&console.log(("stub: "+r.inspect()).yellow),r=Modem.extractMessage(r),t&&console.log(("stub: "+JSON.stringify(r)).yellow),o="Packet_Error",n=0,e.t0=r.id,e.next="Version"===e.t0?10:"Free_Cell_Count"===e.t0?12:"Functions"===e.t0?14:"Change_modem_work_mode"===e.t0?16:"Write_Group"===e.t0?18:"Set_To_Comfort"===e.t0?18:"Set_To_Comfort_1"===e.t0?18:"Set_To_Comfort_2"===e.t0?18:"Up"===e.t0?18:"Down"===e.t0?18:"Stop"===e.t0?18:"Delete_Group_In_Idle_Mode"===e.t0?21:24;break;case 10:return o={PRODUCT_VERSION:1,PRODUCT_ID:73,PRODUCT_HARD:22,PRODUCT_VARIANT:8},e.abrupt("break",24);case 12:return o={COUNT:122},e.abrupt("break",24);case 14:return o={PROTOCOLS:{NERO_II_SmartHome:!0,INTRO_II_SmartHome:!0},MODEM_FUNCTIONS:{}},e.abrupt("break",24);case 16:return"Work_Mode"==r.MODEM_MODE&&(o="OK"),e.abrupt("break",24);case 18:return n=600,o="OK",e.abrupt("break",24);case 21:return n=300,o="OK",e.abrupt("break",24);case 24:if("string"==typeof o&&(o={id:"answer_Result",RESULT:o}),!n){e.next=30;break}return this.pause(),e.next=29,co.sleep(n);case 29:this.resume();case 30:this.write(Modem.encode(o.id||"answer_"+r.id,o));case 31:case"end":return e.stop()}},e,this)})),createServer=function(e){var r=net.createServer(function(e){return e.on("data",ondata)});return r.on("error",function(e){return console.log("stub error:".red,e)}),r.listen(e),r};createServer("/tmp/ne_modem_stub"),createServer(2234);

},{"co":"/home/vadzim/v/work/nerojs/src/co.js","colors":"/home/vadzim/v/work/nerojs/node_modules/colors/lib/index.js","fs":false,"localUtils":"/home/vadzim/v/work/nerojs/src/localUtils.js","modem":"/home/vadzim/v/work/nerojs/src/modem.js","net":false}],"/home/vadzim/v/work/nerojs/src/pingpong.js":[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_get=function(e,t,r){for(var n=!0;n;){var o=e,i=t,u=r;s=a=c=void 0,n=!1;var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var c=s.get;return void 0===c?void 0:c.call(u)}var a=Object.getPrototypeOf(o);if(null===a)return void 0;e=a,t=i,r=u,n=!0}},fs=require("fs"),stream=require("stream"),constants=require("constants"),co=require("co"),lodash=require("lodash"),cowrite=co.cb(fs.write),coread=co.cb(fs.read),PingPong=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),null==e&&(e={}),this.options={},this.options.bufferSize=e.bufferSize||65536,this.options.timeout=e.timeout,this.buf=new Buffer(this.options.bufferSize)}return _inherits(t,e),_createClass(t,[{key:"connect",value:function(e){var t=this;fs.open(e,constants.O_RDWR|constants.O_NOCTTY,function(e,r){e?t.emit("error",e):(t.fd=r,t.emit("connect"))})}},{key:"destroy",value:function(){null!=this.fd&&(fs.close(this.fd),this.fd=null)}},{key:"unref",value:function(){}},{key:"_read",value:function(e){return null==this.fd?this.push(null):void 0}},{key:"_write",value:function(e,t,r){co.gocall(regeneratorRuntime.mark(function n(){var o,i,u;return regeneratorRuntime.wrap(function(n){for(var s=this;;)switch(n.prev=n.next){case 0:return o=void 0,i=void 0,i=lodash.once(function(e){return o&&clearTimeout(o),e&&s.destroy(),r(e)}),o=this.options.timeout&&setTimeout(function(){return i(new Error("timeout"))},this.options.timeout),n.prev=3,"string"==typeof e&&(e=new Buffer(e,t)),n.next=7,cowrite(this.fd,e,0,e.length,null);case 7:return n.next=9,coread(this.fd,this.buf,0,this.buf.length,null);case 9:u=n.sent,this.push(this.buf.slice(0,u)),n.next=16;break;case 13:return n.prev=13,n.t0=n["catch"](3),n.abrupt("return",i(n.t0));case 16:i();case 17:case"end":return n.stop()}},n,this,[[3,13]])}),this)}}]),t}(stream.Duplex);module.exports=PingPong;

},{"co":"/home/vadzim/v/work/nerojs/src/co.js","constants":false,"fs":false,"lodash":"/home/vadzim/v/work/nerojs/node_modules/lodash/dist/lodash.js","stream":false}],"/home/vadzim/v/work/nerojs/src/platform.js":[function(require,module,exports){
"use strict";function initImmutableIterators(){var t=function(){var t=this;return{next:function(){var e=t.first(),r={value:e,done:void 0===e&&0===t.length};return t=t.rest(),r}}},e=function(){var t=this,e=0;return{next:function(){return e<t.length?{value:t.get(e++)}:{done:!0}}}},r=function(){return e.call(this.values())},n=function(t,e){return t.prototype[Symbol.iterator]=e};n(Immutable.Sequence,t),n(Immutable.Range,e),n(Immutable.Vector,e),n(Immutable.Repeat,e),n(Immutable.Map,r),n(Immutable.OrderedMap,r),n(Immutable.Set,r);var o=Immutable.Map({x:1});n(o.values().constructor,e),n(o.keys().constructor,e),n(Immutable.Sequence(2,3,4).constructor,e)}if(Object.defineProperty(Object.prototype,"_LOG_",{value:function(){return console.log(this),this},configurable:!0}),"function"==typeof Symbol&&Symbol.iterator){var x=null;try{x=eval.call(null,"(function*(){}().constructor.prototype)")}catch(_){}x&&!x[Symbol.iterator]&&(x[Symbol.iterator]=function(){return this})}

},{}],"/home/vadzim/v/work/nerojs/src/ra.js":[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}function _defineProperty(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0})}function AbstractGuard(){}function is(e,t,r){return Object.is(e,t)||t&&"function"==typeof t.isEqualTo&&t.isEqualTo(e)||e&&"function"==typeof e.isEqualTo&&e.isEqualTo(t)||"function"==typeof r&&r(e,t)}function ArrayIsEqualTo(e){return this==e||Array.isArray(e)&&this.length==e.length&&this.every(function(t,r){return is(t,e[r])})}function JsonIsEqualTo(e){return this==e||JSON.stringify(this)==JSON.stringify(e)}function createActual(){var e=ra();return e.assign(e),ra(function(){var t=e.valueOf();ra.detach(function(){return e.assign(t)})}),e}function toKey(e){return toKey.Keys||(toKey.Keys="undefined"!=typeof WeakMap?new WeakMap:function(){var e="_to_key_"+UID();return{set:function(t,r){Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!1,value:r})},get:function(t){return t[e]},has:function(t){return Object.prototype.hasOwnProperty.call(t,e)}}}()),!e||"object"!=typeof e&&"function"!=typeof e?typeof e+e:(toKey.Keys.has(e)||toKey.Keys.set(e,UID()),toKey.Keys.get(e))}var _get=function(e,t,r){for(var n=!0;n;){var a=e,i=t,u=r;l=s=o=void 0,n=!1;var l=Object.getOwnPropertyDescriptor(a,i);if(void 0!==l){if("value"in l)return l.value;var o=l.get;return void 0===o?void 0:o.call(u)}var s=Object.getPrototypeOf(a);if(null===s)return void 0;e=s,t=i,r=u,n=!0}},_createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),later=require("later").push,co=require("co"),UID=require("uid"),lodash=require("lodash"),_require=require("LOG"),LOG=_require.LOG,actionKey="_RA_ACTION_"+UID(),raValue="_RA_VALUE_"+UID(),updates={};updates.scheduled=!1,updates.procs=[],updates.index=0,updates.maxIndex=32768,updates.processing=!1,updates.totalTime=0,updates.maxTime=0,updates.maxTime1=0,updates.minTime=1/0,updates.runCount=0,updates.runAllCount=0,global.updates=updates;var performance=global.performance||global.Date;updates.start=performance.now(),updates.log=function(){return console.log(":: "+updates.totalTime/1e3+" / "+(performance.now()-updates.start)/1e3+" ("+updates.maxTime/1e3+", "+updates.maxTime1/1e3+", "+updates.minTime/1e3+", "+Action.maxCount+", "+updates.runCount+", "+updates.runAllCount+")")},updates.checkSchedule=function(){!updates.scheduled&&updates.procs.length>0&&(updates.scheduled=!0,later(updates.tick))},updates.tick=function(){updates.scheduled=!1;for(var e=0;1e3>e;++e)try{updates.runAll();break}catch(t){setTimeout(function(){throw t},1)}updates.checkSchedule()},updates.runAll=function(){var e=performance.now(),t=e,r=updates.runCount,n=updates.processing;updates.processing=!0;var a=co.global[actionKey];null!=a&&(co.global[actionKey]=null);try{for(;updates.index<updates.procs.length;){global.APP_TIMEOUT&&global.APP_TIMEOUT<Date.now&&alert("Application is running too long");var i=updates.procs[updates.index];++updates.index,++updates.runCount,updates.index>=updates.maxIndex&&3*updates.index>updates.procs.length&&(updates.procs.splice(0,updates.index),updates.index=0),i();var u=performance.now();updates.maxTime1<u-t&&(updates.maxTime1=u-t),t=u}updates.index=updates.procs.length=0}finally{if(null!=a&&(co.global[actionKey]=a),updates.processing=n,!n){var l=performance.now()-e;updates.totalTime+=l,updates.maxTime<l&&(updates.maxTime=l),r=updates.runCount-r,r&&(++updates.runAllCount,updates.minTime>l&&(updates.minTime=l)),l>300&&LOG("updates have been run for "+l.toString().red+" ms")}}},updates.later=function(e){updates.procs.push(e),updates.checkSchedule()},updates.later.then=updates.later;var emptyMap="undefined"==typeof Immutable?null:Immutable.Map(),checkNull=function(e){return null==e||e==emptyMap?null:e},checkMap=function(e){return null==e?emptyMap:e},returnThis=function(){return this},isLiteral=function(e){return e&&"object"==typeof e&&e.constructor==Object},getValue=function(e){return null==e||null==e.valueOf?e:e.valueOf()},close=function(e){return null!=e&&null!=e.close&&e.close()},invalidKeyCall=function(e){throw new Error('access to an undeclared property "'+this.$name+"."+e+'"')},usedProps=Object.create(null),usedPropsProto=Object.create(null),guardProp=function(e){usedProps[e]||(usedProps[e]=!0,Object.defineProperty(usedPropsProto,e,{get:function(){invalidKeyCall.call(this,e)},set:function(){invalidKeyCall.call(this,e)}}))};AbstractGuard.prototype=usedPropsProto,global.APP_DEBUG&&(AbstractGuard.prototype=(global.__UsedScriptIdentifiers__+"").split(/[\s,]+/).reduce(function(e,t){return Object.create(e,_defineProperty({},t,{get:function(){invalidKeyCall.call(this,t)},set:function(e){invalidKeyCall.call(this,t)}}))},AbstractGuard.prototype)),AbstractGuard.prototype=Object.create(AbstractGuard.prototype,{toString:{value:{}.toString},valueOf:{value:{}.valueOf},toLocaleString:{value:{}.toLocaleString},hasOwnProperty:{value:{}.hasOwnProperty},isPrototypeOf:{value:{}.isPrototypeOf},propertyIsEnumerable:{value:{}.propertyIsEnumerable},$name:{value:"<...>",writable:1}});var EMPTY_ARRAY=[];Object.freeze(EMPTY_ARRAY);var ImmutableInterface=function(e){function t(){_classCallCheck(this,t),null!=e&&e.apply(this,arguments)}return _inherits(t,e),_createClass(t,[{key:"props",get:function(){throw new Error("access to deprecated 'props' property detected")}},{key:"declaredProperties",get:function(){return this.live}},{key:"length",get:function(){var e=this.valueOf();return null==e?0:Object.keys(e).length}},{key:"get",value:function(e){if(null!=e){var t=this.valueOf();if(null!=t&&Object.prototype.hasOwnProperty.call(t,e))return t[e]}return null}},{key:"map",value:function(e){var t=this.valueOf();return t&&(Array.isArray(t)?lodash.map(t,e):lodash.mapValues(t,e))}},{key:"keys",value:function(){var e=this.valueOf();return null==e?EMPTY_ARRAY:Object.keys(e)}}]),t}(AbstractGuard),ReadOnlyCell=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this._parent=e}return _inherits(t,e),_createClass(t,[{key:"getReadOnly",value:function(){return this}},{key:"live",get:function(){return this._parent.live}},{key:"$name",get:function(){return this._parent.$name}},{key:"valueOf",value:function(){return this._parent.valueOf.apply(this._parent,arguments)}},{key:"noTouch",value:function(){return this._parent.noTouch.apply(this._parent,arguments)}},{key:"toString",value:function(){return this._parent.toString.apply(this._parent,arguments)}},{key:"toJSON",value:function(){return this._parent.toJSON.apply(this._parent,arguments)}},{key:"getName",value:function(){return this._parent.getName.apply(this._parent,arguments)}}]),t}(ImmutableInterface),Getter=function(e,t){var r=void 0,n=t?function(){var n=e.apply(this,arguments);return is(r,n,t)||(r=n),r}:function(){return e.apply(this,arguments)};return n.isGetter=!0,n},Type=function(e){function t(){return e.apply(this,arguments)}return t.typeDescriptor=!0,t},runGetter=function(e,t,r){return new Action(t,e,r).linkName(e,":getter")},runSetter=function(e,t,r){return new Action(function(){return t(e.valueOf())},null,r).linkName(e,":setter")},This=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"_defineThatProperty",value:function(e,t){Object.defineProperty(this,e,{configurable:!0,enumerable:!0,get:function(){return t[e]},set:function(r){t[e]=r}})}}],[{key:"create",value:function(t,r){var n=null;return n=t?Object.create(t):new e,n.valueOf=function(){return r.valueOf()},n.toString=function(){return r.toString()},n.toJSON=function(){return r.toJSON()},n.assign=function(e){return r.assign(e)},n["throw"]=function(e){return r["throw"](e)},Object.defineProperty(n,"live",{get:function(){return r.live}}),n}}]),e}(),Cell=function(e){function t(e){var r=this;_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this._id=UID(),this._that=null,this._value=null,this._error=null,this._isValueEqual=is,this._initialized=!1,this._frozen=!1,this._closed=!1,this._dirty=!1,this._live=null,this._liveArray=null,this._actionsArr=[],this._parent=null,this._onchange=[],this.$name={toString:function(){return r.getName()}},this._notifyWritten(),this._sticky=!!e}return _inherits(t,e),_createClass(t,[{key:"valueOf",value:function(){return this._read()}},{key:"assign",value:function(e){return this._write(e,!1,null)}},{key:"update",value:function(e){return this.assign(lu.applyDiff(this.noTouch(),e))}},{key:"throw",value:function(e){return this._write(null,!1,e)}},{key:"touch",value:function(){this._fire()}},{key:"noTouch",value:function(){if(this._dirty&&this._updateSelf(),this._error)throw this._error;return this._value}},{key:"then",value:function(e){this._onchange.push(e)}},{key:"close",value:function(){if(!this._closed){if(this._closed=!0,this._fire(),this._parent&&this._parent.close(),this._liveArray){var e=!0,t=!1,r=void 0;try{for(var n,a=this._liveArray[Symbol.iterator]();!(e=(n=a.next()).done);e=!0){var i=n.value;i.close()}}catch(u){t=!0,r=u}finally{try{!e&&a["return"]&&a["return"]()}finally{if(t)throw r}}this._liveArray=null}this._value=null,this._error=null,this._actionsArr=null,this._parent=null}}},{key:"freeze",value:function(){if(!this._closed&&!this._frozen&&(this._frozen=!0,this._fire(),this._parent&&this._parent.freeze(),this._liveArray)){var e=!0,t=!1,r=void 0;try{for(var n,a=this._liveArray[Symbol.iterator]();!(e=(n=a.next()).done);e=!0){var i=n.value;i.freeze()}}catch(u){t=!0,r=u}finally{try{!e&&a["return"]&&a["return"]()}finally{if(t)throw r}}}}},{key:"live",get:function(){return this._live}},{key:"getReadOnly",value:function(){return this._readOnly||(this._readOnly=new ReadOnlyCell(this))}},{key:"toString",value:function(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];var n=this._read();return null!=n&&n.toString?n.toString.apply(n,t):""+n}},{key:"toJSON",value:function(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];var n=this._read();return null!=n&&n.toJSON?n.toJSON.apply(n,t):n}},{key:"with",value:function(e){return e.call(this._getThat())}},{key:"setName",value:function(e){return this._name=e,this}},{key:"getName",value:function(){for(var e=this._name||this._key,t=this._parent;t;)e=(t._name||t._key)+"."+e,t=t._parent;return e}},{key:"_getThat",value:function(){if(!this._that&&(this._that=This.create(this._parent&&this._parent._getThat(),this),this._live))for(var e in this._live)this._that._defineThatProperty(e,this);return this._that}},{key:"defineProperty",value:function(e){void 0===arguments[1]?!1:arguments[1];if(this._live||(this._live=Object.create(null),this._liveArray=[]),e){guardProp(e);var r=this._live[e];return r?r:(r=new t(this._sticky),this._live[e]=r,this._liveArray.push(r),r._key=e,r._parent=this,r._level=(this._level||0)+1,Object.defineProperty(this,e,{enumerable:!0,configurable:!0,get:function(){return r._live?r:r._read()},set:function(e){r._live&&(e=getValue(e)),r._write(e,!1)}}),this._that&&this._that._defineThatProperty(e,this),null!=this._value&&r._write(this._value[e],!0),r)}}},{key:"init",value:function(e){this._init(e,!1,!1)}},{key:"setConst",value:function(e,t){return Object.defineProperty(this,e,{enumerable:!0,get:function(){return t}}),this}},{key:"setVar",value:function(e,t){return Object.defineProperty(this,e,{enumerable:!0,writable:!0,value:t}),this}},{key:raValue,get:function(){return!0}},{key:"_init",value:function(e,t,r,n){var a=this;if(!t&&a._initialized)throw new Error("already initialized");if(this._parent&&(this._parent._dirty=!0),a._initialized=!0,n&&(this._isValueEqual=n),e=checkNull(e),"function"==typeof e&&e.typeDescriptor&&(e=e(a._key)),null!=e){if(e[raValue])return a._value=e;if("function"==typeof e)return void(r||e.isGetter?runGetter(a,function(){return e.call(a._parent&&a._parent._getThat())},this._sticky):a._value=function(){return e.apply(a._parent&&a._parent._getThat(),arguments)});if(!isLiteral(e))return a._value=e;if(t)throw new Error("wrong parameters");a.defineProperty();for(var i in e){var u=Object.getOwnPropertyDescriptor(e,i);if(u){var l=u.get,o=u.value;if(u.set)throw new Error("wrong parameters");l&&(o=l),"$"==i?a._init(o,!0,!!l):a.defineProperty(i,!0)._init(o,!1,!!l)}}}}},{key:"_read",value:function(){this._dirty&&this._updateSelf();var e=co.global[actionKey];if(e&&(this._closed?e.close():this._frozen||e.onread(this)),this._error)throw this._error;return this._value}},{key:"_write",value:function(e,t,r){if(null==r&&(r=null),this._frozen)throw new Error("Try to change a frozen value");if(this._initialized=!0,this._dirty=!1,e=checkNull(e),this._closed){var n=co.global[actionKey];n&&n.close()}else if(!this._isValueEqual(this._value,e)||this._error!=r){if(this._value=e,this._error=r,this._live){var a=!0,i=!1,u=void 0;try{for(var l,o=this._liveArray[Symbol.iterator]();!(a=(l=o.next()).done);a=!0){var s=l.value;s._write(e&&e[s._key],!0)}}catch(c){i=!0,u=c}finally{try{!a&&o["return"]&&o["return"]()}finally{if(i)throw u}}}if(this._fire(),!t)for(var s=this._parent;s&&!s._dirty;)s._dirty=!0,s._fire(),s=s._parent}return t||this._notifyWritten(),e}},{key:"_updateSelf",value:function(){var e=0,t={};for(var r in this._value)Object.prototype.hasOwnProperty.call(this._value,r)&&(t[r]=this._value[r],++e);var n=!0,a=!1,i=void 0;try{for(var u,l=this._liveArray[Symbol.iterator]();!(n=(u=l.next()).done);n=!0){var o=u.value;if(o._dirty&&o._updateSelf(),o._error)return this._error=o._error,this._value=null,void(this._dirty=!1);var s=o._value;null==s?Object.prototype.hasOwnProperty.call(t,o._key)&&(delete t[o._key],--e):(t[o._key]=s,e=1/0)}}catch(c){a=!0,i=c}finally{try{!n&&l["return"]&&l["return"]()}finally{if(a)throw i}}0==e&&(t=null),this._value=t,this._dirty=!1}},{key:"debug",value:function(e){this._actionsArr.push({action:{_fire:e}})}},{key:"debugger",value:function(){this.debug(function(){})}},{key:"_fire",value:function(){var e=void 0;if(e=this._actionsArr,e.length){for(var t=0;t<e.length;t++){var r=e[t];r.action&&r.action._fire(),r.pushedC=!1}e.length=0}if(e=this._onchange,e.length){for(var t=0;t<e.length;t++)updates.later(e[t]);e.length=0}}},{key:"_notifyWritten",value:function(){var e=co.global[actionKey];e&&e.onwritten(this)}}]),t}(ImmutableInterface),rethrow=function(e){return setTimeout(function(){throw e},1)},Action=function(){function e(t,r,n){var a=this;_classCallCheck(this,e),this._id=UID(),this._fun=t,this._dest=r,this._cellSet={},this._cellSetSize=0,this._cellArr=[],this.$name={toString:function(){return"<Action>"}},this._thread=co.gocall(this._loop,this).linkName(this).waitForInput(),this._runCount=0;var i=void 0;(i=co.global[actionKey])&&i._children&&i._children.push(this),this._children=null,this._threads=null,this._onthread=null,this._generatorProxy=null,this._generator=null,n&&(this._children=[],this._threads=[],this._onthread=function(e){return a._threads.push(e)})}return _createClass(e,[{key:"linkName",value:function(e){var t=void 0===arguments[1]?":action":arguments[1];return e.$name&&(e=e.$name),this.$name.toString=function(){return""+e+t},this}},{key:"_initGeneratorProxy",value:function(){var e,t=this,r=void 0,n=function(){return t._generator.next(r)},a=function(){return t._generator["throw"](r)},i=function(){return t._generator["return"](r)};this._generatorProxy=(e={},_defineProperty(e,Symbol.iterator,returnThis),_defineProperty(e,"next",function(e){r=e;try{return co.catchThreads(n,t._onthread)}finally{r=null}}),_defineProperty(e,"throw",function(e){r=e;try{return co.catchThreads(a,t._onthread)}finally{r=null}}),_defineProperty(e,"return",function(e){r=e;try{return co.catchThreads(i,t._onthread)}finally{r=null}}),e)}},{key:"_loop",value:regeneratorRuntime.mark(function t(){var e,r,n;return regeneratorRuntime.wrap(function(t){for(var a=this;;)switch(t.prev=t.next){case 0:return t.next=2,updates.later;case 2:e={then:function(e){a._onchange=e}},co.global[actionKey]=this,r=!1;case 5:t.prev=5;case 6:if(r){t.next=50;break}if(!this.isClosed()){t.next=9;break}return t.abrupt("break",68);case 9:if(this._begin(),r=!0,n=void 0,!this._children){t.next=35;break}if(n=co.catchThreads(this._fun,this._onthread),n&&!n[raValue]){t.next=18;break}t.next=33;break;case 18:if(!n.next||!n["throw"]){t.next=29;break}return this._generatorProxy||this._initGeneratorProxy(),this._generator=n,t.prev=21,t.delegateYield(this._generatorProxy,"t0",23);case 23:n=t.t0;case 24:return t.prev=24,this._generator=null,t.finish(24);case 27:t.next=33;break;case 29:if(!n.then){t.next=33;break}return t.next=32,n;case 32:n=t.sent;case 33:t.next=49;break;case 35:if(n=this._fun(),n&&!n[raValue]){t.next=40;break}t.next=49;break;case 40:if(!n.next||!n["throw"]){t.next=45;break}return t.delegateYield(n,"t1",42);case 42:n=t.t1,t.next=49;break;case 45:if(!n.then){t.next=49;break}return t.next=48,n;case 48:n=t.sent;case 49:this._dest&&this._dest.assign(n);case 50:if(r=!1,!this.isClosed()){t.next=53;break}return t.abrupt("break",68);case 53:t.t2=this._end(),t.next=t.t2===!1?56:t.t2===!0?57:59;break;case 56:return t.abrupt("break",68);case 57:return t.next=59,e;case 59:t.next=6;break;case 61:t.next=66;break;case 63:t.prev=63,t.t3=t["catch"](5),r?this._dest["throw"](t.t3):rethrow(t.t3);case 66:t.next=5;break;case 68:co.global[actionKey]=null,this._finalize();case 70:case"end":return t.stop()}},t,this,[[5,63],[21,,24,27]])})},{key:"isClosed",value:function(){return!this._cellSet}},{key:"close",value:function(){var e=this._thread;this._fire(),this._finalize(),e&&e.kill()}},{key:"_closeChildren",value:function(){var e=void 0;if(e=this._children){for(var t=0,r=e.length;r>t;++t)e[t].close();e.length=0}if(e=this._threads){for(var t=0,r=e.length;r>t;++t)e[t].kill();e.length=0}}},{key:"_finalize",value:function(){this._unsubscribe(),this._cellSet=null,this._cellArr=null,this._fun=null,this._dest=null,this._thread=null}},{key:"_begin",value:function(){this._unsubscribe(),++this._runCount,e.maxCount<this._runCount&&(e.maxCount=this._runCount)}},{key:"_unsubscribe",value:function(){this._onchange=null;var e=this._cellArr;if(e){for(var t=0;t<e.length;++t){var r=e[t];r.cell=null,r.value=null,r.action=null,r.read=!1,r.written=!1,r.pushedA=!1}this._cellSetSize>32&&e.length<this._cellSetSize/4&&(this._cellSet={},this._cellSetSize=0),e.length=0}this._closeChildren()}},{key:"_end",value:function(){for(var e=!1,t=this._cellArr,r=0;r<t.length;++r){var n=t[r];if(n.written)n.action=null;else{if(n.pushedC||(n.cell._actionsArr.push(n),n.pushedC=!0),!is(n.value,n.cell._value)||n.error!=n.cell._error)return null;n.action=this,e=!0}n.value=null,n.cell=null}return e}},{key:"_linkCell",value:function(e){var t=this._cellSet[e._id];return null==t&&(t=this._cellSet[e._id]={cell:null,value:null,error:null,action:null,read:!1,written:!1,pushedA:!1,pushedC:!1},++this._cellSetSize),t.pushedA||(this._cellArr.push(t),t.cell=e,t.pushedA=!0),t}},{key:"onread",value:function(e){var t=this._linkCell(e);t.read=!0,t.value=e._value,t.error=e._error}},{key:"onwritten",value:function(e){this._linkCell(e).written=!0}},{key:"_fire",value:function(){this._onchange&&updates.later(this._onchange),this._unsubscribe()}}]),e}();Action.maxCount=0;var newReactive=function(e,t,r,n){var a=!0,i=!1,u=void 0;try{for(var l,o=t[Symbol.iterator]();!(a=(l=o.next()).done);a=!0){var s=l.value;if(null!=s&&"function"!=typeof s)throw new Error("wrong parameters")}}catch(c){i=!0,u=c}finally{try{!a&&o["return"]&&o["return"]()}finally{if(i)throw u}}var h=new Cell(r);void 0!==e&&h._init(e,!1,!0,n);var f=!0,p=!1,_=void 0;try{for(var v,y=t[Symbol.iterator]();!(f=(v=y.next()).done);f=!0){var s=v.value;s&&(s.length?runSetter:runGetter)(h,s,r)}}catch(c){p=!0,_=c}finally{try{!f&&y["return"]&&y["return"]()}finally{if(p)throw _}}return h},ra=function(){var e=void 0,t=void 0,r=void 0,n=void 0,a=0;arguments.length-1;return"string"==typeof arguments[a]&&(e=arguments[a++]),"boolean"==typeof arguments[a]&&(r=arguments[a++]),t=arguments[a++],"function"==typeof arguments[a]&&(n=arguments[a++]),newReactive(t,[],r,n)};exports=module.exports=ra,exports.ra=ra,exports.is=is,exports.Array=function(e){return e.isEqualTo=ArrayIsEqualTo,e},exports.JSON=function(e){return e.isEqualTo=JsonIsEqualTo,e},exports.Value=function(e){return e&&e.defineProperty(raValue,{value:!0,configurable:!0,enumerable:!1,writable:!1}),e},exports.clean=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;t>n;n++)r[n-1]=arguments[n];return newReactive(e,r,!1)},exports.detach=function(e){var t=void 0;if(!(t=co.global[actionKey]))return e();co.global[actionKey]=null;try{return e()}finally{co.global[actionKey]=t}},exports.detached=function(e){return function(){var t=void 0;if(!(t=co.global[actionKey]))return e.apply(this,arguments);co.global[actionKey]=null;try{return e.apply(this,arguments)}finally{co.global[actionKey]=t}}},exports.on=function(e,t,r){var n=ra(),a=function(e){return n.assign(r(e))};if("string"==t)e.on(t,a);else{var i=!0,u=!1,l=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var c=o.value;e.on(c,a)}}catch(h){u=!0,l=h}finally{try{!i&&s["return"]&&s["return"]()}finally{if(u)throw l}}}return a(),n},exports.Cell=Cell,exports.ImmutableInterface=ImmutableInterface,exports.AbstractGuard=AbstractGuard,exports.Getter=Getter,exports.Type=Type,exports.importFrom=function(e){return Type(function(t){return Getter(function(){return e.live[t].valueOf()})})},exports.forceCalculations=function(){return updates.runAll()};var _DBChunk_Getter=UID(),DBChunk=function(){function e(t,r,n,a){_classCallCheck(this,e),this._previous=a,this._getter=t,this._save=r;var i=this._chunk=ra();i.assign(n);var u=this._actual=createActual();u[_DBChunk_Getter]=ra(function(){return lu.applyDiff(t.valueOf(),i.valueOf())}),this._summary=ra(function(){return u.valueOf()[_DBChunk_Getter].valueOf()})}return _createClass(e,[{key:"createNext",value:function(){var t=void 0===arguments[0]?null:arguments[0];return new e(this._summary,this._save,t,this._actual)}},{key:"before",get:function(){return this._getter.valueOf()}},{key:"summary",get:function(){return this._summary.valueOf()}},{key:"chunk",get:function(){return this._chunk.valueOf()},set:function(e){this._chunk.assign(e)}},{key:"valueOf",value:function(){return this.chunk}},{key:"assign",value:function(e){this.chunk=e}},{key:"save",value:function(){return this._save(this.chunk)}},{key:"update",value:function(e){return this._chunk.update(e)}},{key:"set",value:function(e,t){return this._chunk.set(e,t)}},{key:"get",value:function(e){return this._chunk.get(e)}},{key:"close",value:function(){this._chunk.assign(null),this._previous&&(this._actual.assign(this._previous),this._previous=null)}}]),e}(),DB=function(){function e(t,r){var n=this;_classCallCheck(this,e),this._head=ra(),this._head.assign(new DBChunk(t,r)),this._value=ra(function(){return n._head.valueOf().summary})}return _createClass(e,[{key:"data",get:function(){return this.valueOf()}},{key:"valueOf",value:function(){return this._value.valueOf()}},{key:"createRecord",value:function(){var e=(void 0===arguments[0]?null:arguments[0],this._head.valueOf().createNext());return this._head.assign(e),e}}]),e}();exports.db=function(e,t){return new DB(e,t)},exports.makeKey=function(e,t){return ra(function(){return e.get(t)})},exports.map=function(e,t){if(!(e instanceof Cell))throw new Error("ra.map: first argument must be a cell");var r=Object.create(null),n=ra();return ra.detach(function(){return ra(function(){var a=e.valueOf();ra.detach(function(){var e=[],i=0;lodash.forEach(r,function(e){return e.abandoned=!0}),a&&a.forEach(function(n){var a=toKey(n),u=void 0;(u=r[a])||(u=r[a]={value:n,index:ra()}),u.abandoned=!1,u.index.assign(i++),u.proc||(u.proc=ra(function(){return t(n,u.index)})),e.push(u.proc)}),lodash.keys(r).forEach(function(e){var t=r[e];t.abandoned&&(delete r[e],t.index.close(),t.proc.close())}),n.assign(ra.Array(e))})})}),n},exports.keymap=function(e,t){var r=ra.map(e,t);return ra(function(){return lodash.zipObject(e.valueOf(),r.valueOf())})},exports.slice=function(e,t,r){throw new Error("message")};

},{"LOG":"/home/vadzim/v/work/nerojs/src/LOG.js","co":"/home/vadzim/v/work/nerojs/src/co.js","later":"/home/vadzim/v/work/nerojs/src/later.js","lodash":"/home/vadzim/v/work/nerojs/node_modules/lodash/dist/lodash.js","uid":"/home/vadzim/v/work/nerojs/src/uid.js"}],"/home/vadzim/v/work/nerojs/src/rewriter.js":[function(require,module,exports){
"use strict";var express=require("express");express.Router.rewrite=express.application.rewrite=function(e,r){return this.all(e,function(e,s,t){e.url=r(e.url),t()})};

},{"express":false}],"/home/vadzim/v/work/nerojs/src/scheduler.js":[function(require,module,exports){
"use strict";function _classCallCheck(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,s){for(var t=0;t<s.length;t++){var i=s[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(s,t,i){return t&&e(s.prototype,t),i&&e(s,i),s}}(),maxIndex=32768,Scheduler=function(){function e(s){_classCallCheck(this,e),this.setImmediate=s&&s.setImmediate||process.nextTick,this.maxTicks=s&&s.maxTicks||1/0,this._procs=[],this._index=0,this._scheduled=!1,this._processing=!1,this._handler=this._handler.bind(this),this.push=this.then.bind(this)}return _createClass(e,[{key:"then",value:function(e){this._procs.push(e),this._processing||this._schedule()}},{key:"_schedule",value:function(){this._scheduled||(this.setImmediate(this._handler),this._scheduled=!0)}},{key:"_handler",value:function(){for(this._scheduled=!1;this._procs.length;)try{this._handler1()}catch(e){setTimeout(function(){throw e},0)}}},{key:"_handler1",value:function(){this._processing=!0;try{for(var e=0;this._index<this._procs.length&&++e<=this.maxTicks;){var s=this._procs[this._index];this._procs[this._index]=null,++this._index,this._index>=maxIndex&&3*this._index>this._procs.length&&(this._procs.splice(0,this._index),this._index=0),s()}}finally{this._processing=!1,this._procs.length&&this._index>=this._procs.length&&(this._procs.length=this._index=0),this._index&&this._schedule()}}}]),e}();module.exports=Scheduler;

},{}],"/home/vadzim/v/work/nerojs/src/server.js":[function(require,module,exports){
"use strict";function _slicedToArray(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){var n=[],t=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(t=(i=c.next()).done)&&(n.push(i.value),!r||n.length!==r);t=!0);}catch(s){o=!0,a=s}finally{try{!t&&c["return"]&&c["return"]()}finally{if(o)throw a}}return n}throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _inherits(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(e.__proto__=r)}function _toConsumableArray(e){if(Array.isArray(e)){for(var r=0,n=Array(e.length);r<e.length;r++)n[r]=e[r];return n}return Array.from(e)}function commandConnection(e){e.onmessage=co.func(regeneratorRuntime.mark(function r(n){var t;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(t=void 0,r.prev=1,t=n.id,n=n.question,t&&n){r.next=6;break}throw new Error("wrong question");case 6:return r.next=8,modem.userCommand({deviceId:n.device,command:n.command,data:n.data});case 8:e.send({id:t,answer:"done"}),r.next=15;break;case 11:r.prev=11,r.t0=r["catch"](1),console.error("command error",r.t0,r.t0.stack),e.send({id:t,error:r.t0.message});case 15:case"end":return r.stop()}},r,this,[[1,11]])}))}var _get=function(e,r,n){for(var t=!0;t;){var o=e,a=r,i=n;c=u=s=void 0,t=!1;var c=Object.getOwnPropertyDescriptor(o,a);if(void 0!==c){if("value"in c)return c.value;var s=c.get;return void 0===s?void 0:s.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;e=u,r=a,n=i,t=!0}};require("checkreboot"),require("platform");var repl=!1,YAML=require("yamljs"),path=require("path"),fs=require("fs"),os=require("os"),cfg=require("csvConfig"),HTTPStatus=require("http-status"),http=require("http"),url=require("url"),net=require("net"),crypto=require("crypto"),stream=require("stream"),glob=require("glob"),constants=require("constants"),PingPong=require("pingpong"),SubConnections=require("subconnections"),actionToCommands=require("actionToCommands"),deviceActions=require("deviceActions"),deviceTypes=require("deviceTypes"),Modem=require("modem"),Inc=require("inc"),lodash=require("lodash"),ra=require("ra"),co=require("co"),lu=require("localUtils"),UID=require("uid"),_require=require("LOG"),LOG=_require.LOG;require("modemstub");var configName=process.argv[2]||__dirname+"/../server.conf",config=lu["catch"](function(){return YAML.load(configName)},lu.returnNull),updateInterfacesInterval=2e3;config=lodash.merge({port:80,serviceport:8088,modem:"/dev/ttyACM*",modemPingInterval:6e3,boss:"controller.sh.neroelectronics.by:8011",auth:"./user.conf",restoreConnectionInterval:2e3,"var":"./var"},config);for(var _arr=["auth","var"],_i=0;_i<_arr.length;_i++){var i=_arr[_i];config[i]=path.resolve(path.dirname(configName),config[i])}console.log("config: ".red,config),fs.mkdir(config["var"],lodash.noop),require("watchStop")(configName)(config.auth)(__dirname+"/../templates/")(__dirname+"/../templates/locations/");var internalModemService="/tmp/"+UID(),auth=lu["catch"](function(){return YAML.load(config.auth)},lu.returnNull);if(auth=lodash.merge({name:"nero"},auth),auth&&!auth.modem)throw new Error("modem name required in user configuration file");if(auth&&!auth.name)throw new Error("name required in user configuration file");if(auth&&!auth.userkey)throw new Error("userkey required in user configuration file");if(auth){var s=crypto.createHash("sha256");s.update(JSON.stringify([String(auth.name||null),String(auth.userkey||null),String(auth.modemkey||null),String(auth.modem||null)])),auth.hash=s.digest("hex")}var authMessage="Smart Home",closeSocket=function(e){e.end(),e.unref(),e.destroy()},service=ra(Object.defineProperties({interfacesTimer:!0,interfaces:ra.Getter(function(){var e;return service.interfacesTimer&&(e=[]).concat.apply(e,_toConsumableArray(lodash.map(os.networkInterfaces(),function(e){return e.filter(function(e){return!e.internal&&!e.scopeid}).map(function(e){var r=e.address;return"IPv6"==e.family&&(r="["+r+"]"),{url:"http://"+r+":"+config.serviceport}})})))},lu.JSONEqual)},{updateInterfacesTimer:{get:function(){setInterval(function(){return service.live.interfacesTimer.touch()},updateInterfacesInterval)},configurable:!0,enumerable:!0}})),CustomError=function(e){function r(e,n){_classCallCheck(this,r),_get(Object.getPrototypeOf(r.prototype),"constructor",this).call(this,e),n&&lodash.assign(this,n)}return _inherits(r,e),r}(Error),modem=ra(Object.defineProperties({retryInterval:config.restoreConnectionInterval,port:config.modem,proxy:config.modemProxy,portIndex:0,socket:null,pingInterval:config.modemPingInterval,createSocket:function(){return new Promise(function(e,r){console.error("creating socket");var n=void 0,t=lodash.once(function(){modem.socket&&n!=modem.socket||(setTimeout(function(){modem.socket||modem.createSocket()},modem.retryInterval),n&&(closeSocket(n),n=null,modem.socket=null))}),o=function(e){console.error("socket error",e),t(),r(e)},a=function(r){modem.socket&&(closeSocket(modem.socket),modem.socket=null),console.error("trying to connect to: "+r+(modem.proxy?" via "+modem.proxy:"")),modem.proxy?(n=new stream.Duplex,n.destroy=function(){this.ps.stdin.end(),this.ps.kill()},n.unref=function(){},n._read=function(e){},n._write=function(e,r,n){this.ps.stdin.write(e,r),n()},n.connect=function(e){var n=this;LOG("starting proxy",modem.proxy,r),this.ps=require("child_process").spawn(modem.proxy,[e]),this.ps.stderr.on("data",function(e){return process.stdout.write(String(e).blue)}),this.ps.stdout.on("data",function(e){return n.push(e)}),this.ps.on("error",function(e){return n.emit("error",e)}),this.ps.stdin.on("error",function(e){return n.emit("error",e)}),this.ps.on("exit",function(e){return n.push(null)}),this.emit("connect")}):n="number"==typeof r?new net.Socket:new PingPong({timeout:3e3}),n.on("connect",function(){n.unref(),modem.socket=n,e(n)}),n.on("error",o),n.on("end",function(){console.error("socket ended"),t()}),n.on("close",function(){console.error("socket closed"),t()}),n.on("timeout",function(){console.error("socket timeout"),t()}),n.connect(r)};modem.port==+modem.port?a(+modem.port):glob(modem.port,{},function(e,r){return e?o(e):r.length?(modem.portIndex>=r.length&&(modem.portIndex=0),void a(r[modem.portIndex++])):o(new Error("Cannot find a modem in "+modem.port))})})},rawcommand:regeneratorRuntime.mark(function e(){for(var r=arguments.length,n=Array(r),t=0;r>t;t++)n[t]=arguments[t];return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=modem.handle,!e.t0){e.next=5;break}return e.next=4,modem.handle.lock(regeneratorRuntime.mark(function r(e){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.apply(void 0,n);case 3:return r.abrupt("return",r.sent);case 6:return r.prev=6,r.t0=r["catch"](0),console.error("modem error",r.t0,"executing",n),r.abrupt("return",null);case 10:case"end":return r.stop()}},r,this,[[0,6]])}));case 4:e.t0=e.sent;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}},e,this)}),sminVersion:String.fromCharCode(1,5),vercommand:regeneratorRuntime.mark(function r(){for(var e=arguments.length,n=Array(e),t=0;e>t;t++)n[t]=arguments[t];return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(modem.versionOK){e.next=4;break}e.t0=null,e.next=7;break;case 4:return e.next=6,modem.rawcommand.apply(modem,n);case 6:e.t0=e.sent;case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}},r,this)}),sendcommand:regeneratorRuntime.mark(function n(){for(var e=arguments.length,r=Array(e),t=0;e>t;t++)r[t]=arguments[t];return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(modem.protocolOK){e.next=4;break}e.t0=null,e.next=7;break;case 4:return e.next=6,modem.vercommand.apply(modem,r);case 6:e.t0=e.sent;case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}},n,this)}),setModemWorkMode:function(){return modem.command("Change_modem_work_mode",{MODEM_MODE:"Work_Mode"})},command:function(){for(var e=arguments.length,r=Array(e),n=0;e>n;n++)r[n]=arguments[n];return co.gocall(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendcommand.apply(this,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t,this)}),this)},session:function(e){return ra.detach(function(){return co.go(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!modem.protocolOK){r.next=6;break}return r.next=3,modem.handle.lock(e);case 3:return r.abrupt("return",r.sent);case 6:return r.next=8,e(lu.returnNullPromise);case 8:return r.abrupt("return",r.sent);case 9:case"end":return r.stop()}},r,this)}))})},check:function(e){var r=void 0===arguments[1]?"OK":arguments[1];if("answer_Result"!==e.id||e.RESULT!==r)throw new Error("unexpected modem result");return e.RESULT},userCommand:regeneratorRuntime.mark(function t(e){var r,n,o,a,i,c,s,u,m,d,l,f,p=e.deviceId,g=e.command,h=e.data,v=e.socket;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(e,r){throw new CustomError(r||HTTPStatus[e],{status:e})},e.next=3,modem.devices.waitForReady(v);case 3:if(n=modem.devices.getState()[p],o=g,n||r(HTTPStatus.NOT_FOUND),n.group){e.next=23;break}if("Link"!=o){e.next=22;break}a=lodash.reduce(modem.devices.getState(),function(e,r){return r.group&&(e[r.group]=!0),e},[]),i=2;case 10:if(!(1022>=i)){e.next=17;break}if(null!=a[i]){e.next=14;break}return modem.devices.applyItemChanges(p,{group:i}),e.abrupt("break",17);case 14:++i,e.next=10;break;case 17:ra.forceCalculations(),n=modem.devices.getState()[p],n.group||r(HTTPStatus.INTERNAL_SERVER_ERROR,"No more group numbers for devices"),e.next=23;break;case 22:r(HTTPStatus.NOT_FOUND,"No group in device");case 23:return c=void 0,s=deviceActions.getNewState(n,o,h),u=deviceTypes[n.model],c=actionToCommands.createCommandSequence(n.group,u&&u.buttons||"Dimeer",o,h),c&&c.length||r(HTTPStatus.NOT_FOUND),m=!1,d=Inc(),l=[],f=!0,co.defer(function(){m||d!=modem.devices.getState()[p].newstate_timestamp||modem.devices.applyItemChanges(p,{newstate:null,newstate_timestamp:null,errorneous:f})}),modem.devices.applyItemChanges(p,{newstate:s,newstate_timestamp:d,errorneous:null}),e.next=36,modem.session(regeneratorRuntime.mark(function t(e){var r,o,a,i,u,g,h;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=!0,o=!1,a=void 0,t.prev=3,i=c[Symbol.iterator]();case 5:if(r=(u=i.next()).done){t.next=27;break}return g=u.value,t.prev=7,"group"==n.type?g.ACK&&(g.ACK=!1):null==g.ACK&&(g.ACK=n.acknowledgement!==!1),t.next=11,e(g);case 11:if(h=t.sent,"OK"==h.RESULT){t.next=14;break}throw new CustomError(h.RESULT,{answer:h});case 14:t.next=24;break;case 16:if(t.prev=16,t.t0=t["catch"](7),console.error("modem error:".red,t.t0),!(t.t0 instanceof Modem.ETimeout||t.t0.answer&&"Connection_error"==t.t0.answer.RESULT)){t.next=23;break}l.push(t.t0),t.next=24;break;case 23:throw t.t0;case 24:r=!0,t.next=5;break;case 27:t.next=33;break;case 29:t.prev=29,t.t1=t["catch"](3),o=!0,a=t.t1;case 33:t.prev=33,t.prev=34,!r&&i["return"]&&i["return"]();case 36:if(t.prev=36,!o){t.next=39;break}throw a;case 39:return t.finish(36);case 40:return t.finish(33);case 41:if(!l.length){t.next=45;break}return t.next=44,e({id:"Dest_Condition",group:c[0].group});case 44:s=t.sent.DEST_CONDITION;case 45:null!=s&&(f=null,modem.devices.applyItemChanges(p,{state:s,state_timestamp:d,errorneous:null}),m=!0);case 46:case"end":return t.stop()}},t,this,[[3,29,33,41],[7,16],[34,,36,40]])}));case 36:case"end":return e.stop()}},t,this)})},{initializeSocket:{get:function(){modem.createSocket()},configurable:!0,enumerable:!0},handle:{get:function(){return modem.socket&&new Modem(modem.socket,function(){for(var e=arguments.length,r=Array(e),n=0;e>n;n++)r[n]=arguments[n];return console.info.apply(console,[lu.time()].concat(r))})},configurable:!0,enumerable:!0},version:{get:function(){return modem.rawcommand("Version")},configurable:!0,enumerable:!0},pingModem:{get:function(){return modem.pingInterval&&ra(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,co.sleep(modem.pingInterval);case 2:if(!modem.handle){e.next=11;break}return e.prev=3,e.next=6,modem.handle.lock(regeneratorRuntime.mark(function r(e){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e("Version");case 2:case"end":return r.stop()}},r,this)}),!0);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](3),console.error("modem ping error",e.t0);case 11:e.next=0;break;case 13:case"end":return e.stop()}},e,this,[[3,8]])}))},configurable:!0,enumerable:!0},sversion:{get:function(){return modem.version&&String.fromCharCode(modem.version.PRODUCT_VERSION,modem.version.PRODUCT_ID,modem.version.PRODUCT_HARD,modem.version.PRODUCT_VARIANT)},configurable:!0,enumerable:!0},versionOK:{get:function(){return modem.sversion&&modem.sversion>=modem.sminVersion},configurable:!0,enumerable:!0},functions:{get:function(){return modem.vercommand("Functions")},configurable:!0,enumerable:!0},initProtocols:{get:function(){return modem.vercommand("Change_protocol",{PROTOCOL_NUM:"All_protocols"})},configurable:!0,enumerable:!0},protocolOK:{get:function(){return!!(modem.functions&&modem.functions.PROTOCOLS&&modem.initProtocols)},configurable:!0,enumerable:!0},freeCells:{get:function(){return modem.sendcommand("Free_Cell_Count")},configurable:!0,enumerable:!0},initModemWorkMode:{get:function(){return modem.sendcommand("Change_modem_work_mode",{MODEM_MODE:"Work_Mode"})},configurable:!0,enumerable:!0},showModemStatus:{get:function(){console.info("Modem is "+(modem.protocolOK?"active":"inactive"))},configurable:!0,enumerable:!0}})),express=require("express");require("rewriter");var JSONservice=require("JSONservice");global.LOGGER=console;var cookieInfinite={expires:new Date("Fri, 31-Dec-9999 23:59:59 GMT")},toBase64=function(e){return new Buffer(e).toString("base64")},fromBase64=function(e){return new Buffer(e,"base64").toString()},cookieParser=require("cookie-parser")(),parseCookies=function(e){return cookieParser(e,null,lodash.noop)},authLimit=lu.limitCalls(10,200),checkAuthorization=co.func(regeneratorRuntime.mark(function o(e,r,n){var t,a,i,c,s;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(parseCookies(e),!auth||e.cookies.auth==auth.hash){o.next=18;break}return t=authLimit(),o.next=5,co.sleep(200);case 5:if(a=toBase64(""+auth.name+":"+auth.userkey),i=e.headers.authorization,i&&(i=i.match(/^Basic\s+(.*)$/)),i&&(i=i[1]),i!=a||!t){o.next=12;break}return r&&r.cookie("auth",auth.hash,cookieInfinite),o.abrupt("return",n());case 12:return c=e.headers.origin||"*",s=e.socket,s.write("HTTP/1.1 "+HTTPStatus.UNAUTHORIZED+" "+HTTPStatus[HTTPStatus.UNAUTHORIZED]+"\r\nAccess-Control-Allow-Origin: "+c+"\r\nAccess-Control-Allow-Credentials: true\r\nWWW-Authenticate: Basic realm="+JSON.stringify(authMessage)+"\r\n\r\nunauthorized"),s.end(),r&&r.status(HTTPStatus.UNAUTHORIZED).end(),o.abrupt("return");case 18:n();case 19:case"end":return o.stop()}},o,this)})),modemService=express().use(cookieParser).use(require("http_log")).use(function(e,r,n){var t=e.headers.origin||"*";r.setHeader("Access-Control-Allow-Origin",t),r.setHeader("Access-Control-Allow-Credentials",!0),n()}).use(require("compression")({threshold:0})).all("/version",function(e,r){r.end("7")}).post("/pierazahruzka",function(e,r){process.exit(1)}).all("/logout",function(e,r){r.clearCookie("auth"),e.on("data",function(e){return r.write(e)}),e.on("end",function(){return r.end("\n\n...LOGOUT")})}).use(checkAuthorization).all("/login",function(e,r){r.end()}).post("/command",co.func(regeneratorRuntime.mark(function a(e,r){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return co.defer(function(){return r.end()}),n.prev=1,n.next=4,modem.userCommand({deviceId:e.query.id,command:e.query.cmd,data:e.query.data,socket:r});case 4:n.next=10;break;case 6:n.prev=6,n.t0=n["catch"](1),console.error("command error",n.t0,n.t0.stack),r.status(n.t0.code||HTTPStatus.INTERNAL_SERVER_ERROR).end(n.t0.message||"");case 10:case"end":return n.stop()}},a,this,[[1,6]])}))).all(/^\/(rooms|devices|database)$/,(modem.devices=new JSONservice(config["var"]+"/database",{main:"room",room:{content:[]}}),ra(function(){var e=modem.devices.getState();ra.detach(function(){var r={};lodash.forEach(e,function(e,n){if(e&&e.content){var t=r[n]={content:{}};lodash.keys(e.content).sort(function(r,n){return(e.content[r].index||0)-(e.content[n].index||0)}).forEach(function(e,r){t.content[e]={index:r}})}}),modem.devices.applyChanges(r)})}),co.go(regeneratorRuntime.mark(function u(){var e,r,n,t,o,a,i,c,s,m,d,l,f,p,g,h,v,b,R,k,w,O,x,y;return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:u.prev=0,e={rooms:{},devices:{}},r=!0,n=!1,t=void 0,u.prev=5,o=Object.keys(e)[Symbol.iterator]();case 7:if(r=(a=o.next()).done){u.next=21;break}return i=a.value,u.prev=9,u.next=12,co.cb(fs.readFile)(""+config["var"]+"/"+i);case 12:u.t0=u.sent.toString(),e[i]=JSON.parse(u.t0),u.next=18;break;case 16:u.prev=16,u.t1=u["catch"](9);case 18:r=!0,u.next=7;break;case 21:u.next=27;break;case 23:u.prev=23,u.t2=u["catch"](5),n=!0,t=u.t2;case 27:u.prev=27,u.prev=28,!r&&o["return"]&&o["return"]();case 30:if(u.prev=30,!n){u.next=33;break}throw t;case 33:return u.finish(30);case 34:return u.finish(27);case 35:e.rooms.uid=UID(),c=!0,s=!1,m=void 0,u.prev=39,d=Object.keys(e.rooms)[Symbol.iterator]();case 41:if(c=(l=d.next()).done){u.next=61;break}if(i=l.value,f=e.rooms[i],f&&"object"==typeof f){u.next=47;break}return"uid"!=i&&"main"!=i&&delete e.rooms[i],u.abrupt("continue",58);case 47:if("content"!=f.type){u.next=50;break}return f.type="place",u.abrupt("continue",58);case 50:if(f.type="device",p=void 0,p=e.devices[f.device],delete e.devices[f.device],f.device=i,p){u.next=57;break}return u.abrupt("continue",58);case 57:lodash.assign(f,p);case 58:c=!0,u.next=41;break;case 61:u.next=67;break;case 63:u.prev=63,u.t3=u["catch"](39),s=!0,m=u.t3;case 67:u.prev=67,u.prev=68,!c&&d["return"]&&d["return"]();case 70:if(u.prev=70,!s){u.next=73;break}throw m;case 73:return u.finish(70);case 74:return u.finish(67);case 75:g=!0,h=!1,v=void 0,u.prev=78,b=Object.keys(e.devices)[Symbol.iterator]();case 80:if(g=(R=b.next()).done){u.next=90;break}if(i=R.value,f=e.devices[i],f&&"object"==typeof f){u.next=85;break}return u.abrupt("continue",87);case 85:e.rooms[i]=f,f.type="device";case 87:g=!0,u.next=80;break;case 90:u.next=96;break;case 92:u.prev=92,u.t4=u["catch"](78),h=!0,v=u.t4;case 96:u.prev=96,u.prev=97,!g&&b["return"]&&b["return"]();case 99:if(u.prev=99,!h){u.next=102;break}throw v;case 102:return u.finish(99);case 103:return u.finish(96);case 104:k=!0,w=!1,O=void 0,u.prev=107,x=Object.keys(e)[Symbol.iterator]();case 109:if(k=(y=x.next()).done){u.next=121;break}return i=y.value,u.prev=111,u.next=114,co.cb(fs.unlink)(""+config["var"]+"/"+i);case 114:u.next=118;break;case 116:u.prev=116,u.t5=u["catch"](111);case 118:k=!0,u.next=109;break;case 121:u.next=127;break;case 123:u.prev=123,u.t6=u["catch"](107),w=!0,O=u.t6;case 127:u.prev=127,u.prev=128,!k&&x["return"]&&x["return"]();case 130:if(u.prev=130,!w){u.next=133;break}throw O;case 133:return u.finish(130);case 134:return u.finish(127);case 135:Object.keys(e.rooms).length>2&&modem.devices.applyChanges(e.rooms,!1),u.next=142;break;case 138:u.prev=138,u.t7=u["catch"](0),console.log("ERRORERRORERRORERRORERRORERRORERRORERRORERRORERRORERRORERRORERRORERRORERRORERRORERRORERRORERRORERRORERRORERRORERRORERRORERRORERRORERRORERRORERRORERRORERRORERRORERRORERRORERRORERRORERROR".red),console.log(u.t7);case 142:case"end":return u.stop()}},u,this,[[0,138],[5,23,27,35],[9,16],[28,,30,34],[39,63,67,75],[68,,70,74],[78,92,96,104],[97,,99,103],[107,123,127,135],[111,116],[128,,130,134]])})),modem.devices).httpService),WebSocket=require("websockets/lib/websockets/socket"),NodeWebSocketToJSON=require("NodeWebSocketToJSON"),StreamToJSON=require("StreamToJSON"),PingPongJSON=require("PingPongJSON"),onUpgrade=function(e,r,n){LOG(e.url.red),LOG("checking authorization".red),checkAuthorization(e,null,function(){LOG("authorized".red);var t=new WebSocket(e,r,n,{}),o=function(e){return String(e).match(/^\{"what":"p[io]ng","p[io]ng":"/)};t.on("message",function(r){return!o(r)&&LOG("<< "+e.url.red+" "+r.cyan)}),t.on("dbg_send",function(r){return!o(r)&&LOG(">> "+e.url.red+" "+r.cyan)});var a=t.send;switch(t.send=function(e){this.emit("dbg_send",e),a.apply(this,arguments)},t.on("open",function(){return LOG("websocket open".green,e.url.red)}),t.on("close",function(){return LOG("websocket close".green,e.url.red)}),t.on("error",function(r){return LOG("websocket error".green,e.url.red,r)}),t=PingPongJSON(NodeWebSocketToJSON(t)),t.onerror=function(){return t.close()},e.url){case"/sh":var i=new SubConnections(t);modem.devices.wsService(i.open("database")),commandConnection(i.open("command"));break;case"/devices":case"/places":case"/database":modem.devices.wsService(t);break;case"/commands":commandConnection(t);break;default:t.close()}})},createModemServer=function(e){for(var r,n=arguments.length,t=Array(n>1?n-1:0),o=1;n>o;o++)t[o-1]=arguments[o];return(r=e.createServer(modemService).on("upgrade",onUpgrade)).listen.apply(r,t)};createModemServer(http,config.serviceport,"::"),createModemServer(http,internalModemService);var commonService=require("http_common_server")(function(e){return e.get("/modem_locations",function(e,r){r.json(service.interfaces)})});http.createServer(commonService).listen(config.port,"::");var waitForSocket=function(e){return new Promise(function(r,n){e.on("error",n),e.on("end",n),e.on("connect",r)})},endOnError=function(){this.end()},tellToBoss=function m(){var e=config.boss;e.match(/\:\/\//)||(e="net://"+e);var r=url.parse(e);LOG(("connecting to boss "+r.hostname+":"+r.port).green);var n=net.connect(r.port,r.hostname),t=function(e){return String(e).match(/^\{"what":"p[io]ng","p[io]ng":"/)};n.on("data",function(e){return!t(e)&&LOG("<".red+String(e).blue)}),n.on("dbg_write",function(e){return!t(e)&&LOG(">".red+String(e).green)});var o=n.write;n.write=function(e){this.emit("dbg_write",e),o.apply(this,arguments)},n=PingPongJSON(StreamToJSON(n)),n.onopen=function(){return ra(function(){LOG(auth.modem,auth.modemkey,service.interfaces),n.send({what:"login",client:auth.modem,password:auth.modemkey,modemLocations:service.interfaces,version:2})})};var a=lodash.once(function(){LOG("sheduling reconnect in "+config.restoreConnectionInterval+" ms"),setTimeout(m,config.restoreConnectionInterval)});n.onclose=a,n.onerror=function(e){LOG("boss error: ",e),n.close()},n.onmessage=function(e){var n=Date.now(),t=function(e){return LOG(""+e+" in "+(Date.now()-n)+" ms",process.memoryUsage())};if(LOG("boss data".red,e),e)switch(e.what){case"reconnect for client":co.go(regeneratorRuntime.mark(function o(){var n,a,i,c,s,u,m,d;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:for(n=e.stream,t("creating "+n),a=net.connect(internalModemService),co.defer(function(){return a&&a.end()}),i=net.connect(r.port,r.hostname),co.defer(function(){return i&&i.end()}),t("waiting for handles for "+n),c=waitForSocket(a),s=waitForSocket(i),u=[[c,"modem"],[s,"boss"]],m=function(){var e=_slicedToArray(u[d],2),r=e[0],o=e[1];r.then(function(){return t(""+o+" is ready for "+n)},function(){return t("error in "+o+" connection for "+n)})},d=0;d<u.length;d++)m();return o.next=14,Promise.all([c,s]);case 14:t("informing "+n),i.setTimeout(0),i.setNoDelay(),i.setKeepAlive(!0,3e4),i.write(JSON.stringify({what:"connect to client",client:auth.modem,password:auth.modemkey,stream:n})),i.pipe(a),a.pipe(i),i.on("error",endOnError),a.on("error",endOnError),i=null,a=null;case 25:case"end":return o.stop()}},o,this)}));break;default:LOG("unknown request from boss",e)}}};tellToBoss(),repl&&(global.r=require,require("repl").start({useGlobal:!0,ignoreUndefined:!0}),global.Modem=Modem,global.mm=modem,global.c=function(){for(var e=arguments.length,r=Array(e),n=0;e>n;n++)r[n]=arguments[n];modem.session(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.apply(void 0,r);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},t,this)}))},c.v=c.bind(void 0,"Version"),c.c=function(){var e=void 0===arguments[0]?1:arguments[0];return c("Set_To_Comfort",{group:1021,COMFORT:e})},global.m=function(e){return Modem.extractMessages(e).map(function(e){switch(e.id){case"Change_modem_work_mode":return{Change_modem_work_mode:e.MODEM_MODE};case"Free_Cell_Count":return null;case"answer_Result":return e.RESULT;case"answer_Free_Cell_Count":return{Free_Cell_Count:e.COUNT};case"Change_modem_work_mode":case"Functions":case"answer_Functions":delete e.cmdLo,delete e.cmdHi}return e}).filter(Boolean)});

},{"JSONservice":"/home/vadzim/v/work/nerojs/src/JSONservice.js","LOG":"/home/vadzim/v/work/nerojs/src/LOG.js","NodeWebSocketToJSON":"/home/vadzim/v/work/nerojs/src/NodeWebSocketToJSON.js","PingPongJSON":"/home/vadzim/v/work/nerojs/src/PingPongJSON.js","StreamToJSON":"/home/vadzim/v/work/nerojs/src/StreamToJSON.js","actionToCommands":"/home/vadzim/v/work/nerojs/src/actionToCommands.js","checkreboot":"/home/vadzim/v/work/nerojs/src/checkreboot.js","child_process":false,"co":"/home/vadzim/v/work/nerojs/src/co.js","compression":false,"constants":false,"cookie-parser":"/home/vadzim/v/work/nerojs/node_modules/cookie-parser/index.js","crypto":false,"csvConfig":"/home/vadzim/v/work/nerojs/src/csvConfig.js","deviceActions":"/home/vadzim/v/work/nerojs/src/deviceActions.js","deviceTypes":"/home/vadzim/v/work/nerojs/src/deviceTypes.json","express":false,"fs":false,"glob":"/home/vadzim/v/work/nerojs/node_modules/glob/glob.js","http":false,"http-status":"/home/vadzim/v/work/nerojs/node_modules/http-status/lib/index.js","http_common_server":"/home/vadzim/v/work/nerojs/src/http_common_server.js","http_log":"/home/vadzim/v/work/nerojs/src/http_log.js","inc":"/home/vadzim/v/work/nerojs/src/inc.js","localUtils":"/home/vadzim/v/work/nerojs/src/localUtils.js","lodash":"/home/vadzim/v/work/nerojs/node_modules/lodash/dist/lodash.js","modem":"/home/vadzim/v/work/nerojs/src/modem.js","modemstub":"/home/vadzim/v/work/nerojs/src/modemstub.js","net":false,"os":false,"path":false,"pingpong":"/home/vadzim/v/work/nerojs/src/pingpong.js","platform":"/home/vadzim/v/work/nerojs/src/platform.js","ra":"/home/vadzim/v/work/nerojs/src/ra.js","repl":false,"rewriter":"/home/vadzim/v/work/nerojs/src/rewriter.js","stream":false,"subconnections":"/home/vadzim/v/work/nerojs/src/subconnections.js","uid":"/home/vadzim/v/work/nerojs/src/uid.js","url":false,"watchStop":"/home/vadzim/v/work/nerojs/src/watchStop.js","websockets/lib/websockets/socket":"/home/vadzim/v/work/nerojs/node_modules/websockets/lib/websockets/socket.js","yamljs":"/home/vadzim/v/work/nerojs/node_modules/yamljs/lib/Yaml.js"}],"/home/vadzim/v/work/nerojs/src/subconnections.js":[function(require,module,exports){
"use strict";function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function n(n,e){for(var o=0;o<e.length;o++){var t=e[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}return function(e,o,t){return o&&n(e.prototype,o),t&&n(e,t),e}}(),lodash=require("lodash"),SubConnections=function(){function n(e){var o=this;_classCallCheck(this,n),this._subs=Object.create(null),this._connection=e,this._count=0;for(var t=["onopen","onclose","onerror"],r=function(){var n=t[s];e[n]=function(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];return lodash.forEach(o._subs,function(e){return e[n]&&e[n].apply(e,t)})}},s=0;s<t.length;s++)r();e.onmessage=function(n){var e=o._subs[n.channel];e?e.onmessage&&e.onmessage(n):o.onunknown&&o.onunknown(n)}}return _createClass(n,[{key:"open",value:function(n){var e=this;if(e._subs[n])throw new Error(""+n+" has been already open");return++e._count,e._subs[n]={send:function(o){o.channel=n,e._connection.send(o)},close:function(){e._connection.close()}}}},{key:"close",value:function(){this._connection.close()}}]),n}();module.exports=SubConnections;

},{"lodash":"/home/vadzim/v/work/nerojs/node_modules/lodash/dist/lodash.js"}],"/home/vadzim/v/work/nerojs/src/uid.js":[function(require,module,exports){
"use strict";var counter=0;module.exports=function(t){var r=(++counter).toString(36),n=parseInt(Math.random().toString().slice(2,17)).toString(36),o=(n.length+9).toString(36)+n+r;return null==t?o:(t.uid=o,t)};

},{}],"/home/vadzim/v/work/nerojs/src/watchStop.js":[function(require,module,exports){
"use strict";function watch(e){function r(){setTimeout(function(){process.stderr.write("\n"+"Aborting process".red+" "+pn.yellow+". Changed "+e+"\n"),process.exit(1)},300)}var t=!1;return!function s(){try{fs.watch(e,r),t&&r()}catch(o){t=!0,setTimeout(s,1e4)}}(),module.exports}require("colors");var fs=require("fs"),pn=process.argv[1];watch(pn),module.exports=watch;

},{"colors":"/home/vadzim/v/work/nerojs/node_modules/colors/lib/index.js","fs":false}]},{},["/home/vadzim/v/work/nerojs/node_modules/babelify/polyfill.js","/home/vadzim/v/work/nerojs/src/server.js"]);
